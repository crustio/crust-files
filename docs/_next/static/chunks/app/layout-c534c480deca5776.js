(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{11776:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});let r=[{name:"Welcome",path:"/docs/CrustFiles_Welcome"},{name:"FAQ",path:"/docs/CrustFiles_FAQ"},{name:"Users",path:"/docs/CrustFiles_Users"},{name:"Share-and-Earn",path:"/docs/CrustFiles_ShareandEarn"},{name:"Developer Guide",path:"/docs/CrustFiles_DeveloperGuide"}]},21796:()=>{},37789:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n(37543),i=n(42287),s=n(98563),o=n(14988);function l(e){let{children:t}=e,[n]=(0,i.useState)(()=>new o.E);return(0,s.useServerInsertedHTML)(()=>{let e=n.getStyleElement();return n.instance.clearTag(),(0,r.jsx)(r.Fragment,{children:e})}),(0,r.jsx)(r.Fragment,{children:t})}},44733:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,lP:()=>l,q0:()=>d,st:()=>c,u1:()=>a});var r=n(37543),i=n(19610),s=n.n(i);n(42287);var o=n(14988);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{className:t,children:n,style:i={},...s}=e;return(0,r.jsxs)("div",{className:t,style:{display:"flex",...i},...s,children:[(0,r.jsx)("div",{style:{flex:1,height:1,width:1}}),n,(0,r.jsx)("div",{style:{flex:1,height:1,width:1}})]})}let c=o.Ay.div.withConfig({componentId:"sc-c9396125-0"})(["display:flex;flex-direction:row;"]),a=o.Ay.div.withConfig({componentId:"sc-c9396125-1"})(["display:flex;flex-direction:column;"]),d="Crust Files",u=(0,o.Ay)(function(e){let{children:t,className:n}=e;return(0,r.jsxs)("div",{className:n,children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,r.jsx)("meta",{name:"description",content:"Crust Files, the Web3.0 file storage application"}),(0,r.jsx)("meta",{name:"og:title",content:d})]}),t]})}).withConfig({componentId:"sc-c9396125-2"})(["width:100%;height:100%;max-height:100%;overflow:auto;"])},55503:(e,t,n)=>{Promise.resolve().then(n.bind(n,79651)),Promise.resolve().then(n.bind(n,37789)),Promise.resolve().then(n.t.bind(n,70103,23)),Promise.resolve().then(n.t.bind(n,65911,23)),Promise.resolve().then(n.t.bind(n,21796,23))},57728:(e,t,n)=>{"use strict";n.d(t,{rE:()=>o,wh:()=>l});var r=n(42287),i=n(99820),s=n(12273);function o(){let[e,t]=(0,r.useState)({});return s.H&&(window.__store=e),{store:e,update:e=>{t(t=>(s.H&&console.info("store->",e,t),{...t,[e.key]:e.value}))}}}function l(e){let{store:t,update:n}=function(){let{store:e}=(0,i.nm)();return e}();return(0,r.useEffect)(()=>e.value&&n(e),[e.value]),t}},79651:(e,t,n)=>{"use strict";n.d(t,{ClientRoot:()=>en});var r=n(37543),i=n(77489),s=n(23137),o=n(10422),l=n(19610),c=n.n(l),a=n(42287),d=n(60091),u=n(46624),h=n(25728),m=n(21126),f=n(26004),x=n(99820),p=n(67066),g=n.n(p);let v={last:0};var j=n(30172),y=n(57728),b=n(70145),w=n(28518),k=n(77278),C=n.n(k),A=n(41129),E=n(14988),F=n(87413);let _=a.memo((0,E.Ay)(function(e){let{className:t}=e,{alert:n}=(0,a.useContext)(x.BR),s=(0,i.a)(),o=""===s||"/"===s;return(0,r.jsx)("div",{className:C()(t,{isMain:o}),children:n.alerts.map((e,t)=>{var i;return(0,r.jsx)(a.Fragment,{children:e.modal?(0,r.jsx)("div",{style:{position:"fixed",top:0,width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(0,0,0, 0.3)"},children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:8,overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{borderBottom:"1px solid #eeeeee",padding:14},children:[(0,r.jsx)("span",{style:{fontSize:22,color:"#333333"},children:e.title?e.title:"error"===e.type?"Error":"warn"===e.type?"Warning":"success"===e.type?"Success":""}),(0,r.jsx)("span",{className:"close cru-fo-x",onClick:()=>n.close(e)})]}),(0,r.jsxs)("div",{style:{padding:14,minWidth:"260px",maxWidth:"400px"},children:[(0,r.jsx)("div",{style:{fontSize:18,color:"#666666",marginBottom:"1.6rem"},children:e.msg}),(0,r.jsx)(F.A,{fluid:!0,className:"ok",content:"OK",onClick:()=>n.close(e)})]})]})}):(0,r.jsxs)(A.A,{className:C()("msg","font-sans-regular",{isMain:o}),size:"small",children:[(0,r.jsx)("span",{className:"cru-fo ".concat("success"===(i=e.type)?"cru-fo-check-circle":"error"===i?"cru-fo-x-circle":"cru-fo-info-circle"," ").concat(e.type)}),e.title&&(0,r.jsx)(A.A.Header,{children:e.title}),(0,r.jsx)(A.A.Content,{children:e.msg})]},"alert_".concat(t))},t)})})}).withConfig({componentId:"sc-8e149242-0"})(["position:fixed;width:100%;height:0;overflow:visible;z-index:10000;top:2.3rem;display:flex;flex-direction:column;align-items:center;left:0;.msg{flex-shrink:0;display:flex;align-items:center;padding:1.14rem 1.7rem;background:#FFFFFF;box-shadow:0 0.57rem 1.14rem 0 rgba(0,0,0,0.1) !important;border-radius:0.86rem !important;border:0.07rem solid #EEEEEE;&.isMain{border:unset;margin-right:3.4rem;.content{}}.content{display:inline-block;color:var(--secend-color) !important;font-size:1.14rem;}}.cru-fo{font-size:1.4rem;float:left;margin-right:0.8rem;display:inline-block;}.success{color:#56CB8F;}.error{color:#F37565;}.warn{color:#cbae56;}.info{color:#3b62d2;}.close{cursor:pointer;float:right;margin-top:5px;vertical-align:baseline;right:1rem;font-size:1rem;color:#666666;&:hover{color:#333333;}}"]));var N=n(75453),S=n(7769);let I=(0,E.Ay)(function(e){let{recaptcha:t,alert:n}=(0,x.nm)(),{_onChange:i,_onExpired:s,_onLoaded:o,loadingScript:l,showReCaptcha:c}=t;return(0,r.jsx)(r.Fragment,{children:c&&(0,r.jsx)("div",{className:e.className,style:{display:"flex",position:"fixed",zIndex:1e5,background:"rgba(0,0,0,0.4)",justifyContent:"center",alignItems:"center",left:0,top:0,width:"100vw",height:"100vh"},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#ffffff",borderRadius:20,width:500,height:300},children:[l&&(0,r.jsx)(u.A,{active:!0,inverted:!0,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh"},children:(0,r.jsx)(h.A,{size:"large",inverted:!0,content:"Loading"})}),(0,r.jsx)(N.A,{languageOverride:"en",sitekey:S._z,onLoad:o,onVerify:i,onError:e=>{n.error(e)},onExpire:s}),(0,r.jsx)("div",{style:{height:40}}),(0,r.jsx)(F.A,{content:"Cancel",onClick:()=>{i("")}})]})})})}).withConfig({componentId:"sc-7c9f3b4f-0"})(["background-color:black;.rc-frame{}"]);var L=n(44733),z=n(98563);function P(e){return(0,r.jsxs)(r.Fragment,{children:[e.children,(0,r.jsx)(u.A,{active:!0,inverted:!0,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh"},children:(0,r.jsx)(h.A,{active:!0,inverted:!0,size:"large"})})]})}let M=["/files/share","/files/receive","/upfile"];function T(e){var t;let n=(0,w.ZR)(),s=(0,z.useRouter)(),o=null!=(t=(0,i.a)())?t:"";return M.includes(o)?e.children:n.account&&n.authBasic||""===o||"/"===o?n.account&&n.authBasic&&(""===o||"/"===o)?(setTimeout(()=>s.replace("/home/".concat(window.location.search)),50),(0,r.jsx)(P,{children:e.children})):e.children:(setTimeout(()=>s.replace("/"),50),(0,r.jsx)(P,{children:e.children}))}var B=n(41613);function R(e){let{setMiniAppReady:t,isMiniAppReady:n}=(0,B.dI)(),i=(0,w.yh)(),s=!i.isLoad;return(0,a.useEffect)(()=>{s&&!n&&t()},[s]),(0,r.jsx)(w.qr.Provider,{value:i,children:"function"==typeof e.children?e.children({user:i}):e.children})}var H=n(11319),O=n(64535),W=n(79218),K=n(14134),q=n(35311),D=n(55036);function U(e){let t=function(){let[e,t]=(0,a.useState)([]),n=(0,a.useCallback)(e=>{t(t=>g().concat(t,e)),e.modal||(v.last=setTimeout(()=>{v.last=0,t(e=>{let t=g().find(e,e=>!e.modal);return t?g().filter(e,e=>e!==t):e})},5e3))},[]),r=(0,a.useCallback)((e,t)=>{n({type:"error",msg:e,title:t})},[n]),i=(0,a.useCallback)((e,t)=>{n({type:"error",modal:!0,msg:e,title:t})},[n]),s=(0,a.useCallback)((e,t)=>{n({type:"info",msg:e,title:t})},[n]),o=(0,a.useCallback)((e,t)=>{n({type:"warn",msg:e,title:t})},[n]),l=(0,a.useCallback)((e,t)=>{n({type:"warn",modal:!0,msg:e,title:t})},[n]),c=(0,a.useCallback)((e,t)=>{n({type:"success",msg:e,title:t})},[n]),d=(0,a.useCallback)(e=>{t(t=>g().filter(t,t=>t!==e))},[]);return(0,a.useMemo)(()=>({alert:n,alerts:e,error:r,info:s,warn:o,success:c,errorModal:i,warnModal:l,close:d}),[e,n,r,s,o,c,i,l,d])}(),n=(0,j.R)(),i=function(){let[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)("Loading"),i=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading";r(e),t(()=>!0)},[]),s=(0,a.useCallback)(()=>{t(()=>!1)},[]);return(0,a.useMemo)(()=>({isLoading:e,show:i,hide:s,msg:n}),[e,i,s,n])}(),s=(0,y.rE)(),o=function(){let[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(),[i,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)({});return{loadingScript:e,token:n,showReCaptcha:i,getToken:()=>new Promise(e=>{l({call:e}),s(!0)}),_onLoaded:()=>{t(!1)},_onChange:e=>{r(e),o.call&&o.call(e),s(!1)},_onExpired:()=>{r(void 0)}}}(),l=(0,a.useMemo)(()=>({alert:t,api:n,loading:i,store:s,recaptcha:o}),[t,n,i,s,o]);return(0,r.jsx)(x.Dv,{value:l,children:e.children})}function Z(e){let{loading:t}=(0,x.nm)(),n=e.show||t.isLoading,i=e.show?e.msg||"Loading":t.msg;return(0,r.jsx)(u.A,{active:n,inverted:!0,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh"},children:(0,r.jsx)(h.A,{size:"large",inverted:!0,content:i})})}function G(e){let{children:t}=e;return(0,r.jsxs)(U,{children:[(0,r.jsx)(c(),{children:(0,r.jsx)("title",{children:L.q0})}),(0,r.jsxs)(L.Ay,{children:[t,(0,r.jsx)(Z,{})]}),(0,r.jsx)(_,{})]})}function Q(){let e=(0,w.ZR)(),{account:t,wallet:n}=e;return(0,a.useEffect)(()=>{t&&"crust"===n&&(e.setIsLoadingNickname(!0),(0,b.r4)(t).then(e.setMember).catch(console.error).then(()=>(0,b.vZ)(t)).then(t=>e.setNickName(t)).catch(console.error).then(()=>e.setIsLoadingNickname(!1))),e.setMember(void 0),e.setNickName("")},[t,n]),null}function V(e){let{children:t}=e,n=(0,B.dI)(),i=(0,a.useMemo)(()=>(0,H.Z)({chains:Object.values(K.v),connectors:[n.context?(0,W.G4)():(0,q.m)({appName:"Crust Files",appLogoUrl:"https://crustfiles.io/logo.png",preference:"all"})],transports:{}}),[n.context]);return(0,r.jsx)(O.x,{config:i,children:(0,r.jsx)(R,{children:e=>{let{user:n}=e;return(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(Q,{}),(0,r.jsxs)(U,{children:[(0,r.jsx)(c(),{children:(0,r.jsx)("title",{children:L.q0})}),(0,r.jsxs)(L.Ay,{children:[!n.isLoad&&(0,r.jsx)(T,{children:t}),(0,r.jsx)(Z,{show:n.isLoad}),(0,r.jsx)(I,{})]}),(0,r.jsx)(_,{})]})]})}})})}let Y=["/share","/invite_bonus_guide","/rewards_history"];function J(e){let{children:t}=e,n=(0,i.a)(),l=(0,a.useMemo)(()=>Y.includes(n),[n]);return!function(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{s.Ay.use(new o.A).use(d.r9).init({backend:{loadPath:"/locales/{{lng}}.json"},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}},()=>{t(!0)})},[]),e}()?(0,r.jsx)("div",{}):l?(0,r.jsx)(G,{children:t}):(0,r.jsxs)(m.QM,{apiKey:D.env.NEXT_PUBLIC_ONCHAINKIT_API_KEY,chain:f.E,miniKit:{enabled:!0},children:[(0,r.jsx)(V,{children:t}),";"]})}var X=n(11776),$=n(99186);let ee=["/privacy-policy","/terms-of-service",...X.w.map(e=>e.path)];function et(e){let{error:t,reset:n}=e;return(0,a.useEffect)(()=>{console.error(t)},[t]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Something went wrong!"}),(0,r.jsx)("button",{onClick:()=>n(),children:"Try again"}),(0,r.jsx)("div",{style:{fontSize:12,lineHeight:1.1,color:"#ff4141",maxHeight:200,overflowY:"auto"},children:JSON.stringify(t,void 0,2)})]})}function en(e){let{children:t}=e,n=(0,i.a)();return(0,r.jsx)($.ErrorBoundary,{errorComponent:et,children:ee.includes(n)?(0,r.jsx)(a.Fragment,{children:t}):(0,r.jsx)(J,{children:t})})}},87413:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(37543),i=n(42287),s=n(5416),o=n(14988);let l=i.memo((0,o.Ay)(function(e){return(0,r.jsx)(s.A,{...e})}).withConfig({componentId:"sc-16684937-0"})(["background:unset !important;border:1px solid var(--primary-color) !important;color:var(--primary-color) !important;font-weight:normal !important;border-radius:10px !important;&:disabled{cursor:not-allowed !important;}&:hover{background:var(--primary-color) !important;color:white !important;}"]))}},e=>{var t=t=>e(e.s=t);e.O(0,[7558,6694,1685,3265,7426,5666,8770,6672,6059,913,4878,4521,6643,5416,4978,3450,8798,91,1336,5380,1881,2680,7358],()=>t(55503)),_N_E=e.O()}]);