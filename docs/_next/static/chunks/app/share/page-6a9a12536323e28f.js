(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9038],{10664:(e,t,r)=>{"use strict";r.d(t,{M:()=>l});var n=r(3821),i=r(74638),a=r.n(i),o=r(12034);let s=[{text:"https://ipfs.io",value:"https://ipfs.io"},{text:"https://crustgateway.online",value:"https://crustgateway.online"},{text:"https://gw.w3ipfs.org.cn",value:"https://gw.w3ipfs.org.cn"}];function l(){let[e,t]=(0,n.useState)({gateway:"https://ipfs.io"}),[r,i]=(0,n.useState)(s);(0,n.useEffect)(()=>{let e=a().get("downloadgateway");e&&t(e),a().get("allDownloadGateways"),r&&i(r)},[]);let l=(0,n.useCallback)(e=>{let r={gateway:e};t(r),a().set("downloadgateway",r)},[]),[c]=(0,o.O)(()=>fetch("https://gist.githubusercontent.com/XueMoMo/2cfc982ce6aefb85e09313b714a029bd/raw/CrustFilesDownloadGateway.json").then(e=>e.json()).then(e=>e.map(e=>({text:e,value:e}))),[]);return(0,n.useEffect)(()=>{c&&c.length&&(a().set("allDownloadGateways",c),i(c))},[c]),(0,n.useMemo)(()=>({...e,set:l,allDownloadGateways:r}),[e,l,r])}},12034:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(3821);let i={};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:800,[o,s]=(0,n.useState)(),[l,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e={cancel:!1};return d(e),()=>{e.cancel=!0}},t);let u=()=>{if(!r)return e();{let t=new Date().getTime(),n=i[r],o=!n||t-n.time>a,s=o?e():n.get;return i[r]={time:o?t:n.time,get:s},s}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cancel:!1};if(t.length&&t.some(e=>!e))return Promise.resolve(o);s(void 0),c(!0);let n=u();if(n.then)return n.then(t=>(r&&console.info("cache:",r,t),e.cancel||s(t),t)).catch(console.error).then(t=>(e.cancel||c(!1),t))};return[o,d,l]}},20588:(e,t,r)=>{"use strict";r.d(t,{HD:()=>b,dZ:()=>p,xq:()=>m,yw:()=>h});var n=r(29913),i=r(11170),a=r.n(i),o=r(3821),s=r(23472),l=r(55982),c=r.n(l);let u=(e,t)=>"string"==typeof e?e:t?"".concat(c().round(e),"px"):"".concat(c().round(e,4),"rem"),d=e=>"number"==typeof e||e.endsWith("px"),p=(0,s.Ay)(function(e){let{className:t,position:r="left",fullH:i=!1,count:s=3,width:l=120,color:p="#191919",fillColor:g="#000000",type:m=2}=e,f=i?s+1:s,h=d(l),b="number"==typeof l?l:c().toNumber(l.replace("px","").replace("rem","")),x=(0,o.useMemo)(()=>b/f,[l,f]),y=(0,o.useMemo)(()=>((f-1)*2+m)*x,[f,m,x]),w=(0,o.useMemo)(()=>{let e=[];for(let t=0;t<f;t++){let n=0===t&&i,a=n?"100%":y-2*t*x,o=u(a,h),s=n?0:"calc(50% - ".concat(u(a/2,h),")"),l={position:"absolute",height:o,width:u(x,h),top:s,backgroundColor:p};"left"===r?l.left=u(t*x,h):"right"===r&&(l.right=u(t*x,h)),e.push({style:l})}return e},[f,x,y,i,r,h]),v=(0,o.useMemo)(()=>{let e=[];for(let t=0;t<f-1;t++){let n=y-(t+1)*2*x,i=u(n,h),a="calc(50% - ".concat(u(n/2,h),")"),o={position:"absolute",height:i,width:u(x,h),top:a,zIndex:2,backgroundColor:g};"left"===r?o.left=u(t*x,h):"right"===r&&(o.right=u(t*x,h)),e.push({style:o})}return e},[f,x,y,i,r,h]);return(0,n.jsxs)("div",{className:a()(t,"Pixel_".concat(r)),children:[w.map((e,t)=>(0,n.jsx)("div",{style:e.style},"pixels_".concat(t))),v.map((e,t)=>(0,n.jsx)("div",{style:e.style},"fill_pixels_".concat(t)))]})}).withConfig({componentId:"sc-3b00e8d-0"})(["z-index:2;display:flex;height:100%;position:relative;width:",";&.Pixel_left{flex-direction:row;}&.Pixel_right{flex-direction:row-reverse;}"],e=>{let{width:t=120}=e;return"number"==typeof t?t+"px":t}),g="#000000",m=(0,s.Ay)(function(e){let{height:t=60,className:r,color:i="#999999",fillColor:o=g,content:s,disabled:l,unClick:m,onClick:f}=e,h=d(t),b=u(("number"==typeof t?t:c().toNumber(t.replace("px","").replace("rem","")))/5*3,h);return(0,n.jsxs)("div",{className:a()(r,{disabled:l,unClick:m}),onClick:f,children:[(0,n.jsx)(p,{type:1,width:b,color:i,fillColor:o,position:"right"}),(0,n.jsx)("div",{className:"btn_content",children:s}),(0,n.jsx)(p,{type:1,width:b,color:i,fillColor:o,position:"left"})]})}).withConfig({componentId:"sc-3b00e8d-1"})(["display:flex;user-select:none;align-items:center;width:min-content;height:",";cursor:pointer;&.disabled{cursor:not-allowed;opacity:0.6;}&.unClick{cursor:default;}.btn_content{height:100%;line-height:",";padding:0 20px;min-width:calc(130px + 7.14rem);font-size:1.71rem;font-family:OpenSans-SemiBold;color:white;text-align:center;background-color:",";}&:hover{}"],e=>{let{height:t}=e;return u(t,d(t))},e=>{let{height:t}=e;return u(t,d(t))},e=>{let{fillColor:t=g}=e;return t}),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.ceil(.725*e*t)},h=s.Ay.div.withConfig({componentId:"sc-3b00e8d-2"})(["color:white;font-family:'OpenSans-SemiBold';font-size:32px;line-height:","px;height:","px;text-align:center;width:357px;cursor:pointer;transition:all ease-in-out 200ms;background-image:url('/images/btn/btn_bg_l.png'),url('/images/btn/btn_bg_c.png'),url('/images/btn/btn_bg_r.png');background-position:0 0,","px 0,right center;background-repeat:no-repeat;background-attachment:scroll;background-size:","px 100%,calc(100% - ","px) 100%,","px 100%;&.dark{background-image:url('/images/btn/btn_dark_bg_l.png'),url('/images/btn/btn_dark_bg_c.png'),url('/images/btn/btn_dark_bg_r.png');}transform-origin:center top;&.style_left{transform-origin:right top;background-image:url('/images/btn/btn_bg_l.png'),url('/images/btn/btn_bg_c.png'),url('/images/btn/btn_bg_r2.png');&.dark{background-image:url('/images/btn/btn_dark_bg_l.png'),url('/images/btn/btn_dark_bg_c.png'),url('/images/btn/btn_dark_bg_r2.png');}}&.style_right{transform-origin:left top;background-image:url('/images/btn/btn_bg_l2.png'),url('/images/btn/btn_bg_c.png'),url('/images/btn/btn_bg_r.png');&.dark{background-image:url('/images/btn/btn_dark_bg_l2.png'),url('/images/btn/btn_dark_bg_c.png'),url('/images/btn/btn_dark_bg_r.png');}}@media screen and (max-width:1440px){transform:scale(0.9);}@media screen and (max-width:1296px){transform:scale(0.8);}"],e=>{let{height:t=51}=e;return t},e=>{let{height:t=51}=e;return t},e=>{let{height:t=51}=e;return f(t)-2},e=>{let{height:t=51}=e;return f(t)},e=>{let{height:t=51}=e;return f(t,2)-4},e=>{let{height:t=51}=e;return f(t)}),b=s.Ay.div.attrs(e=>({board_size:e.board_size||12})).withConfig({componentId:"sc-3b00e8d-3"})(["padding:","px;background-repeat:no-repeat;background-size:calc(100% - ","px) ","px,calc(100% - ","px) ","px,","px calc(100% - ","px),","px calc(100% - ","px);background-position:","px top,","px bottom,left ","px,right ","px;background-image:linear-gradient(0deg,black,black),linear-gradient(0deg,black,black),linear-gradient(0deg,black,black),linear-gradient(0deg,black,black);"],e=>e.board_size,e=>2*e.board_size,e=>e.board_size,e=>2*e.board_size,e=>e.board_size,e=>e.board_size,e=>2*e.board_size,e=>e.board_size,e=>2*e.board_size,e=>e.board_size,e=>e.board_size,e=>e.board_size,e=>e.board_size)},20692:(e,t,r)=>{"use strict";r.d(t,{A:()=>T,i:()=>S});var n=r(29913),i=r(35648),a=r(91933),o=r.n(a),s=r(18077),l=r(36450),c=r.n(l),u=r(55982),d=r.n(u),p=r(3821),g=r(93572),m=r(59544),f=r(17468),h=r(23472),b=r(87080),x=r(35969),y=r(59061),w=r(73112),v=r(10664),k=r(87545),_=r(34133),A=r(41207),C=r(6271),j=r(31100),N=r(64881);let S=["https://crustipfs.live","https://crustipfs.art","https://crustipfs.info","https://web3files.world","https://web3files.live","https://storagefiles.site","https://storagefiles.space","https://crustipfs.tech"];function E(e,t,r){return"".concat(r,"/ipfs/").concat(e.Hash,"?filename=").concat(e.Name)}async function z(e,t){var r;let n=await (0,_.Y)(e.Hash,{name:e.Name,encrypted:null!=(r=e.Encrypted)&&r,gateway:e.UpEndpoint,fromAccount:t.account,fromWallet:t.wallet,from:t.nickName,isDir:!!e.items});return(0,k.z)({type:3,walletType:t.wallet,address:t.account,data:{cid:e.Hash,fileType:+!!e.items,strategy:+!!e.Encrypted,shareType:0}}),"".concat(window.location.origin,"/share?code=").concat(n)}function D(e){try{return JSON.parse(JSON.stringify(e))}catch(e){return{expired_at:0,reported_replica_count:0,amount:0,file_size:0,prepaid:!1}}}let T=p.memo((0,h.Ay)(function(e){var t,r,a,l;let{file:u,className:h,uc:k,onDelete:_,type:S="public"}=e,T=(0,w.i)(),{api:M,alert:R,loading:F}=(0,p.useContext)(b.BR),{endpoints:I}=(0,A.e)(),{gateway:O}=(0,v.M)(),P=(0,p.useCallback)(async()=>{if(u.Encrypted&&0===d().size(u.items))try{if(!k.secret)return;F.show();let e=E(u,I,O),t=await o().get(e,{responseType:"arraybuffer"});console.info("res::",t);let r=new Date().getTime(),n=await (0,x.I)(t.data,k.secret);if(console.info("decrypt:",(new Date().getTime()-r)/1e3),!n)throw"error";console.info("de:",n);let i=new File([n],u.Name,{type:t.headers["content-type"]});(0,s.saveAs)(i,u.Name),F.hide()}catch(e){F.hide(),R.error("Decrypt error")}else{let e=E(u,I,O);window.open(e,"_blank")}},[k,u,I,O]),L=(0,j.ZR)(),U=async()=>{try{let e=await z(u,L);window.open(e,"_blank")}catch(e){R.error((0,C.Yf)(e))}},H=async()=>{try{let e=await z(u,L),t=L.nickName?"Check out what '".concat(L.nickName,"' is sharing on Crust Files!"):"Check out what I am sharing on Crust Files!",r="https://twitter.com/intent/tweet?text=".concat(encodeURI(t),"&url=").concat(encodeURIComponent(e),"&hashtags=web3,ipfs,crustnetwork,metaverse,crustfiles");window.open(r,"_blank")}catch(e){R.error((0,C.Yf)(e))}},q=M&&(null==(t=M.query)?void 0:t.market)&&((0,i.T)(M.query.market.filesV2)?M.query.market.filesV2:M.query.market.files),B=M&&(null==(r=M.query)?void 0:r.market)&&M.query.market.files,G=!!q,K=(0,y.Gc)(q,[u.Hash]),Y=(0,y.Gc)(B,[u.Hash]),V=(0,y.Gc)(null==M||null==(l=M.derive)||null==(a=l.chain)?void 0:a.bestNumber),W=V&&V.toNumber(),J=(0,p.useMemo)(()=>{let e={status:"Submitted"};if(Y&&!Y.isEmpty){let{expired_at:t,reported_replica_count:r,amount:n,file_size:i,prepaid:a}=D(Y);e.expireTime=t,e.amount=n,e.startTime=t?t-216e3:0,e.fileSize=i,e.confirmedReplicas=r,e.prepaid=a,t&&W&&t<W&&(e.status="Expired"),r<1&&(e.status="Submitted"),t&&W&&t>W&&r>0&&(e.status="Success")}else if(K&&!K.isEmpty){let{expired_at:t,reported_replica_count:r,amount:n,file_size:i,prepaid:a}=D(K);e.expireTime=t,e.amount=n,e.startTime=t?t-216e3:0,e.fileSize=i,e.confirmedReplicas=r,e.prepaid=a,t&&W&&t<W&&(e.status="Expired"),r<1&&(e.status="Submitted"),t&&W&&t>W&&r>0&&(e.status="Success")}else G&&new Date().getTime()-u.PinTime>=72e5&&(e.status="Failed");return W||(e.status="Loading"),e},[Y,K,W]);return(0,n.jsxs)(g.A.Row,{className:h,children:[(0,n.jsxs)(g.A.Cell,{className:"fileName",children:[(0,C.wh)(u.Name),u.items&&(0,n.jsx)("span",{className:"icon cru-fo-folder"}),u.Encrypted&&(0,n.jsx)(m.A,{trigger:(0,n.jsx)("span",{className:"icon cru-fo-key"}),content:"Encrypted",position:"top center"})]}),(0,n.jsxs)(g.A.Cell,{textAlign:"center",children:[(0,C.wh)(u.Hash),(0,n.jsx)(m.A,{position:"top center",content:"Copy File CID",trigger:(0,n.jsx)("span",{className:"cru-fo cru-fo-copy",onClick:()=>T(u.Hash),style:{marginLeft:"1.8rem"}})})]}),(0,n.jsx)(g.A.Cell,{textAlign:"center",style:{textTransform:"uppercase"},children:c()(Number(u.Size),{round:2})}),(0,n.jsxs)(g.A.Cell,{textAlign:"center",style:{whiteSpace:"nowrap"},children:["Loading"===J.status&&(0,n.jsx)(f.A,{loading:!0,name:"spinner"}),"Submitted"===J.status&&J.status,"Expired"===J.status&&J.status,"Failed"===J.status&&J.status,"Success"===J.status&&"".concat(J.status," (").concat(J.confirmedReplicas," Replicas)")]}),(0,n.jsxs)(g.A.Cell,{textAlign:"center",children:[(0,n.jsx)(m.A,{position:"top center",content:"Open",trigger:(0,n.jsx)("span",{className:"cru-fo cru-fo-external-link",style:{marginLeft:"1rem"},onClick:P})}),(0,n.jsx)(m.A,{position:"top center",content:"Delete",trigger:(0,n.jsx)("span",{className:"cru-fo cru-fo-trash-2",style:{marginLeft:"1rem"},onClick:()=>{_(u)}})}),(0,n.jsx)(m.A,{position:"top center",content:"IPFS Scan",trigger:(0,n.jsx)("span",{className:"cru-fo cru-fo-search",style:{marginLeft:"1rem"},onClick:()=>{window.open("https://ipfs-scan.io?cid=".concat(u.Hash),"_blank")}})})]}),"public"===S&&(0,n.jsx)(g.A.Cell,{textAlign:"center",singleLine:!0,children:(0,n.jsxs)("div",{className:"btns",children:[(0,n.jsx)(N.A,{className:"item-share-btn",onClick:U,children:"Share"}),(0,n.jsx)(m.A,{position:"top center",content:"Quick Tweet",trigger:(0,n.jsx)("span",{className:"cru-fo cru-fo-twitter",onClick:H,style:{top:0}})})]})})]})}).withConfig({componentId:"sc-39df1619-0"})(["color:var(--secend-color) !important;.cru-fo,.icon{cursor:pointer;font-size:1.3rem;position:relative;top:0.3rem;}.fileName{.icon{margin-left:0.6rem;}}.item-share-btn{padding:5px 11px !important;border-radius:8px !important;}td.center{text-align:center;}td.right{text-align:right;}.btns{display:flex;align-items:center;justify-content:center;gap:0.5rem;}"]))},23094:(e,t,r)=>{Promise.resolve().then(r.bind(r,25169))},25169:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(29913),i=r(11170),a=r.n(i),o=r(84371),s=r(3821),l=r(23472),c=r(20588),u=r(20692),d=r(88593),p=r(56446),g=r(87080),m=r(73112),f=r(66796),h=r(87545),b=r(34133),x=r(6271),y=r(18041);let w=s.memo((0,l.Ay)(function(e){let{className:t}=e,{push:r}=(0,o.useRouter)(),i=(0,o.useSearchParams)(),l=i.get("cid"),y=i.get("options"),w=i.get("code"),{alert:v,loading:k}=(0,g.nm)(),[_,A]=(0,f.S)(),{options:C,cid:j}=_||{};(0,s.useEffect)(()=>{l&&A({options:JSON.parse(y),cid:l}),w&&(k.show(),(0,b.RH)(w).then(e=>A({...e})).catch(e=>v.error((0,x.Yf)(e))).then(k.hide))},[l,w,y]),(0,s.useEffect)(()=>{j&&C&&(0,h.z)({type:3,walletType:C.fromWallet,address:C.fromAccount,data:{cid:j,fileType:+!!C.isDir,strategy:+!!C.encrypted,shareType:1}})},[j,C]);let N=(0,s.useMemo)(()=>{if(!C||!j)return"";let e=new Date().getTime(),t=u.i[e%8];return"".concat(t,"/ipfs/").concat(j,"?filename=").concat(C.name)},[C,j]),S=(0,m.i)(),{from:E}=C||{};return(0,n.jsxs)("div",{className:a()(t),children:[(0,n.jsxs)("div",{className:"share--panel",children:[(0,n.jsx)("img",{className:"logo",src:"/images/logo_12x.png"}),(0,n.jsx)("div",{className:"share--flex1"}),(0,n.jsxs)("div",{className:"share-info",children:[_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"title",children:[E&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:E}),(0,n.jsx)("br",{})]}),"is sharing something",(0,n.jsx)("br",{}),"from Crust Files."]}),(0,n.jsx)("div",{className:"link",children:"File CID: ".concat(j)}),(0,n.jsxs)(d.st,{className:"btns",children:[(0,n.jsx)(c.xq,{onClick:()=>{window.open(N,"_blank")},height:"4.29rem",content:"Open File"}),(0,n.jsx)("div",{style:{width:"2.2857rem"}}),(0,n.jsx)(c.xq,{onClick:()=>{S(window.location.href)},color:"#E46A11",fillColor:"#FF8D00",height:"4.29rem",content:"Copy Link"})]})]}),(0,n.jsx)("div",{className:"go-to",onClick:()=>r("/"),children:"Go to Crust Files"})]}),(0,n.jsx)("div",{className:"share--flex1"})]}),(0,n.jsx)("div",{className:"share--pixels",children:(0,n.jsx)(c.dZ,{className:"pixel_right",position:"right",fullH:!0,color:"#E46A11",fillColor:"#FF8D00"})}),(0,n.jsxs)("div",{className:"share--activity",children:[(0,n.jsxs)("div",{className:"text",children:["Your",(0,n.jsx)("br",{}),"first personal",(0,n.jsx)("br",{}),"Web3.0 storage",(0,n.jsx)("br",{}),"in the Metaverse.",(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"footer",children:(0,n.jsx)(p.q,{className:"links"})})]})]})}).withConfig({componentId:"sc-1862c1c-0"})(["width:100%;height:100vh;min-height:70rem;background:white;display:flex;.share--flex1{flex:1;}.share--panel{display:flex;flex-direction:column;position:relative;height:100%;flex:1;align-items:center;.logo{height:2.5rem;align-self:flex-start;margin-top:2.57rem;margin-left:3.57rem;}.share-info{width:49.07rem;padding-bottom:10rem;.title{font-size:4.29rem;line-height:5.86rem;font-family:OpenSans-SemiBold;color:black;span{color:var(--primary-color);}}.link{font-size:2rem;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:2.71rem;margin-top:1.71rem;margin-bottom:6rem;color:var(--secend-color);}.go-to{font-size:2rem;margin-top:5.4286rem;line-height:2.71rem;color:black;text-decoration:underline;cursor:pointer;}}}.share--pixels{width:12.86rem;position:relative;flex-shrink:0;.pixel_right{position:absolute;right:0;top:0;}}.share--activity{background:var(--primary-color);padding:6.14rem .71rem 4rem 1.43rem;width:35.36rem;flex-shrink:0;display:flex;flex-direction:column;.text{font-size:4.29rem;line-height:5.86rem;font-family:OpenSans-SemiBold;color:#FFE2C8;span{color:white;}}.footer{display:flex;flex-direction:column;align-items:flex-start;margin-top:2rem;}.links{margin-top:1rem;flex-shrink:0;height:2.71rem;align-items:center;}}","{min-width:unset;flex-direction:column;align-items:center;gap:20px;.share--panel{width:100%;padding:16px;.logo{margin-bottom:30px;}.share-info{width:100%;padding-bottom:unset;.btns{flex-wrap:wrap;gap:12px;}}}.share--pixels{display:none;}.share--activity{width:100%;}}"],y.TQ))},27571:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var n=r(14279),i=r(54634);let a=function(e,t,r){"__proto__"==t&&i.A?(0,i.A)(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var o=r(15601),s=Object.prototype.hasOwnProperty;let l=function(e,t,r){var n=e[t];s.call(e,t)&&(0,o.A)(n,r)&&(void 0!==r||t in e)||a(e,t,r)};var c=r(81435),u=r(79451),d=r(77492),p=r(98180);let g=function(e,t,r,n){if(!(0,d.A)(e))return e;t=(0,c.A)(t,e);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var g=(0,p.A)(t[i]),m=r;if("__proto__"===g||"constructor"===g||"prototype"===g)break;if(i!=o){var f=s[g];void 0===(m=n?n(f,g,s):void 0)&&(m=(0,d.A)(f)?f:(0,u.A)(t[i+1])?[]:{})}l(s,g,m),s=s[g]}return e},m=function(e,t,r){for(var i=-1,a=t.length,o={};++i<a;){var s=t[i],l=(0,n.A)(e,s);r(l,s)&&g(o,(0,c.A)(s,e),l)}return o};var f=r(47946),h=r(58932);let b=function(e){return(null==e?0:e.length)?(0,h.A)(e,1):[]};var x=r(34844),y=r(21323);let w=function(e){return(0,y.A)((0,x.A)(e,void 0,b),e+"")}(function(e,t){return null==e?{}:m(e,t,function(t,r){return(0,f.A)(e,r)})})},35969:(e,t,r)=>{"use strict";r.d(t,{I:()=>o,o:()=>a});let n=async e=>window.crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveKey"]),i=async(e,t,r)=>window.crypto.subtle.deriveKey(r,e,{name:"AES-GCM",length:256},!1,t),a=async(e,t)=>{try{let r=new Uint8Array(e),a=new TextEncoder().encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),s=window.crypto.getRandomValues(new Uint8Array(12)),l=await n(a),c=await i(l,["encrypt"],{name:"PBKDF2",salt:o,iterations:25e4,hash:"SHA-256"}),u=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},c,r),d=new Uint8Array(u),p=new Uint8Array(d.byteLength+o.byteLength+s.byteLength);return p.set(o,0),p.set(s,o.byteLength),p.set(d,o.byteLength+s.byteLength),p}catch(e){throw console.error("Error encrypting file"),console.error(e),e}},o=async(e,t)=>{try{let r=new Uint8Array(e),a=new TextEncoder().encode(t),o=r.slice(0,16),s=r.slice(16,28),l=r.slice(28),c=await n(a),u=await i(c,["decrypt"],{name:"PBKDF2",salt:o,iterations:25e4,hash:"SHA-256"});return await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},u,l)}catch(e){console.error("Error decrypting file"),console.error(e);return}}},36603:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}},41207:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,e:()=>l});var n=r(3821),i=r(18041),a=r(69221),o=r(74638),s=r.n(o);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload:last-gateway",{t:r}=(0,a.Bd)(),o=(0,n.useMemo)(()=>e&&e.length>0?e:(0,i.rt)(r).map(e=>{var t,r;return{...e,text:"".concat(null!=(t=e.text)?t:""," (").concat(null!=(r=e.location)?r:"",")")}}),[r,e]),l=(0,n.useMemo)(()=>{let e=s().get(t);if(e){let t=o.findIndex(t=>t.value===e.value);if(t>=0)return t}return 0},[t,o]),[c,u]=(0,n.useState)(o[l]),d=(0,n.useCallback)(e=>{u(r=>{let n="function"==typeof e?e(r):e;return s().set(t,{value:n.value}),n})},[]),p=(0,n.useCallback)((e,t)=>{let{value:r}=t,n=o.find(e=>e.value===r);n&&d(n)},[o,d]);return(0,n.useMemo)(()=>({endpoints:o,endpoint:c,setEndpoint:d,onChangeEndpoint:p}),[o,c,d,p])}function c(){let{t:e}=(0,a.Bd)(),t=(0,n.useMemo)(()=>(0,i.n3)(e).sort(()=>Math.random()>.5?-1:1).map(e=>{var t;return{...e,text:"".concat(null!=(t=e.text)?t:"Pinner")}}),[e]),[r,o]=(0,n.useState)(t[0]),s=(0,n.useCallback)((e,r)=>{let{value:n}=r,i=t.find(e=>e.value===n);i&&o(i)},[t]);return(0,n.useMemo)(()=>({pinner:r,pins:t,setPinner:o,onChangePinner:s}),[r,t,s])}},47523:(e,t,r)=>{"use strict";var n=r(69625),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,a,o,s,l,c,u,d,p=!1;t||(t={}),o=t.debug||!1;try{if(l=n(),c=document.createRange(),u=document.getSelection(),(d=document.createElement("span")).textContent=e,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var n=i[t.format]||i.default;window.clipboardData.setData(n,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(d),c.selectNodeContents(d),u.addRange(c),!document.execCommand("copy"))throw Error("copy command was unsuccessful");p=!0}catch(n){o&&console.error("unable to copy using execCommand: ",n),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),p=!0}catch(n){o&&console.error("unable to copy using clipboardData: ",n),o&&console.error("falling back to prompt"),r="message"in t?t.message:"Copy to clipboard: #{key}, Enter",a=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",s=r.replace(/#{\s*key\s*}/g,a),window.prompt(s,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(c):u.removeAllRanges()),d&&document.body.removeChild(d),l()}return p}},51306:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},54181:(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}r.d(t,{A:()=>n})},56446:(e,t,r)=>{"use strict";r.d(t,{m:()=>l,q:()=>s});var n=r(29913),i=r(23472);r(3821);let a=e=>"number"==typeof e?"".concat(e,"px"):e;function o(e){let{className:t}=e;return(0,n.jsxs)("div",{className:t,children:[(0,n.jsx)("a",{href:"https://discord.gg/XeY9FKBzdK",target:"_blank",rel:"noreferrer"}),(0,n.jsx)("a",{href:"https://twitter.com/CrustNetwork",target:"_blank",rel:"noreferrer"}),(0,n.jsx)("a",{href:"https://t.me/CrustNetwork",target:"_blank",rel:"noreferrer"}),(0,n.jsx)("a",{href:"https://crust.network",target:"_blank",rel:"noreferrer"})]})}let s=(0,i.Ay)(o).withConfig({componentId:"sc-ae94edf-0"})(["height:",";align-items:flex-start;flex-shrink:0;display:flex;a{margin-right:",";background-size:contain;background-repeat:no-repeat;background-position:center;width:",";height:",";}a:nth-child(1){background-image:url('/images/icon_discord.png');}a:nth-child(2){background-image:url('/images/icon_twitter.png');}a:nth-child(3){background-image:url('/images/icon_telegram.png');}a:nth-child(4){background-image:url('/images/icon_crust.png');}a:last-child{margin-right:0;}&.dark{filter:invert(80%);}"],e=>{let{size:t=32}=e;return a(t)},e=>{let{space:t=40}=e;return a(t)},e=>{let{size:t=32}=e;return a(t)},e=>{let{size:t=32}=e;return a(t)}),l=(0,i.Ay)(o).withConfig({componentId:"sc-ae94edf-1"})(["height:",";align-items:flex-start;flex-shrink:0;display:flex;a{margin-right:",";background-size:contain;background-repeat:no-repeat;background-position:center;width:",";height:",";}a:nth-child(1){background-image:url('/images/icon_discord.svg');}a:nth-child(2){background-image:url('/images/icon_twitter.svg');}a:nth-child(3){background-image:url('/images/icon_telegram.svg');}a:nth-child(4){background-image:url('/images/icon_crust.svg');}a:last-child{margin-right:0;}"],e=>{let{size:t=32}=e;return a(t)},e=>{let{space:t=40}=e;return a(t)},e=>{let{size:t=32}=e;return a(t)},e=>{let{size:t=32}=e;return a(t)})},58932:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(86657),i=r(59688),a=r(93378),o=r(61256),s=i.A?i.A.isConcatSpreadable:void 0;let l=function(e){return(0,o.A)(e)||(0,a.A)(e)||!!(s&&e&&e[s])},c=function e(t,r,i,a,o){var s=-1,c=t.length;for(i||(i=l),o||(o=[]);++s<c;){var u=t[s];r>0&&i(u)?r>1?e(u,r-1,i,a,o):(0,n.A)(o,u):a||(o[o.length]=u)}return o}},59061:(e,t,r)=>{"use strict";r.d(t,{Gc:()=>l});var n=r(3821),i=r(34233),a=r(48480);function o(e){return e}function s(e){e.current.isActive=!1,e.current.subscriber&&(e.current.subscriber.then(e=>e()).catch(console.error),e.current.subscriber=null)}function l(e,t,r){let l=function(){let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),c=(0,n.useRef)({isActive:!1,serialized:null,subscriber:null}),[u,d]=(0,n.useState)((r||{}).defaultValue);return(0,n.useEffect)(()=>()=>s(c),[]),(0,n.useEffect)(()=>{if(l.current&&e){let[n,u]=function(e,t){let{paramMap:r=o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[JSON.stringify({f:null==e?void 0:e.name,p:t}),0!==t.length&&t.some(e=>(0,i.k)(e)||(0,a.b)(e))?null:r(t)]}(e,t||[],r);u&&n!==c.current.serialized&&(c.current.serialized=n,function(e,t,r,n,i){let{transform:l=o,withParams:c,withParamsTransform:u}=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},d=n.filter(e=>!(0,a.b)(e));s(t),setTimeout(()=>{if(e.current){var a;!r||r.meta&&(null==(a=r.meta.type)?void 0:a.isDoubleMap)&&2!==d.length?t.current.subscriber=null:(t.current.isActive=!0,t.current.subscriber=r(...n,r=>{e.current&&t.current.isActive&&e.current&&t.current.isActive&&i(c?[n,l(r)]:u?l([n,r]):l(r))}))}},0)}(l,c,e,u,d,r))}},[e,r,l,t]),u}},64881:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(29913),i=r(3821),a=r(60592),o=r(23472);let s=i.memo((0,o.Ay)(function(e){return(0,n.jsx)(a.A,{...e})}).withConfig({componentId:"sc-16684937-0"})(["background:unset !important;border:1px solid var(--primary-color) !important;color:var(--primary-color) !important;font-weight:normal !important;border-radius:10px !important;&:disabled{cursor:not-allowed !important;}&:hover{background:var(--primary-color) !important;color:white !important;}"]))},66796:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(3821);function i(e){let[t,r]=(0,n.useState)(e),[i]=(0,n.useState)({safe:!0});return(0,n.useEffect)(()=>(i.safe=!0,()=>{i.safe=!1})),[t,e=>{i.safe&&r(e)}]}},69625:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},73112:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});var n=r(3821),i=r(87080),a=r(47523),o=r.n(a);function s(){let{alert:e}=(0,n.useContext)(i.BR);return(0,n.useCallback)(t=>{o()(t),e.alert({msg:"Copied",type:"success"})},[e])}},79074:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3821);let i=function(e){var t=n.useRef();return n.useEffect(function(){t.current=e}),t.current}},87545:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=r(91933),i=r.n(n),a=r(34133);function o(e){return i().post((0,a.cO)("/common/report"),e).catch(console.error)}},88593:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,lP:()=>s,q0:()=>u,st:()=>l,u1:()=>c});var n=r(29913),i=r(51306),a=r.n(i);r(3821);var o=r(23472);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{className:t,children:r,style:i={},...a}=e;return(0,n.jsxs)("div",{className:t,style:{display:"flex",...i},...a,children:[(0,n.jsx)("div",{style:{flex:1,height:1,width:1}}),r,(0,n.jsx)("div",{style:{flex:1,height:1,width:1}})]})}let l=o.Ay.div.withConfig({componentId:"sc-c9396125-0"})(["display:flex;flex-direction:row;"]),c=o.Ay.div.withConfig({componentId:"sc-c9396125-1"})(["display:flex;flex-direction:column;"]),u="Crust Files",d=(0,o.Ay)(function(e){let{children:t,className:r}=e;return(0,n.jsxs)("div",{className:r,children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,n.jsx)("meta",{name:"description",content:"Crust Files, the Web3.0 file storage application"}),(0,n.jsx)("meta",{name:"og:title",content:u})]}),t]})}).withConfig({componentId:"sc-c9396125-2"})(["width:100%;height:100%;max-height:100%;overflow:auto;"])},91273:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(36603),i=r(6942),a=r(40758);let o=function(e,t,r,n,i){return i(e,function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)}),r};var s=r(61256);let l=function(e,t,r){var l=(0,s.A)(e)?n.A:o,c=arguments.length<3;return l(e,(0,a.A)(t,4),r,c,i.A)}}},e=>{var t=t=>e(e.s=t);e.O(0,[3265,7426,5666,8770,3116,6059,2317,4167,592,4638,9109,9544,9221,4547,8714,1283,9290,7358],()=>t(23094)),_N_E=e.O()}]);