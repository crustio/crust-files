(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6313],{48964:function(e,t,r){"use strict";r.d(t,{b:function(){return E}});var n=r(92809),o=r(30266),s=r(80318),a=r(809),i=r.n(a),c=r(22751),l=r(67294),u=r(29163),d=r(12752),p=r(75282),m=r(34111),f=r(13711),h=r(57288),b=r(45129),x=r(99056),g=r(93664),v=r(60954),y=r(8670),w=r(31772),j=r(85893);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=(0,u.ZP)(w.Z).withConfig({displayName:"BindAirdrop__BindTypeDropdown",componentId:"sc-1fcwrum-0"})(["&.mdropdown{display:inline-block;vertical-align:top;width:130px !important;border-radius:8px !important;border:1px solid #999999 !important;margin-right:8px !important;line-height:40px;height:40px;padding:0 30px 0 14px;.text{white-space:nowrap;font-size:14px !important;line-height:40px !important;font-weight:500 !important;color:var(--main-color) !important;font-family:OpenSans-Medium sans-serif !important;}.dropIcon{position:absolute;right:11px;top:12px;}.options{.item{line-height:24px;padding:4px 20px;}}}"]),O=["eth","polygon","bsc"],S={eth:{value:"eth",text:"ETH"},polygon:{value:"polygon",text:"Polygon"},bsc:{value:"bsc",text:"BSC (BEP20)"}},P={0:"ETH",1:"BSC",2:"Polygon"};var E=(0,u.ZP)((function(e){var t=e.className,r=(0,d.qD)(),n=r.loading,a=r.api,u=r.alert,w=(0,f.S)(),k=w.isPremiumUser,E=w.user,Z=(0,m.X)((function(){return(0,b.w8)(E.account)}),[E.account,k]),I=(0,s.Z)(Z,2),A=I[0],z=I[1],F=A||[],M=(0,h.F)(""),D=(0,s.Z)(M,2),_=D[0],B=D[1],T=(0,h.F)(""),U=(0,s.Z)(T,2),G=U[0],H=U[1],R=!k||!!G,Y=(0,l.useMemo)((function(){return O.map((function(e){return S[e]}))}),[]),V=(0,l.useState)(O[0]),L=V[0],J=V[1],K=(0,l.useCallback)((function(e,t){var r=t.value;J(r)}),[]),$=function(){var e=(0,o.Z)(i().mark((function e(){var t,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:if(_){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,n.show(),a.setSigner(C({},E.crust.wallet.signer)),t=a.tx.system.remark(JSON.stringify({scope:"crustFiles",env:p.g6,action:"bindExternalAddress",externalAddressType:L,externalAddress:_})),e.next=10,(0,g.iQ)(t,E.account);case 10:a.setSigner(void 0),r=1;case 12:if(!(r<=3)){e.next=23;break}return e.next=15,(0,g._v)(3e3);case 15:return e.next=17,z();case 17:if(!e.sent){e.next=20;break}return e.abrupt("break",23);case 20:r++,e.next=12;break;case 23:n.hide(),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(4),n.hide(),(o=(0,x.az)(e.t0)).includes("account balance too low")?u.warnModal("Insufficient Funds!"):u.error(o);case 31:case"end":return e.stop()}}),e,null,[[4,26]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(y.o,{className:t,children:[(0,j.jsx)("div",{className:"title font-sans-semibold",children:"Bind AirDrop Addresses"}),(0,j.jsxs)("div",{className:"text font-sans-regular",children:["Bind your addresses from multi blockchain platforms for potential airdrops. You can submit amandments when you have updates on your addresses.",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),F.map((function(e,t){return(0,j.jsxs)("div",{children:["Your binded ",P[e.chain_type]," address: ",(0,j.jsx)("span",{className:"bold-text font-sans-semibold",children:e.address})]},"old_ex_".concat(t))})),(0,j.jsx)("br",{})]}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(N,{selection:!0,icon:(0,j.jsx)("span",{className:"icon cru-fo cru-fo-chevron-down"}),defaultValue:O[0],options:Y,onChange:K}),(0,j.jsx)("input",{disabled:!k,className:"input-eth",spellCheck:"false",value:_,onChange:function(e){B(e.target.value);var t=(0,c.isValidAddress)(e.target.value);H(t?"":"Check Input")}}),G&&(0,j.jsx)("span",{className:"input-EthError",children:G}),(0,j.jsx)("br",{}),(0,j.jsx)(v.Z,{disabled:R,className:"btn",style:{width:544,height:40},onClick:$,children:"Submit"}),!k&&(0,j.jsx)("span",{className:"submit-tip",children:"Get Premium User to bind your AirDrop addresses."})]})]})})).withConfig({displayName:"BindAirdrop",componentId:"sc-1fcwrum-1"})([".input-eth{vertical-align:top;display:inline-block;min-width:406px;margin-bottom:12px;height:40px;line-height:40px;border:1px solid #999999;font-family:OpenSans-Regular;outline:unset;border-radius:8px;padding-left:16px;padding-right:16px;font-size:10px;&::placeholder{color:#999999;}}.input-EthError{font-size:10px;color:#F37565;margin-left:12px;}.submit-tip{margin-left:12px;font-size:10px;color:var(--secend-color);}"])},8670:function(e,t,r){"use strict";r.d(t,{o:function(){return c}});var n=r(67294),o=r(29163),s=r(94184),a=r.n(s),i=r(85893);var c=n.memo((0,o.ZP)((function(e){var t=e.className,r=e.children;return(0,i.jsx)("div",{className:a()(t,"mcard"),children:r})})).withConfig({displayName:"MCard",componentId:"sc-157sg53-0"})(["padding:1.71rem !important;box-shadow:0 0.71rem 1.71rem 0 rgba(0,0,0,0.06) !important;border-radius:1.14rem !important;border:0.07rem solid #EEEEEE !important;margin-top:2.21rem;.title{font-size:1.3rem !important;font-weight:600;color:var(--main-color);padding-bottom:1.14rem;.cru-fo{margin-right:0.8rem;}}.text{font-size:1rem;color:var(--secend-color);line-height:1.57rem;}.icon{margin-left:1rem;font-size:1.428571rem;position:relative;top:3px;cursor:pointer;}.bold-text{color:var(--main-color);}a{text-decoration:underline;line-height:1.2rem;cursor:pointer;}.btns{margin-top:1.7rem;button:first-child{margin-right:1rem;}}"]))},31772:function(e,t,r){"use strict";var n=r(80318),o=r(67294),s=r(22090),a=r(29163),i=r(65058),c=r(87962),l=r(96486),u=r.n(l),d=r(94184),p=r.n(d),m=r(85893),f="_null",h=function(e){var t=e.expand,r=e.list,n=e.group,o=e.select,s=e.onClickItem,a=e.onClickGroup,i=e.renderGroupTitle,c=void 0===i?null:i,l=n===o.group;return(0,m.jsxs)("div",{className:"group",children:[n!==f&&(c&&c({group:n,select:o,onClickGroup:a})||(0,m.jsxs)("div",{className:p()("title",{active:l}),onClick:a,children:[n," ",(0,m.jsx)("span",{className:"dropIcon cru-fo-chevron-down"})]})),t&&r.map((function(e,t){return(0,m.jsx)("div",{className:p()("item",{active:l&&e.value===o.value}),onClick:function(t){return s(t,{group:n,value:e.value})},children:e.text},"group_item_".concat(t))}))]})};t.Z=o.memo((0,a.ZP)((function(e){var t,r=e.className,a=e.label,l=e.help,d=e.options,b=e.defaultValue,x=e.defaultGroup,g=void 0===x?f:x,v=e.renderGroupTitle,y=e.footer,w=(0,o.useState)({value:b,group:g}),j=w[0],k=w[1],C=(0,o.useMemo)((function(){return u().find(d,(function(e){return(e.group||f)===j.group&&e.value===j.value}))}),[d,j]),N=(0,o.useState)(g),O=N[0],S=N[1],P=(0,i.O)(),E=(0,n.Z)(P,2),Z=E[0],I=E[1],A=(0,c.Z)((function(){Z&&I(!1)})),z=(0,o.useMemo)((function(){return u().groupBy(d,(function(e){return e.group||f}))}),[d]),F=u().keys(z);return(0,m.jsxs)("div",{className:p()(r,"mdropdown"),onClick:function(){return I()},ref:A,children:[a&&(0,m.jsxs)("div",{className:"label font-sans-semibold",children:[a,l&&(0,m.jsx)(s.Z,{position:"top center",trigger:(0,m.jsx)("span",{className:"icon cru-fo-help-circle"}),content:l})]}),(0,m.jsx)("span",{className:p()("dropIcon","cru-fo-chevron-down")}),(0,m.jsx)("div",{className:"text font-sans-regular",children:null!==(t=null===C||void 0===C?void 0:C.text)&&void 0!==t?t:""}),Z&&(0,m.jsxs)("div",{className:"options",children:[F.map((function(t,r){return(0,m.jsx)(h,{group:t,renderGroupTitle:v,select:j,expand:O===t||t===f,list:z[t],onClickGroup:function(e){S(O===t?f:t),e.stopPropagation()},onClickItem:function(t,r){k(r),e.onChange(t,r)}},"group_".concat(r))})),y]})]})})).withConfig({displayName:"MDropdown",componentId:"sc-1nmwkbf-0"})(["&.mdropdown{position:relative;width:100%;border-radius:0.57rem;border:1px solid var(--line-color);padding:0.8rem 1rem;cursor:pointer;.label{font-size:1rem;font-weight:600;white-space:nowrap;color:var(--main-color);margin-bottom:0.6rem;.icon{font-size:1.3rem;position:relative;top:0.2rem;margin-left:0.86rem;cursor:pointer;color:var(--secend-color);}}.dropIcon{float:right;position:relative;top:-0.9rem;right:0;}.text{font-size:1rem;color:#999999;}.options{width:100%;background:white;position:absolute;top:calc(100% + 1px);left:0;z-index:10;border-radius:4px;border:1px solid var(--line-color);box-shadow:0 1px 5px rgba(0,0,0,0.3);.group{.title{cursor:pointer;border-top:1px solid var(--line-color);padding:0.8rem 1rem;font-size:1.2rem;font-weight:500;&:hover,&.active{background:var(--line-color);}.dropIcon{float:right;right:0.6rem;top:0rem;}}.item{padding:0.6rem 1.6rem;cursor:pointer;&:hover,&.active{background:var(--line-color);}}}}}"]))},17082:function(e,t,r){"use strict";r.d(t,{vZ:function(){return b},hC:function(){return x},MH:function(){return g}});var n=r(92809),o=r(30266),s=r(80318),a=r(809),i=r.n(a),c=r(67294),l=r(58971),u=r.n(l),d=r(65058);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=r(21994).Cypher,h=new f(8),b=function(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(){n.result&&t(n.result)},n.onerror=r,n.readAsArrayBuffer(e)}))};function x(e){try{var t=e&&e.trim();if(t){var r=t.split(" ");if(1===r.length&&r[0]){var n=r[0],o=window.atob(n),s=h.phraseFromSecret(o);if(s&&s.split(" ").length>=4)return{secret:n,seeds:s}}else if(r.length>=4){var a=h.secretFromPhrase(t);if(a&&a.split("-").length>=4)return{secret:window.btoa(a),seeds:t}}}return null}catch(i){return null}}function g(){var e=(0,c.useState)({}),t=e[0],r=e[1],n=(0,d.O)(),a=(0,s.Z)(n,2),l=a[0],p=a[1];(0,c.useEffect)((function(){var e=u().get("user:crypto");e&&r(e),p(!0)}),[]);var h=(0,c.useCallback)((function(e){r(e),u().set("user:crypto",e)}),[]),b=(0,c.useCallback)((0,o.Z)(i().mark((function e(){var t,r,n,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f(8),r=t.genMnemonics(),n=r.secret,o=r.mnemonics,s={secret:window.btoa(n),seeds:o},h(s),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)}))),[]);return(0,c.useMemo)((function(){return m(m({},t),{},{generate:b,set:h,init:l})}),[t,h,l,b])}},57288:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var n=r(67294);function o(e){var t=(0,n.useState)(e),r=t[0],o=t[1],s=(0,n.useState)({safe:!0})[0];(0,n.useEffect)((function(){return s.safe=!0,function(){s.safe=!1}}));return[r,function(e){s.safe&&o(e)}]}},2125:function(e,t,r){"use strict";r.d(t,{D:function(){return c}});var n=r(67294),o=r(96486),s=r.n(o),a=r(56755),i=r.n(a);function c(e){return(0,n.useMemo)((function(){var t=e.files.length,r=s().groupBy(e.files,(function(e){return e.Encrypted?"valut":"public"}));return r.public||(r.public=[]),r.valut||(r.valut=[]),{count:t,publicCount:s().size(r.public),valutCount:s().size(r.valut),publicSize:i()(s().sumBy(r.public,(function(e){return s().toNumber(e.Size)}))).toUpperCase(),valutSize:i()(s().sumBy(r.valut,(function(e){return s().toNumber(e.Size)}))).toUpperCase()}}),[e.files])}},39436:function(e,t,r){"use strict";r.r(t),r.d(t,{StorageChainConfig:function(){return Y},default:function(){return J}});var n=r(30266),o=r(83789),s=r(80318),a=r(809),i=r.n(a),c=r(94184),l=r.n(c),u=r(37918),d=r.n(u),p=r(93162),m=r.n(p),f=r(11163),h=r(67294),b=r(25443),x=r(35766),g=r(21004),v=r(49147),y=r(27416),w=r(29163),j=r(48964),k=r(60954),C=r(92809),N=r(10219),O=r(345),S=r(60416),P=r(17082),E=r(85893),Z=["alert","onSuccess","toggleOpen"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,C.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z=h.memo((0,w.ZP)((function(e){var t=e.alert,r=e.onSuccess,n=e.toggleOpen,o=(0,N.Z)(e,Z),s=(0,h.useState)(""),a=s[0],i=s[1],c=(0,h.useCallback)((function(e,t){var r=t.value;i(r)}),[]),l=(0,h.useCallback)((function(){var e=(0,P.hC)(a);e?(r(e),n(!1)):t.error("Please check input value")}),[a,t]),u=(0,h.useCallback)((function(){i(""),n(!1)}),[]);return(0,E.jsxs)(O.Z,A(A({closeIcon:(0,E.jsx)("span",{className:"close icon cru-fo-x"}),onClose:u},o),{},{children:[(0,E.jsx)(O.Z.Header,{content:"Input a new key"}),(0,E.jsxs)(O.Z.Content,{children:[(0,E.jsx)(S.Z,{fluid:!0,onChange:c}),(0,E.jsxs)("div",{className:"btns",children:[(0,E.jsx)(k.Z,{content:"Input",onClick:l}),(0,E.jsx)(k.Z,{content:"Cancel",onClick:function(){return n(!1)}})]})]})]}))})).withConfig({displayName:"ModalNewKey",componentId:"sc-crca66-0"})(["width:34.3rem !important;.header{height:3.93rem;font-size:1.3rem !important;padding:0 1.14rem !important;font-weight:600 !important;line-height:3.93rem !important;}.close.icon{top:0.5rem;right:0.6rem;color:#666666;}.content{padding:1rem !important;input{border:0.07rem solid #CCCCCC !important;border-radius:0.57rem !important;}.btns{padding-top:2.3rem;button{width:calc(50% - 0.5rem) !important;margin:unset;}button:first-child{margin-right:1rem;}}}"])),F=r(86316),M=r(12752),D=r(20478),_=r(13711),B=r(65058),T=r(2125),U=r(43064),G=r(48764).Buffer;function H(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){i=!0,s=e})),f:function(){try{a||null==r.return||r.return()}finally{if(i)throw s}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y={chainId:"0x5afe",chainName:"Oasis Sapphire",nativeCurrency:{name:"ROSE",symbol:"ROSE",decimals:18},rpcUrls:["https://sapphire.oasis.io/"],blockExplorerUrls:["https://explorer.sapphire.oasis.io"]},V=[{type:"function",stateMutability:"nonpayable",outputs:[],name:"createSecret",inputs:[{type:"string",name:"name",internalType:"string"},{type:"bytes",name:"secret",internalType:"bytes"}]},{type:"function",stateMutability:"view",outputs:[{type:"bytes",name:"",internalType:"bytes"}],name:"revealSecret",inputs:[{type:"string",name:"name",internalType:"string"}]},{type:"event",name:"SecretCreated",inputs:[{type:"address",name:"creator",indexed:!0},{type:"uint256",name:"index",indexed:!1}],anonymous:!1}],L="0x744772c372ea818C0779148CF215C0C642053Ee6";var J=h.memo((0,w.ZP)((function(e){var t=e.className,r=(0,b.$)().t,a=(0,P.MH)(),c=(0,f.useRouter)(),u=(0,h.useContext)(M.Il).alert,p=(0,B.O)(!1),w=(0,s.Z)(p,2),C=w[0],N=w[1],O=(0,B.O)(),S=(0,s.Z)(O,2),Z=S[0],I=S[1];(0,h.useEffect)((function(){a.init&&!a.secret&&I(!0)}),[a]);var A=(0,_.S)(),R=A.user,J=A.isPremiumUser,K=(0,D.V)(),$=(0,h.useMemo)((function(){return J?"Premium User":"Trial User"}),[R,J]),q="crust"===R.wallet,W=(0,U.Yg)(),Q=(0,T.D)(W),X=Q.publicCount,ee=Q.publicSize,te=Q.valutCount,re=Q.valutSize,ne=(0,h.useRef)(null),oe=(0,h.useCallback)((function(){ne.current&&ne.current.click()}),[ne]),se=(0,h.useCallback)((function(e){try{var t=new FileReader,n=e.target.files;if(!n)return;if(t.readAsText(n[0],"UTF-8"),!/(.json)$/i.test(e.target.value))return u.error(r("File error"));t.onload=function(e){var t,n=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result),s={files:[]};if(Array.isArray(n))s.files=n;else{if(!n.files||!Array.isArray(n.files))return u.error(r("File content error"));s.secret=n.secret,s.files=n.files}if(a.secret&&s.secret&&s.secret!==a.secret)return u.error("Two secrets were found, and they are different.");if(s.secret){var i=(0,P.hC)(s.secret);i&&a.set(i)}var c,l=[],d={},p=H(s.files);try{for(p.s();!(c=p.n()).done;){var m=c.value;m.Hash&&m.Name&&m.UpEndpoint&&m.PinEndpoint&&(l.push(m),d[m.Hash]=!0)}}catch(h){p.e(h)}finally{p.f()}var f=W.files.filter((function(e){return!d[e.Hash]}));W.setFiles([].concat(l,(0,o.Z)(f))),u.alert({msg:r("Import Success"),type:"success"})}}catch(e){u.alert({msg:r("File content error"),type:"error"})}}),[W,a.set,u,r]),ae=(0,h.useCallback)((function(){var e={files:W.files,secret:a.secret},t=new Blob([JSON.stringify(e)],{type:"application/json; charset=utf-8"});m().saveAs(t,"backup.json")}),[W,a]),ie=(0,h.useCallback)((0,n.Z)(i().mark((function e(){var t,r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.secret){e.next=27;break}if(t=!1,"undefined"!==typeof window.ethereum&&(t=!0),!(!!t&&window.ethereum.isMetaMask)){e.next=24;break}return e.next=7,window.ethereum.enable();case 7:return e.next=9,le();case 9:if(!e.sent){e.next=21;break}return r=new(d())(window.ethereum),n=new r.eth.Contract(V,L),e.next=14,r.eth.personal.sign("secret",window.ethereum.selectedAddress,"123456");case 14:return o=e.sent,u.info("Please wait patiently for upload (about 30s)..."),e.next=18,n.methods.createSecret(o.substring(2,12),G.from(a.secret)).send({from:window.ethereum.selectedAddress});case 18:u.info("Your secret key has been uploaded to the Oasis network"),e.next=22;break;case 21:u.error("Change to Oasis error");case 22:e.next=25;break;case 24:u.error("Please make sure you have install Metamask");case 25:e.next=28;break;case 27:u.error("You don't have any secret to upload");case 28:case"end":return e.stop()}}),e)}))),[a]),ce=(0,h.useCallback)((0,n.Z)(i().mark((function e(){var t,r,n,o,s,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,"undefined"!==typeof window.ethereum&&(t=!0),!(!!t&&window.ethereum.isMetaMask)){e.next=24;break}return e.next=6,window.ethereum.enable();case 6:return e.next=8,le();case 8:if(!e.sent){e.next=21;break}return r=new(d())(window.ethereum),n=new r.eth.Contract(V,L),console.log(window.ethereum.selectedAddress),e.next=14,r.eth.personal.sign("secret",window.ethereum.selectedAddress,"123456");case 14:return o=e.sent,e.next=17,n.methods.revealSecret(o.substring(2,12)).call();case 17:null!==(s=e.sent)&&""!==s?(c=G.from(s.slice(2),"hex").toString(),console.log(c),(l=(0,P.hC)(c))&&a.set(l)):u.error("You don't have any secrets on Oasis"),e.next=22;break;case 21:u.error("Change to Oasis error");case 22:e.next=25;break;case 24:u.error("Please make sure you have install Metamask");case 25:case"end":return e.stop()}}),e)}))),[a]);function le(){return ue.apply(this,arguments)}function ue(){return(ue=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.ethereum.request,e.next=3,t({method:"eth_chainId"});case 3:if(r=e.sent,console.log("chainId:".concat(r)),r===Y.chainId){e.next=32;break}return e.prev=6,e.next=9,t({method:"wallet_switchEthereumChain",params:[{chainId:Y.chainId}]});case 9:e.next=32;break;case 11:if(e.prev=11,e.t0=e.catch(6),console.log(e.t0),4902!==e.t0.code){e.next=31;break}return e.prev=15,e.next=18,t({method:"wallet_addEthereumChain",params:[Y]});case 18:return e.next=20,t({method:"eth_chainId"});case 20:return e.t1=e.sent,e.t2=Y.chainId,e.abrupt("return",e.t1==e.t2);case 25:return e.prev=25,e.t3=e.catch(15),console.error(e.t3),e.abrupt("return",!1);case 29:e.next=32;break;case 31:return e.abrupt("return",!1);case 32:return e.abrupt("return",!0);case 33:case"end":return e.stop()}}),e,null,[[6,11],[15,25]])})))).apply(this,arguments)}return(0,E.jsxs)(F.Z,{path:"/setting",className:t,children:[(0,E.jsx)("input",{onChange:se,ref:ne,style:{display:"none"},type:"file"}),C&&(0,E.jsx)(z,{alert:u,size:"tiny",open:!0,toggleOpen:N,onSuccess:a.set}),(0,E.jsxs)(x.Z,{basic:!0,className:"mcard",children:[(0,E.jsx)("div",{className:"title font-sans-semibold",children:r("User Profile")}),(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Web3 Identity Logged-in:")," "),(0,E.jsx)("span",{className:"bold-text font-sans-semibold",children:R.account})]}),(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Logged-in Wallet:")," "),(0,E.jsx)("span",{className:"bold-text font-sans-semibold",children:U.w3[R.wallet]})]}),q&&R.nickName&&(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Nick Name:")," "),(0,E.jsx)("span",{className:"bold-text font-sans-semibold",children:R.nickName})]}),(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("User Type:")," "),(0,E.jsx)("span",{className:"bold-text font-sans-semibold",children:$})," ",!J&&(0,E.jsx)("a",{onClick:function(){return c.push("/user")},rel:"noreferrer",children:"Get Premium"})]}),(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("File/Folder Stored:")," ")," ",(0,E.jsx)("span",{className:"bold-text font-sans-semibold",children:"".concat(X," in Public, ").concat(te," in Vault")})]}),(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Space Usage:")," ")," ",(0,E.jsx)("span",{className:"bold-text font-sans-semibold",children:"".concat(ee," in Public, ").concat(re," in Vault")})]})]}),(0,E.jsxs)(x.Z,{basic:!0,className:"mcard",children:[(0,E.jsx)("div",{className:"title font-sans-semibold",children:r("Developer Profile")}),(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Access token:")," ")," ",(0,E.jsxs)("span",{className:"bold-text font-sans-semibold",style:{wordBreak:"break-all"},children:[R.authBasic,(0,E.jsx)("span",{className:"icon cru-fo-copy",onClick:function(){return K(R.authBasic)}})]})]})]}),(0,E.jsxs)(x.Z,{basic:!0,className:"mcard",children:[(0,E.jsx)("div",{className:"title font-sans-semibold",children:r("User Data Management")}),(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Your user data (including three File Lists and one File Encryption Key) are cached on your local devices. If you want to migrate your user data to a new device, use Export & Import function.")," "),(0,E.jsx)("span",{style:{color:"#f47e6b"},children:"Attention Please! If you want to switch device or explorer, please follow the following steps: 1) Export your user data from old device/explorer. 2) Log in to Crust Files in your new device/explorer. 3) Import the user data. 4) Enjoy Crust Files! PS: Another way you can spend some ROSE tokens to safely and securely store your private keys on the Oasis sapphire network"})]}),(0,E.jsxs)(g.Z,{children:[(0,E.jsx)(v.Z,{active:Z,onClick:function(){return I()},children:(0,E.jsxs)("div",{className:"title font-sans-semibold",children:[r("File Encryption"),(0,E.jsx)("span",{className:l()("icon",Z?"cru-fo-chevron-up":"cru-fo-chevron-down")})]})}),(0,E.jsxs)(y.Z,{active:Z,className:"no-padding",children:[(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Your File Encryption Key:")," "),a.secret&&(0,E.jsxs)("span",{className:"bold-text font-sans-semibold",children:[a.secret,(0,E.jsx)("span",{className:"icon cru-fo-copy",onClick:function(){return K(a.secret)}})]}),!a.secret&&(0,E.jsx)("a",{onClick:a.generate,children:"Generate a New"})]}),a.seeds&&(0,E.jsxs)("div",{className:"text font-sans-regular",children:["".concat(r("Seed Phrase:")," "),(0,E.jsx)("span",{className:"bold-text font-sans-semibold",children:a.seeds})]})]})]}),(0,E.jsxs)("div",{className:"btns",children:[(0,E.jsx)(k.Z,{content:r("Export"),onClick:ae}),(0,E.jsx)(k.Z,{content:r("Import"),onClick:oe}),(0,E.jsx)(k.Z,{content:r("Upload to Oasis"),onClick:ie}),(0,E.jsx)(k.Z,{content:r("Download from Oasis"),onClick:ce})]})]}),(0,E.jsx)(j.b,{})]})})).withConfig({displayName:"setting",componentId:"sc-1rkrrxr-0"})([".pusl_center_flex_content{min-width:60rem;}.mcard{padding:1.71rem !important;box-shadow:0 0.71rem 1.71rem 0 rgba(0,0,0,0.06) !important;border-radius:1.14rem !important;border:0.07rem solid #EEEEEE !important;margin-top:2.21rem;.title{font-size:1.3rem !important;font-weight:600;color:var(--main-color);padding-bottom:1.14rem;.cru-fo{margin-right:0.8rem;}}.text{font-size:1rem;color:var(--secend-color);line-height:1.57rem;}.icon{margin-left:1rem;font-size:1.428571rem;position:relative;top:3px;cursor:pointer;}.bold-text{color:var(--main-color);}a{text-decoration:underline;line-height:1.2rem;cursor:pointer;}.btns{margin-top:1.7rem;button:{margin-right:1rem;}}}"]))},27790:function(){}}]);