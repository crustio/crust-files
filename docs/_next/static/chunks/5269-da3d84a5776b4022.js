(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5269],{5039:(e,t,r)=>{"use strict";r.d(t,{DS:()=>b,OG:()=>g,Ph:()=>c,aK:()=>m,dJ:()=>y,e8:()=>a,fg:()=>v,lX:()=>l,lq:()=>d,qj:()=>f,x:()=>w,z:()=>h,zW:()=>o});var n=r(71792);let i=BigInt(0),s=BigInt(1);function a(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function o(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function u(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?i:BigInt("0x"+e)}function c(e){return u((0,n.My)(e))}function l(e){return(0,n.DO)(e),u((0,n.My)(Uint8Array.from(e).reverse()))}function d(e,t){return(0,n.aT)(e.toString(16).padStart(2*t,"0"))}function h(e,t){return d(e,t).reverse()}function f(e,t,r){let i;if("string"==typeof t)try{i=(0,n.aT)(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if((0,n.aY)(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let s=i.length;if("number"==typeof r&&s!==r)throw Error(e+" of length "+r+" expected, got "+s);return i}let p=e=>"bigint"==typeof e&&i<=e;function m(e,t,r,n){if(!(p(t)&&p(r)&&p(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function y(e){let t;for(t=0;e>i;e>>=s,t+=1);return t}let g=e=>(s<<BigInt(e))-s;function v(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=e=>new Uint8Array(e),s=e=>Uint8Array.of(e),a=i(e),o=i(e),u=0,c=()=>{a.fill(1),o.fill(0),u=0},l=(...e)=>r(o,a,...e),d=(e=i(0))=>{o=l(s(0),e),a=l(),0!==e.length&&(o=l(s(1),e),a=l())},h=()=>{if(u++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(a=l()).slice();r.push(t),e+=a.length}return(0,n.Id)(...r)};return(e,t)=>{let r;for(c(),d(e);!(r=t(h()));)d();return c(),r}}function b(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let s=typeof i;if(s!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function w(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}},6552:(e,t,r)=>{"use strict";r.d(t,{L:()=>d});var n=r(55944),i=r(27129);class s extends i.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}let a=new Map;var o=r(14810),u=r(16990);let c={current:0,take(){return this.current++},reset(){this.current=0}};var l=r(78563);function d(e,t={}){let{batch:r,fetchOptions:i,key:h="http",methods:f,name:p="HTTP JSON-RPC",onFetchRequest:m,onFetchResponse:y,retryDelay:g,raw:v}=t;return({chain:d,retryCount:b,timeout:w})=>{let{batchSize:_=1e3,wait:x=0}="object"==typeof r?r:{},E=t.retryCount??b,S=w??t.timeout??1e4,O=e||d?.rpcUrls.default.http[0];if(!O)throw new s;let C=function(e,t={}){return{async request(r){let{body:i,onRequest:s=t.onRequest,onResponse:a=t.onResponse,timeout:l=t.timeout??1e4}=r,d={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:h,method:f,signal:p}=d;try{let t,r=await (0,o.w)(async({signal:t})=>{let r={...d,body:Array.isArray(i)?(0,u.A)(i.map(e=>({jsonrpc:"2.0",id:e.id??c.take(),...e}))):(0,u.A)({jsonrpc:"2.0",id:i.id??c.take(),...i}),headers:{"Content-Type":"application/json",...h},method:f||"POST",signal:p||(l>0?t:null)},n=new Request(e,r),a=await s?.(n,r)??{...r,url:e};return await fetch(a.url??e,a)},{errorInstance:new n.MU({body:i,url:e}),timeout:l,signal:!0});if(a&&await a(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new n.Ci({body:i,details:(0,u.A)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){if(t instanceof n.Ci||t instanceof n.MU)throw t;throw new n.Ci({body:i,cause:t,url:e})}}}}(O,{fetchOptions:i,onRequest:m,onResponse:y,timeout:S});return(0,l.o)({key:h,methods:f,name:p,async request({method:e,params:t}){let i={method:e,params:t},{schedule:s}=function({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:i}){let s=async()=>{let t=c();o();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{i&&Array.isArray(e)&&e.sort(i);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},o=()=>a.delete(t),u=()=>c().map(({args:e})=>e),c=()=>a.get(t)||[],l=e=>a.set(t,[...c(),e]);return{flush:o,async schedule(e){let t,i,{promise:a,resolve:o,reject:d}=(t=()=>void 0,i=()=>void 0,{promise:new Promise((e,r)=>{t=e,i=r}),resolve:t,reject:i});return(r?.([...u(),e])&&s(),c().length>0)?l({args:e,resolve:o,reject:d}):(l({args:e,resolve:o,reject:d}),setTimeout(s,n)),a}}}({id:O,wait:x,shouldSplitBatch:e=>e.length>_,fn:e=>C.request({body:e}),sort:(e,t)=>e.id-t.id}),o=async e=>r?s(e):[await C.request({body:e})],[{error:u,result:c}]=await o(i);if(v)return{error:u,result:c};if(u)throw new n.J8({body:i,error:u,url:O});return c},retryCount:E,retryDelay:g,timeout:S,type:"http"},{fetchOptions:i,url:O})}}},14810:(e,t,r)=>{"use strict";function n(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let a;try{let o=new AbortController;r>0&&(a=setTimeout(()=>{n?o.abort():s(t)},r)),i(await e({signal:o?.signal||null}))}catch(e){e?.name==="AbortError"&&s(t),s(e)}finally{clearTimeout(a)}})()})}r.d(t,{w:()=>n})},25417:(e,t,r)=>{"use strict";t.I0=t.DH=t.NX=t.u8=t.cY=void 0,t.av=t.O6=t.w3=t.Wg=void 0;let n=r(43783);function i(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function s(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class a{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}class u extends a{isCount(){throw Error("ExternalLayout is abstract")}}class c extends u{constructor(e,t=0,r){if(!(e instanceof a))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class l extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}class d extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}function h(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function f(e,t){return 0x100000000*e+t}class p extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),n=r.readUInt32LE(t);return f(r.readUInt32LE(t+4),n)}encode(e,t,r=0){let n=h(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class m extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),n=r.readUInt32LE(t);return f(r.readInt32LE(t+4),n)}encode(e,t,r=0){let n=h(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class y extends a{constructor(e,t,r){if(!(e instanceof a))throw TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof u||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof u&&this.count.encode(e.length,t,r),i}}class g extends a{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof a,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){i(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,s=0;for(let n of this.fields){let a=n.span;if(s=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+s-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class v{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}class b extends v{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class w extends a{constructor(e,t,r){let n;if(e instanceof l||e instanceof d)n=new b(new c(e));else if(e instanceof u&&e.isCount())n=new b(e);else if(e instanceof v)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof a))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof l||e instanceof d)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof l||e instanceof d,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r,n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){let s=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[s.property]=s.decode(e,t+a)}else r=s.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+i.encode(e[i.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new _(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}class _ extends a{constructor(e,t,r,n){if(!(e instanceof w))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof a))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function x(e){return 0>e&&(e+=0x100000000),e}class E extends a{constructor(e,t,r){if(!(e instanceof l||e instanceof d))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=x(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new S(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new O(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}class S{constructor(e,t,r){if(!(e instanceof E))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=x(this.valueMask<<this.start),this.property=r}decode(e,t){return x(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==x(e&this.valueMask))throw TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=x(e<<this.start);this.container._packedSetValue(x(t&~this.wordMask)|r)}}class O extends S{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e*=1),super.encode(e)}}class C extends a{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(o("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=s(e);return s(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}t.cY=(e,t,r)=>new c(e,t,r),t.u8=e=>new l(1,e),t.NX=e=>new l(2,e),t.DH=e=>new l(4,e),t.I0=e=>new p(e),t.Wg=e=>new m(e),t.w3=(e,t,r)=>new g(e,t,r),t.O6=(e,t,r)=>new y(e,t,r),t.av=(e,t)=>new C(e,t)},31948:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>u,UT:()=>w,Xf:()=>v,fH:()=>g,hT:()=>y,u0:()=>o});var n=r(5039),i=r(39169);let s=BigInt(0),a=BigInt(1);function o(e,t){let r=t.negate();return e?r:t}function u(e,t,r){let n="pz"===t?e=>e.pz:e=>e.ez,s=(0,i.pS)(e.Fp,r.map(n));return r.map((e,t)=>e.toAffine(s[t])).map(e.fromAffine)}function c(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function l(e,t){c(e,t);let r=Math.ceil(t/e)+1,i=2**(e-1),s=2**e;return{windows:r,windowSize:i,mask:(0,n.OG)(e),maxNumber:s,shiftBy:BigInt(e)}}function d(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r,u=Number(e&i),c=e>>o;u>n&&(u-=s,c+=a);let l=t*n,d=l+Math.abs(u)-1,h=0===u;return{nextN:c,offset:d,isZero:h,isNeg:u<0,isNegF:t%2!=0,offsetF:l}}let h=new WeakMap,f=new WeakMap;function p(e){return f.get(e)||1}function m(e){if(e!==s)throw Error("invalid wNAF")}function y(e,t){return{constTimeNegate:o,hasPrecomputes:e=>1!==p(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>s;)r&a&&(n=n.add(i)),i=i.double(),r>>=a;return n},precomputeWindow(e,r){let{windows:n,windowSize:i}=l(r,t),s=[],a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(r,n,i){let s=e.ZERO,a=e.BASE,u=l(r,t);for(let e=0;e<u.windows;e++){let{nextN:t,offset:r,isZero:c,isNeg:l,isNegF:h,offsetF:f}=d(i,e,u);i=t,c?a=a.add(o(h,n[f])):s=s.add(o(l,n[r]))}return m(i),{p:s,f:a}},wNAFUnsafe(r,n,i,a=e.ZERO){let o=l(r,t);for(let e=0;e<o.windows&&i!==s;e++){let{nextN:t,offset:r,isZero:s,isNeg:u}=d(i,e,o);if(i=t,!s){let e=n[r];a=a.add(u?e.negate():e)}}return m(i),a},getPrecomputes(e,t,r){let n=h.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),h.set(t,n))),n},wNAFCached(e,t,r){let n=p(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=p(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){c(r,t),f.set(e,r),h.delete(e)}}}function g(e,t,r,n){let i=t,o=e.ZERO,u=e.ZERO;for(;r>s||n>s;)r&a&&(o=o.add(i)),n&a&&(u=u.add(i)),i=i.double(),r>>=a,n>>=a;return{p1:o,p2:u}}function v(e,t,r,i){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t);let s=r.length,a=i.length;if(s!==a)throw Error("arrays of points and scalars must have equal length");let o=e.ZERO,u=(0,n.dJ)(BigInt(s)),c=1;u>12?c=u-3:u>4?c=u-2:u>0&&(c=2);let l=(0,n.OG)(c),d=Array(Number(l)+1).fill(o),h=Math.floor((t.BITS-1)/c)*c,f=o;for(let e=h;e>=0;e-=c){d.fill(o);for(let t=0;t<a;t++){let n=Number(i[t]>>BigInt(e)&l);d[n]=d[n].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}function b(e,t){if(!t)return(0,i.D0)(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,i.jr)(t),t}function w(e,t,r={}){if(!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>s))throw Error(`CURVE.${e} must be positive bigint`)}let n=b(t.p,r.Fp),i=b(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}},39169:(e,t,r)=>{"use strict";r.d(t,{D0:()=>function e(t,r,f=!1,g={}){let v,b,x;if(t<=s)throw Error("invalid field: expected ORDER > 0, got "+t);if("object"==typeof r&&null!=r){if(g.sqrt||f)throw Error("cannot specify opts in two arguments");r.BITS&&(b=r.BITS),r.sqrt&&(x=r.sqrt),"boolean"==typeof r.isLE&&(f=r.isLE)}else"number"==typeof r&&(b=r),g.sqrt&&(x=g.sqrt);let{nBitLength:E,nByteLength:S}=function(e,t){void 0!==t&&(0,i.Fe)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}(t,b);if(S>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let O=Object.freeze({ORDER:t,isLE:f,BITS:E,BYTES:S,MASK:(0,n.OG)(E),ZERO:s,ONE:a,create:e=>h(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return s<=e&&e<t},is0:e=>e===s,isValidNot0:e=>!O.is0(e)&&O.isValid(e),isOdd:e=>(e&a)===a,neg:e=>h(-e,t),eql:(e,t)=>e===t,sqr:e=>h(e*e,t),add:(e,r)=>h(e+r,t),sub:(e,r)=>h(e-r,t),mul:(e,r)=>h(e*r,t),pow:(e,t)=>(function(e,t,r){if(r<s)throw Error("invalid exponent, negatives unsupported");if(r===s)return e.ONE;if(r===a)return t;let n=e.ONE,i=t;for(;r>s;)r&a&&(n=e.mul(n,i)),i=e.sqr(i),r>>=a;return n})(O,e,t),div:(e,r)=>h(e*p(r,t),t),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:e=>p(e,t),sqrt:x||(r=>(v||(v=t%c===u?m:t%d===l?y:function(t){if(t<BigInt(3))throw Error("sqrt is not defined for small field");let r=t-a,n=0;for(;r%o===s;)r/=o,n++;let i=o,u=e(t);for(;1===_(u,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===n)return m;let c=u.pow(i,r),l=(r+a)/o;return function(e,t){if(e.is0(t))return t;if(1!==_(e,t))throw Error("Cannot find square root");let i=n,s=e.mul(e.ONE,c),o=e.pow(t,r),u=e.pow(t,l);for(;!e.eql(o,e.ONE);){if(e.is0(o))return e.ZERO;let t=1,r=e.sqr(o);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=a<<BigInt(i-t-1),c=e.pow(s,n);i=t,s=e.sqr(c),o=e.mul(o,s),u=e.mul(u,c)}return u}}(t)),v(O,r))),toBytes:e=>f?(0,n.z)(e,S):(0,n.lq)(e,S),fromBytes:e=>{if(e.length!==S)throw Error("Field.fromBytes: expected "+S+" bytes, got "+e.length);return f?(0,n.lX)(e):(0,n.Ph)(e)},invertBatch:e=>w(O,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(O)},Tp:()=>E,dQ:()=>g,jr:()=>b,pS:()=>w,qy:()=>S,zH:()=>f,zi:()=>h});var n=r(5039),i=r(71792);let s=BigInt(0),a=BigInt(1),o=BigInt(2),u=BigInt(3),c=BigInt(4),l=BigInt(5),d=BigInt(8);function h(e,t){let r=e%t;return r>=s?r:t+r}function f(e,t,r){let n=e;for(;t-- >s;)n*=n,n%=r;return n}function p(e,t){if(e===s)throw Error("invert: expected non-zero number");if(t<=s)throw Error("invert: expected positive modulus, got "+t);let r=h(e,t),n=t,i=s,o=a,u=a,c=s;for(;r!==s;){let e=n/r,t=n%r,s=i-u*e,a=o-c*e;n=r,r=t,i=u,o=c,u=s,c=a}if(n!==a)throw Error("invert: does not exist");return h(i,t)}function m(e,t){let r=(e.ORDER+a)/c,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function y(e,t){let r=(e.ORDER-l)/d,n=e.mul(t,o),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,o),i),u=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(u),t))throw Error("Cannot find square root");return u}let g=(e,t)=>(h(e,t)&a)===a,v=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(e){let t=v.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,n.DS)(e,t),e}function w(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function _(e,t){let r=(e.ORDER-a)/o,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),u=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!u)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function x(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function E(e){let t=x(e);return t+Math.ceil(t/2)}function S(e,t,r=!1){let i=e.length,s=x(t),o=E(t);if(i<16||i<o||i>1024)throw Error("expected "+o+"-1024 bytes of input, got "+i);let u=h(r?(0,n.lX)(e):(0,n.Ph)(e),t-a)+a;return r?(0,n.z)(u,s):(0,n.lq)(u,s)}},46675:(e,t,r)=>{"use strict";r.d(t,{bI:()=>O});var n=r(10125),i=r(81120),s=r(5039),a=r(71792),o=r(31948),u=r(39169);function c(e){void 0!==e.lowS&&(0,s.e8)("lowS",e.lowS),void 0!==e.prehash&&(0,s.e8)("prehash",e.prehash)}class l extends Error{constructor(e=""){super(e)}}let d={Err:l,_tlv:{encode:(e,t)=>{let{Err:r}=d;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=(0,s.zW)(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?(0,s.zW)(i.length/2|128):"";return(0,s.zW)(e)+a+i+t},decode(e,t){let{Err:r}=d,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=d;if(e<h)throw new t("integer: negative integers are not allowed");let r=(0,s.zW)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=d;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,s.Ph)(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=d,i=(0,s.qj)("signature",e),{v:a,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");let{v:u,l:c}=n.decode(2,a),{v:l,l:h}=n.decode(2,c);if(h.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(u),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=d,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},h=BigInt(0),f=BigInt(1),p=BigInt(2),m=BigInt(3),y=BigInt(4);function g(e,t,r){let{BYTES:n}=e;return function(i){let a;if("bigint"==typeof i)a=i;else{let r=(0,s.qj)("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{a=e.fromBytes(r)}catch(e){throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(a=e.create(a)),!e.isValidNot0(a))throw Error("invalid private key: out of range [1..N-1]");return a}}function v(e){return Uint8Array.of(e?2:3)}let b={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},w=BigInt(0),_=BigInt(1),x=BigInt(2),E=(e,t)=>(e+t/x)/t,S=(0,u.D0)(b.p,void 0,void 0,{sqrt:function(e){let t=b.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,h=(0,u.zH)(d,r,t)*d%t,f=(0,u.zH)(h,r,t)*d%t,p=(0,u.zH)(f,x,t)*l%t,m=(0,u.zH)(p,i,t)*p%t,y=(0,u.zH)(m,s,t)*m%t,g=(0,u.zH)(y,o,t)*y%t,v=(0,u.zH)(g,c,t)*g%t,w=(0,u.zH)(v,o,t)*y%t,_=(0,u.zH)(w,r,t)*d%t,E=(0,u.zH)(_,a,t)*m%t,O=(0,u.zH)(E,n,t)*l%t,C=(0,u.zH)(O,x,t);if(!S.eql(S.sqr(C),e))throw Error("Cannot find square root");return C}}),O=function(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:(0,u.D0)(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:r}}(e);return{CURVE:t,curveOpts:r,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}(e),l=function(e,t,r={}){(0,s.DS)(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||a.po,o=t.hmac||((e,...r)=>(0,i.w)(t.hash,e,(0,a.Id)(...r))),{Fp:l,Fn:m}=e,{ORDER:y,BITS:b}=m;function w(e,t){if(!m.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class _{constructor(e,t,r){w("r",e),w("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=m.BYTES,r=(0,s.qj)("compactSignature",e,2*t);return new _(m.fromBytes(r.subarray(0,t)),m.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=d.toSig((0,s.qj)("DER",e));return new _(t,r)}assertValidity(){}addRecoveryBit(e){return new _(this.r,this.s,e)}recoverPublicKey(t){let r=l.ORDER,{r:n,s:i,recovery:o}=this;if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");if(y*p<r&&o>1)throw Error("recovery id is ambiguous for h>1 curve");let u=2===o||3===o?n+y:n;if(!l.isValid(u))throw Error("recovery id 2 or 3 invalid");let c=l.toBytes(u),d=e.fromHex((0,a.Id)(v((1&o)==0),c)),h=m.inv(u),f=O((0,s.qj)("msgHash",t)),g=m.create(-f*h),b=m.create(i*h),w=e.BASE.multiplyUnsafe(g).add(d.multiplyUnsafe(b));if(w.is0())throw Error("point at infinify");return w.assertValidity(),w}hasHighS(){return this.s>y>>f}normalizeS(){return this.hasHighS()?new _(this.r,m.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return(0,a.Id)(m.toBytes(this.r),m.toBytes(this.s));if("der"===e)return(0,a.aT)(d.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,a.My)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,a.My)(this.toBytes("compact"))}}let x=g(m,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function E(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=(0,s.qj)("key",t).length,i=l.BYTES,a=i+1;if(!r.allowedPrivateKeyLengths&&m.BYTES!==a)return n===a||n===2*i+1}let S=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,s.Ph)(e),r=8*e.length-b;return r>0?t>>BigInt(r):t},O=t.bits2int_modN||function(e){return m.create(S(e))},C=(0,s.OG)(b);function k(e){return(0,s.aK)("num < 2^"+b,e,h,C),m.toBytes(e)}let I={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t,r=!0){return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r,n=!0){if(!0===E(t))throw Error("first arg must be private key");if(!1===E(r))throw Error("second arg must be public key");return e.fromHex(r).multiply(x(t)).toBytes(n)},sign:function(r,i,u=I){let{seed:d,k2sig:p}=function(r,i,o=I){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:u}=t,{lowS:d,prehash:p,extraEntropy:g}=o;null==d&&(d=!0),r=(0,s.qj)("msgHash",r),c(o),p&&(r=(0,s.qj)("prehashed msgHash",u(r)));let v=O(r),b=x(i),w=[k(b),k(v)];if(null!=g&&!1!==g){let e=!0===g?n(l.BYTES):g;w.push((0,s.qj)("extraEntropy",e))}return{seed:(0,a.Id)(...w),k2sig:function(t){var r;let n=S(t);if(!m.isValidNot0(n))return;let i=m.inv(n),s=e.BASE.multiply(n).toAffine(),a=m.create(s.x);if(a===h)return;let o=m.create(i*m.create(v+a*b));if(o===h)return;let u=2*(s.x!==a)|Number(s.y&f),c=o;return d&&o>y>>f&&(c=(r=o)>y>>f?m.neg(r):r,u^=1),new _(a,c,u)}}}(r,i,u);return(0,s.fg)(t.hash.outputLen,m.BYTES,o)(d,p)},verify:function(r,n,i,o=A){let u,l;n=(0,s.qj)("msgHash",n),i=(0,s.qj)("publicKey",i),c(o);let{lowS:h,prehash:f,format:p}=o;if("strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==p&&!["compact","der","js"].includes(p))throw Error('format must be "compact", "der" or "js"');let y="string"==typeof r||(0,a.aY)(r),g=!y&&!p&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!y&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g)if(void 0===p||"js"===p)l=new _(r.r,r.s);else throw Error("invalid format");if(y){try{"compact"!==p&&(l=_.fromDER(r))}catch(e){if(!(e instanceof d.Err))throw e}l||"der"===p||(l=_.fromCompact(r))}u=e.fromHex(i)}catch(e){return!1}if(!l||h&&l.hasHighS())return!1;f&&(n=t.hash(n));let{r:v,s:b}=l,w=O(n),x=m.inv(b),E=m.create(w*x),S=m.create(v*x),C=e.BASE.multiplyUnsafe(E).add(u.multiplyUnsafe(S));return!C.is0()&&m.create(C.x)===v},utils:{isValidPrivateKey(e){try{return x(e),!0}catch(e){return!1}},normPrivateKeyToScalar:x,randomPrivateKey:()=>(0,u.qy)(n((0,u.Tp)(y)),y),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e,Signature:_})}(function(e,t={}){var r,n,i;let{Fp:u,Fn:c}=(0,o.UT)("weierstrass",e,t),{h:l,n:d}=e;(0,s.DS)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:p}=t;if(p&&(!u.is0(e.a)||"bigint"!=typeof p.beta||"function"!=typeof p.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function b(){if(!u.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let w=t.toBytes||function(e,t,r){let{x:n,y:i}=t.toAffine(),o=u.toBytes(n);if((0,s.e8)("isCompressed",r),!r)return(0,a.Id)(Uint8Array.of(4),o,u.toBytes(i));{b();let e=!u.isOdd(i);return(0,a.Id)(v(e),o)}},_=t.fromBytes||function(e){(0,a.DO)(e);let t=u.BYTES,r=t+1,n=2*t+1,i=e.length,s=e[0],o=e.subarray(1);if(i===r&&(2===s||3===s)){let e,t=u.fromBytes(o);if(!u.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=x(t);try{e=u.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return b(),(1&s)==1!==u.isOdd(e)&&(e=u.neg(e)),{x:t,y:e}}if(i===n&&4===s){let e=u.fromBytes(o.subarray(0*t,+t)),r=u.fromBytes(o.subarray(+t,2*t));if(!E(e,r))throw Error("bad point: is not on curve");return{x:e,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${r} or uncompressed=${n}`)},x=(r=u,n=e.a,i=e.b,function(e){let t=r.sqr(e),s=r.mul(t,e);return r.add(r.add(s,r.mul(e,n)),i)});function E(e,t){let r=u.sqr(t),n=x(e);return u.eql(r,n)}if(!E(e.Gx,e.Gy))throw Error("bad curve params: generator point");let S=u.mul(u.pow(e.a,m),y),O=u.mul(u.sqr(e.b),BigInt(27));if(u.is0(u.add(S,O)))throw Error("bad curve params: a or b");function C(e,t,r=!1){if(!u.isValid(t)||r&&u.is0(t))throw Error(`bad point coordinate ${e}`);return t}function k(e){if(!(e instanceof R))throw Error("ProjectivePoint expected")}let I=(0,s.x)((e,t)=>{let{px:r,py:n,pz:i}=e;if(u.eql(i,u.ONE))return{x:r,y:n};let s=e.is0();null==t&&(t=s?u.ONE:u.inv(i));let a=u.mul(r,t),o=u.mul(n,t),c=u.mul(i,t);if(s)return{x:u.ZERO,y:u.ZERO};if(!u.eql(c,u.ONE))throw Error("invZ was invalid");return{x:a,y:o}}),A=(0,s.x)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!u.is0(e.py))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!u.isValid(r)||!u.isValid(n))throw Error("bad point: x or y not field elements");if(!E(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function P(e,t,r,n,i){return r=new R(u.mul(r.px,e),r.py,r.pz),t=(0,o.u0)(n,t),r=(0,o.u0)(i,r),t.add(r)}class R{constructor(e,t,r){this.px=C("x",e),this.py=C("y",t,!0),this.pz=C("z",r),Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!u.isValid(t)||!u.isValid(r))throw Error("invalid affine point");if(e instanceof R)throw Error("projective point not allowed");return u.is0(t)&&u.is0(r)?R.ZERO:new R(t,r,u.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return(0,o.Ak)(R,"pz",e)}static fromBytes(e){return(0,a.DO)(e),R.fromHex(e)}static fromHex(e){let t=R.fromAffine(_((0,s.qj)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let r=g(c,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return R.BASE.multiply(r(e))}static msm(e,t){return(0,o.Xf)(R,c,e,t)}precompute(e=8,t=!0){return T.setWindowSize(this,e),t||this.multiply(m),this}_setWindowSize(e){this.precompute(e)}assertValidity(){A(this)}hasEvenY(){let{y:e}=this.toAffine();if(!u.isOdd)throw Error("Field doesn't support isOdd");return!u.isOdd(e)}equals(e){k(e);let{px:t,py:r,pz:n}=this,{px:i,py:s,pz:a}=e,o=u.eql(u.mul(t,a),u.mul(i,n)),c=u.eql(u.mul(r,a),u.mul(s,n));return o&&c}negate(){return new R(this.px,u.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=u.mul(r,m),{px:i,py:s,pz:a}=this,o=u.ZERO,c=u.ZERO,l=u.ZERO,d=u.mul(i,i),h=u.mul(s,s),f=u.mul(a,a),p=u.mul(i,s);return p=u.add(p,p),l=u.mul(i,a),l=u.add(l,l),o=u.mul(t,l),c=u.mul(n,f),c=u.add(o,c),o=u.sub(h,c),c=u.add(h,c),c=u.mul(o,c),o=u.mul(p,o),l=u.mul(n,l),f=u.mul(t,f),p=u.sub(d,f),p=u.mul(t,p),p=u.add(p,l),l=u.add(d,d),d=u.add(l,d),d=u.add(d,f),d=u.mul(d,p),c=u.add(c,d),f=u.mul(s,a),f=u.add(f,f),d=u.mul(f,p),o=u.sub(o,d),l=u.mul(f,h),l=u.add(l,l),new R(o,c,l=u.add(l,l))}add(t){k(t);let{px:r,py:n,pz:i}=this,{px:s,py:a,pz:o}=t,c=u.ZERO,l=u.ZERO,d=u.ZERO,h=e.a,f=u.mul(e.b,m),p=u.mul(r,s),y=u.mul(n,a),g=u.mul(i,o),v=u.add(r,n),b=u.add(s,a);v=u.mul(v,b),b=u.add(p,y),v=u.sub(v,b),b=u.add(r,i);let w=u.add(s,o);return b=u.mul(b,w),w=u.add(p,g),b=u.sub(b,w),w=u.add(n,i),c=u.add(a,o),w=u.mul(w,c),c=u.add(y,g),w=u.sub(w,c),d=u.mul(h,b),c=u.mul(f,g),d=u.add(c,d),c=u.sub(y,d),d=u.add(y,d),l=u.mul(c,d),y=u.add(p,p),y=u.add(y,p),g=u.mul(h,g),b=u.mul(f,b),y=u.add(y,g),g=u.sub(p,g),g=u.mul(h,g),b=u.add(b,g),p=u.mul(y,b),l=u.add(l,p),p=u.mul(w,b),c=u.mul(v,c),c=u.sub(c,p),p=u.mul(v,y),d=u.mul(w,d),new R(c,l,d=u.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(R.ZERO)}multiply(e){let r,n,{endo:i}=t;if(!c.isValidNot0(e))throw Error("invalid scalar: out of range");let s=e=>T.wNAFCached(this,e,R.normalizeZ);if(i){let{k1neg:t,k1:a,k2neg:o,k2:u}=i.splitScalar(e),{p:c,f:l}=s(a),{p:d,f:h}=s(u);n=l.add(h),r=P(i.beta,c,d,t,o)}else{let{p:t,f:i}=s(e);r=t,n=i}return R.normalizeZ([r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!c.isValid(e))throw Error("invalid scalar: out of range");if(e===h||this.is0())return R.ZERO;if(e===f)return this;if(T.hasPrecomputes(this))return this.multiply(e);if(!r)return T.wNAFCachedUnsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:s}=r.splitScalar(e),{p1:a,p2:u}=(0,o.fH)(R,this,n,s);return P(r.beta,a,u,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return I(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return l===f||(e?e(R,this):T.wNAFCachedUnsafe(this,d).is0())}clearCofactor(){let{clearCofactor:e}=t;return l===f?this:e?e(R,this):this.multiplyUnsafe(l)}toBytes(e=!0){return(0,s.e8)("isCompressed",e),this.assertValidity(),w(R,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return(0,a.My)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}R.BASE=new R(e.Gx,e.Gy,u.ONE),R.ZERO=new R(u.ZERO,u.ONE,u.ZERO),R.Fp=u,R.Fn=c;let j=c.BITS,T=(0,o.hT)(R,t.endo?Math.ceil(j/2):j);return R}(t,r),n,r);return Object.assign({},l,{ProjectivePoint:l.Point,CURVE:e})})({...e,hash:t});return{...r(t),create:r}}({...b,Fp:S,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=b.n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=BigInt("0x100000000000000000000000000000000"),a=E(r*e,t),o=E(-n*e,t),c=(0,u.zi)(e-a*r-o*i,t),l=(0,u.zi)(-a*n-o*r,t),d=c>s,h=l>s;if(d&&(c=t-c),h&&(l=t-l),c>s||l>s)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:l}}}},n.sc),C={},k=e=>e.toBytes(!0).slice(1),I=e=>mod(e,b.n),A=e=>e%x===w},50207:(e,t,r)=>{"use strict";e.exports=r(87126)},54857:(e,t,r)=>{"use strict";let n=r(12310).v4,i=r(65766),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=s,s.prototype.request=function(e,t,r,n){let s,a=this,o=null,u=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&u)throw TypeError("JSON-RPC 1.0 does not support batching");let c=!u&&e&&"object"==typeof e&&"function"==typeof t;if(u||c)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);let s="function"==typeof n;try{o=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return n(e);throw e}if(!s)return o}try{s=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(s,function(e,t){a._parseResponse(e,t,n)}),o},s.prototype._parseResponse=function(e,t,r){let n;if(e)return void r(e);if(!t)return r();try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length)if(!Array.isArray(n))return r(null,n.error,n.result);else{let e=function(e){return void 0!==e.error};return r(null,n.filter(e),n.filter(function(t){return!e(t)}))}r(null,n)}},58107:(e,t,r)=>{e.exports=r(66110)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},60181:(e,t,r)=>{"use strict";function n([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}r.d(t,{g2:()=>_,eC:()=>b});var i=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){let{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(n).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}};function s(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function a({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:r,rpcEnumError:n},a){let o,u;"string"==typeof n?o=n:(o=Object.keys(n)[0],u=n[o]);let c=e+r.indexOf(o),l=t(c,o,u),d=new i(c,l);return s(d,a),d}function o(e){var t;let r;if("object"==typeof(t=e)&&null!==t&&"code"in t&&"message"in t&&("number"==typeof t.code||"bigint"==typeof t.code)&&"string"==typeof t.message){let{code:t,data:n,message:s}=e,o=Number(t);if(-32002===o){let{err:e,...t}=n,s=e?{cause:function e(t){return"object"==typeof t&&"InstructionError"in t?function e(t,r){let n=Number(t);return a({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>4615e3===e?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:4615026===e?{code:Number(r),index:n}:4615045===e?{encodedData:r,index:n}:{index:n},orderedErrorNames:null,rpcEnumError:r},e)}(...t.InstructionError):a({errorCodeBaseOffset:7050001,getErrorContext:(e,t,r)=>705e4===e?{errorName:t,...void 0!==r?{transactionErrorContext:r}:null}:7050030===e?{index:Number(r)}:7050031===e||7050035===e?{accountIndex:Number(r.account_index)}:void 0,orderedErrorNames:null,rpcEnumError:t},e)}(e)}:null;r=new i(-32002,{...t,...s})}else{let e;switch(o){case -32603:case -32602:case -32600:case -32601:case -32700:case -32012:case -32001:case -32004:case -32014:case -32010:case -32009:case -32007:case -32006:case -32015:e={__serverMessage:s};break;default:"object"!=typeof n||Array.isArray(n)||(e=n)}r=new i(o,e)}}else{let t="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";r=new i(10,{error:e,message:t})}return s(r,o),r}var u=(e,t)=>{if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r};function c(e){return Object.freeze({...e,encode:t=>{var r,n;let i=new Uint8Array((r=t,"fixedSize"in(n=e)?n.fixedSize:n.getSizeFromValue(r)));return e.write(t,i,0),i}})}function l(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function d(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function h(e,t,r){if(t<0||t>r)throw new SolanaError(SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:e,offset:t})}function f(e,t){return 0===t?0:(e%t+t)%t}function p(e,t,r,n){if(n<t||n>r)throw new i(8078011,{codecDescription:e,max:r,min:t,value:n})}var m=(e=>(e[e.Little=0]="Little",e[e.Big=1]="Big",e))(m||{});function y(e){return e?.endian!==1}function g(e){return c({fixedSize:e.size,write(t,r,n){e.range&&p(e.name,e.range[0],e.range[1],t);let i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,y(e.config)),r.set(new Uint8Array(i),n),n+e.size}})}function v(e){return l({fixedSize:e.size,read(t,r=0){!function(e,t,r=0){if(t.length-r<=0)throw new i(8078e3,{codecDescription:e})}(e.name,t,r),function(e,t,r,n=0){let s=r.length-n;if(s<t)throw new i(8078001,{bytesLength:s,codecDescription:e,expected:t})}(e.name,e.size,t,r);let n=new DataView(function(e,t,r){let n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(t,r,e.size));return[e.get(n,y(e.config)),r+e.size]}})}var b=(e={})=>g({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),w=(e={})=>v({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),_=(e={})=>(function(e,t){if(d(e)!==d(t))throw new i(8078004);if(d(e)&&d(t)&&e.fixedSize!==t.fixedSize)throw new i(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!d(e)&&!d(t)&&e.maxSize!==t.maxSize)throw new i(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(b(e),w(e))},60575:function(e,t,r){"use strict";var n=r(43783).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;let c=u(r(25129)),l=u(r(58107)),d=o(r(98257)),h=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=n.from(e,"utf8")),l.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(l.default.decode(e))};class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=f;class p{constructor(){this.buf=n.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new f("Reached the end of buffer when deserializing");throw e}}}t.BinaryWriter=p;class y{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new c.default(e,"le")}readU128(){let e=this.readBuffer(16);return new c.default(e,"le")}readU256(){let e=this.readBuffer(32);return new c.default(e,"le")}readU512(){let e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(e){throw new f(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function v(e,t,r,n,i){try{if("string"==typeof n)i[`write${g(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new f(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)v(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{v(e,t,r,n[0],i)});else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),v(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,s)=>{v(e,t,s,n.key,i),v(e,t,r,n.value,i)});break;default:throw new f(`FieldType ${n} unrecognized`)}else b(e,r,i)}catch(e){throw e instanceof f&&e.addToFieldPath(t),e}}function b(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);let n=e.get(t.constructor);if(!n)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{v(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let s=0;s<n.values.length;++s){let[a,o]=n.values[s];if(a===i){r.writeU8(s),v(e,a,t[a],o,r);break}}}else throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function w(e,t,r,n){try{if("string"==typeof r)return n[`read${g(r)}`]();if(r instanceof Array)if("number"==typeof r[0])return n.readFixedArray(r[0]);else{if("number"!=typeof r[1])return n.readArray(()=>w(e,t,r[0],n));let i=[];for(let t=0;t<r[1];t++)i.push(w(e,null,r[0],n));return i}if("option"===r.kind){if(n.readU8())return w(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let s=w(e,t,r.key,n),a=w(e,t,r.value,n);i.set(s,a)}return i}return _(e,r,n)}catch(e){throw e instanceof f&&e.addToFieldPath(t),e}}function _(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new f(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,s]of e.get(t).fields)n[i]=w(e,i,s,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],o=w(e,s,a,r);return new t({[s]:o})}throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}a([m],y.prototype,"readU8",null),a([m],y.prototype,"readU16",null),a([m],y.prototype,"readU32",null),a([m],y.prototype,"readU64",null),a([m],y.prototype,"readU128",null),a([m],y.prototype,"readU256",null),a([m],y.prototype,"readU512",null),a([m],y.prototype,"readString",null),a([m],y.prototype,"readFixedArray",null),a([m],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t,r=p){let n=new r;return b(e,t,n),n.toArray()},t.deserialize=function(e,t,r,n=y){let i=new n(r),s=_(e,t,i);if(i.offset<r.length)throw new f(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,r,n=y){return _(e,t,new n(r))}},65766:(e,t,r)=>{"use strict";let n=r(12310).v4;e.exports=function(e,t,r,i){if("string"!=typeof e)throw TypeError(e+" must be a string");let s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw TypeError(s+" must be 1 or 2");let a={method:e};if(2===s&&(a.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");a.params=t}return void 0===r?a.id=("function"==typeof i.generator?i.generator:function(){return n()})(a,i):2===s&&null===r?i.notificationIdNull&&(a.id=null):a.id=r,a}},66110:(e,t,r)=>{"use strict";var n=r(3126).Buffer;e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==t[a])throw TypeError(s+" is ambiguous");t[a]=i}var o=e.length,u=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===u;)i++,r++;for(var a=(e.length-r)*c+1>>>0,l=new Uint8Array(a);r<e.length;){var d=e.charCodeAt(r);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=a-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=o*l[p]>>>0,l[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");s=f,r++}for(var m=a-s;m!==a&&0===l[m];)m++;var y=n.allocUnsafe(i+(a-m));y.fill(0,0,i);for(var g=i;m!==a;)y[g++]=l[m++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,a=t.length;s!==a&&0===t[s];)s++,r++;for(var c=(a-s)*l+1>>>0,d=new Uint8Array(c);s!==a;){for(var h=t[s],f=0,p=c-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%o>>>0,h=h/o>>>0;if(0!==h)throw Error("Non-zero carry");i=f,s++}for(var m=c-i;m!==c&&0===d[m];)m++;for(var y=u.repeat(r);m<c;++m)y+=e.charAt(d[m]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+o+" character")}}}},73597:(e,t,r)=>{"use strict";var n=r(3821),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,a=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return o(function(){i.value=r,i.getSnapshot=t,c(i)&&l({inst:i})},[e,r,t]),a(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},80678:(e,t,r)=>{"use strict";e.exports=r(73597)},81120:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(71792);class i extends n.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.sd)(e);let r=(0,n.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),(0,n.uH)(s)}update(e){return(0,n.CC)(this),this.iHash.update(e),this}digestInto(e){(0,n.CC)(this),(0,n.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s=(e,t,r)=>new i(e,t).update(r).digest();s.create=(e,t)=>new i(e,t)},86480:(e,t,r)=>{"use strict";let n,i,s,a,o,u;r.d(t,{hp:()=>iw,BN:()=>iE,dI:()=>ix});var c,l,d,h,f=r(29913),p=r(72872);let m=(0,r(37509).x)({...p.o,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...p.o.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7}),y={address:null,apiKey:null,chain:m,config:{analytics:!0,analyticsUrl:null,appearance:{name:null,logo:null,mode:null,theme:null},paymaster:null,wallet:{display:null,termsUrl:null,privacyUrl:null,supportedWallets:{rabby:!1,trust:!1,frame:!1}}},rpcUrl:null,schemaId:null,projectId:null,sessionId:null},g=e=>y[e],v=e=>(Object.assign(y,e),g);var b=r(3821),w="undefined"==typeof window||"Deno"in globalThis;function _(){}function x(e){return"number"==typeof e&&e>=0&&e!==1/0}function E(e,t){return Math.max(e+(t||0)-Date.now(),0)}function S(e,t){return"function"==typeof e?e(t):e}function O(e,t){return"function"==typeof e?e(t):e}function C(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==I(a,t.options))return!1}else if(!P(t.queryKey,a))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!i||i===t.state.fetchStatus)&&(!s||!!s(t))}function k(e,t){let{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(A(t.options.mutationKey)!==A(s))return!1}else if(!P(t.options.mutationKey,s))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function I(e,t){return(t?.queryKeyHashFn||A)(e)}function A(e){return JSON.stringify(e,(e,t)=>T(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function P(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>P(e[r],t[r]))}function R(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function j(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function T(e){if(!B(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!B(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function B(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let n=j(t)&&j(r);if(n||T(t)&&T(r)){let i=n?t:Object.keys(t),s=i.length,a=n?r:Object.keys(r),o=a.length,u=n?[]:{},c=new Set(i),l=0;for(let i=0;i<o;i++){let s=n?i:a[i];(!n&&c.has(s)||n)&&void 0===t[s]&&void 0===r[s]?(u[s]=void 0,l++):(u[s]=e(t[s],r[s]),u[s]===t[s]&&void 0!==t[s]&&l++)}return s===o&&l===s?t:u}return r}(e,t):t}function U(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function F(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var M=Symbol();function q(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==M?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function D(e,t){return"function"==typeof e?e(...t):!!e}var L=e=>setTimeout(e,0),z=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=L,s=n=>{t?e.push(n):i(()=>{r(n)})},a=()=>{let t=e;e=[],t.length&&i(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||a()}return r},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}(),Z=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$=new class extends Z{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!w&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}},H=new class extends Z{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!w&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function K(){let e,t,r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}function W(e){return Math.min(1e3*2**e,3e4)}function Q(e){return(e??"online")!=="online"||H.isOnline()}var V=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function G(e){return e instanceof V}function J(e){let t,r=!1,n=0,i=!1,s=K(),a=()=>$.isFocused()&&("always"===e.networkMode||H.isOnline())&&e.canRun(),o=()=>Q(e.networkMode)&&e.canRun(),u=r=>{i||(i=!0,e.onSuccess?.(r),t?.(),s.resolve(r))},c=r=>{i||(i=!0,e.onError?.(r),t?.(),s.reject(r))},l=()=>new Promise(r=>{t=e=>{(i||a())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,i||e.onContinue?.()}),d=()=>{let t;if(i)return;let s=0===n?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(u).catch(t=>{if(i)return;let s=e.retry??3*!w,o=e.retryDelay??W,u="function"==typeof o?o(n,t):o,h=!0===s||"number"==typeof s&&n<s||"function"==typeof s&&s(n,t);if(r||!h)return void c(t);n++,e.onFail?.(n,t),new Promise(e=>{setTimeout(e,u)}).then(()=>a()?void 0:l()).then(()=>{r?c(t):d()})})};return{promise:s,cancel:t=>{i||(c(new V(t)),e.abort?.())},continue:()=>(t?.(),s),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?d():l().then(d),s)}}var Y=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x(this.gcTime)&&(this.#i=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(w?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},X=class extends Y{#s;#a;#o;#u;#c;#l;#d;constructor(e){super(),this.#d=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#o=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){let r=N(this.state.data,e,this.options);return this.#h({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(_).catch(_):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some(e=>!1!==O(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===S(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!E(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#c&&(this.#d?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,r.signal)})},i=()=>{let e=q(this.options,t),r=(()=>{let e={client:this.#u,queryKey:this.queryKey,meta:this.meta};return n(e),e})();return(this.#d=!1,this.options.persister)?this.options.persister(e,r,this):e(r)},s=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:i};return n(e),e})();this.options.behavior?.onFetch(s,this),this.#a=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#h({type:"fetch",meta:s.fetchOptions?.meta});let a=e=>{G(e)&&e.silent||this.#h({type:"error",error:e}),G(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=J({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e)return void a(Error(`${this.queryHash} data is undefined`));try{this.setData(e)}catch(e){a(e);return}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()},onError:a,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#c.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ee(t.data,this.options),fetchMeta:e.meta??null};case"success":return this.#a=void 0,{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if(G(r)&&r.revert&&this.#a)return{...this.#a,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),z.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:e})})}};function ee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var et=class extends Z{constructor(e={}){super(),this.config=e,this.#f=new Map}#f;build(e,t,r){let n=t.queryKey,i=t.queryHash??I(n,t),s=this.get(i);return s||(s=new X({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#f.has(e.queryHash)||(this.#f.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#f.get(e.queryHash);t&&(e.destroy(),t===e&&this.#f.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#f.get(e)}getAll(){return[...this.#f.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>C(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>C(e,t)):t}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},er=class extends Y{#p;#m;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#m=e.mutationCache,this.#p=[],this.state=e.state||en(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter(t=>t!==e),this.scheduleGc(),this.#m.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#m.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#h({type:"continue"})};this.#c=J({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#m.canRun(this)});let r="pending"===this.state.status,n=!this.#c.canStart();try{if(r)t();else{this.#h({type:"pending",variables:e,isPaused:n}),await this.#m.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:n})}let i=await this.#c.start();return await this.#m.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#m.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#h({type:"success",data:i}),i}catch(t){try{throw await this.#m.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#m.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#h({type:"error",error:t})}}finally{this.#m.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),z.batch(()=>{this.#p.forEach(t=>{t.onMutationUpdate(e)}),this.#m.notify({mutation:this,type:"updated",action:e})})}};function en(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ei=class extends Z{constructor(e={}){super(),this.config=e,this.#y=new Set,this.#g=new Map,this.#v=0}#y;#g;#v;build(e,t,r){let n=new er({mutationCache:this,mutationId:++this.#v,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#y.add(e);let t=es(e);if("string"==typeof t){let r=this.#g.get(t);r?r.push(e):this.#g.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#y.delete(e)){let t=es(e);if("string"==typeof t){let r=this.#g.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#g.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=es(e);if("string"!=typeof t)return!0;{let r=this.#g.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=es(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#g.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){z.batch(()=>{this.#y.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#y.clear(),this.#g.clear()})}getAll(){return Array.from(this.#y)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>k(t,e))}findAll(e={}){return this.getAll().filter(t=>k(e,t))}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return z.batch(()=>Promise.all(e.map(e=>e.continue().catch(_))))}};function es(e){return e.options.scope?.id}function ea(e){return{onFetch:(t,r)=>{let n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[],o={pages:[],pageParams:[]},u=0,c=async()=>{let r=!1,c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)})},l=q(t.options,t.fetchOptions),d=async(e,n,i)=>{if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let s=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta};return c(e),e})(),a=await l(s),{maxPages:o}=t.options,u=i?F:U;return{pages:u(e.pages,a,o),pageParams:u(e.pageParams,n,o)}};if(i&&s.length){let e="backward"===i,t={pages:s,pageParams:a},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:eo)(n,t);o=await d(t,r,e)}else{let t=e??s.length;do{let e=0===u?a[0]??n.initialPageParam:eo(n,o);if(u>0&&null==e)break;o=await d(o,e),u++}while(u<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function eo(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}var eu=class{#b;#m;#l;#w;#_;#x;#E;#S;constructor(e={}){this.#b=e.queryCache||new et,this.#m=e.mutationCache||new ei,this.#l=e.defaultOptions||{},this.#w=new Map,this.#_=new Map,this.#x=0}mount(){this.#x++,1===this.#x&&(this.#E=$.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#b.onFocus())}),this.#S=H.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#b.onOnline())}))}unmount(){this.#x--,0===this.#x&&(this.#E?.(),this.#E=void 0,this.#S?.(),this.#S=void 0)}isFetching(e){return this.#b.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#m.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#b.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(S(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#b.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),i=this.#b.get(n.queryHash),s=i?.state.data,a="function"==typeof t?t(s):t;if(void 0!==a)return this.#b.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return z.batch(()=>this.#b.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state}removeQueries(e){let t=this.#b;z.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#b;return z.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(z.batch(()=>this.#b.findAll(e).map(e=>e.cancel(r)))).then(_).catch(_)}invalidateQueries(e,t={}){return z.batch(()=>(this.#b.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(z.batch(()=>this.#b.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(_)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(_)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#b.build(this,t);return r.isStaleByTime(S(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_).catch(_)}fetchInfiniteQuery(e){return e.behavior=ea(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_).catch(_)}ensureInfiniteQueryData(e){return e.behavior=ea(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return H.isOnline()?this.#m.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#b}getMutationCache(){return this.#m}getDefaultOptions(){return this.#l}setDefaultOptions(e){this.#l=e}setQueryDefaults(e,t){this.#w.set(A(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#w.values()],r={};return t.forEach(t=>{P(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#_.set(A(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#_.values()],r={};return t.forEach(t=>{P(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#l.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=I(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===M&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#l.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#b.clear(),this.#m.clear()}},ec=b.createContext(void 0),el=e=>{let t=b.useContext(ec);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},ed=e=>{let{client:t,children:r}=e;return b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,f.jsx)(ec.Provider,{value:t,children:r})},eh=r(23255),ef=r(60978),ep=r(13753),em=r(62968),ey=r(82809);function eg(e={}){var t,n;let i,s,a,o,u,c,l,d,h;return"3"===e.version||e.headlessMode?(t=e,e=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:eg.type,async connect({chainId:e}={}){try{let t=await this.getProvider(),r=(await t.request({method:"eth_requestAccounts"})).map(e=>(0,ep.b)(e));a||(a=this.onAccountsChanged.bind(this),t.on("accountsChanged",a)),o||(o=this.onChainChanged.bind(this),t.on("chainChanged",o)),u||(u=this.onDisconnect.bind(this),t.on("disconnect",u));let n=await this.getChainId();if(e&&n!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===em.vx.code)throw e;return{id:n}});n=t?.id??n}return{accounts:r,chainId:n}}catch(e){if(/(user closed modal|accounts received is empty|user denied account)/i.test(e.message))throw new em.vx(e);throw e}},async disconnect(){let e=await this.getProvider();a&&(e.removeListener("accountsChanged",a),a=void 0),o&&(e.removeListener("chainChanged",o),o=void 0),u&&(e.removeListener("disconnect",u),u=void 0),e.disconnect(),e.close()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,ep.b)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},async getProvider(){if(!s){i=new(await (async()=>{let{default:e}=await r.e(3614).then(r.t.bind(r,83614,19));return"function"!=typeof e&&"function"==typeof e.default?e.default:e})())({...t,reloadOnDisconnect:!1});let n=i.walletExtension?.getChainId(),a=e.chains.find(e=>t.chainId?e.id===t.chainId:e.id===n)||e.chains[0],o=t.chainId||a?.id,u=t.jsonRpcUrl||a?.rpcUrls.default.http[0];s=i.makeWeb3Provider(u,o)}return s},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:t,chainId:r}){let n=e.chains.find(e=>e.id===r);if(!n)throw new em.ch(new ef.nk);let i=await this.getProvider();try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,ey.cK)(n.id)}]}),n}catch(e){if(4902===e.code)try{let e,s;e=t?.blockExplorerUrls?t.blockExplorerUrls:n.blockExplorers?.default.url?[n.blockExplorers?.default.url]:[],s=t?.rpcUrls?.length?t.rpcUrls:[n.rpcUrls.default?.http[0]??""];let a={blockExplorerUrls:e,chainId:(0,ey.cK)(r),chainName:t?.chainName??n.name,iconUrls:t?.iconUrls,nativeCurrency:t?.nativeCurrency??n.nativeCurrency,rpcUrls:s};return await i.request({method:"wallet_addEthereumChain",params:[a]}),n}catch(e){throw new em.vx(e)}throw new em.ch(e)}},onAccountsChanged(t){0===t.length?this.onDisconnect():e.emitter.emit("change",{accounts:t.map(e=>(0,ep.b)(e))})},onChainChanged(t){let r=Number(t);e.emitter.emit("change",{chainId:r})},async onDisconnect(t){e.emitter.emit("disconnect");let r=await this.getProvider();a&&(r.removeListener("accountsChanged",a),a=void 0),o&&(r.removeListener("chainChanged",o),o=void 0),u&&(r.removeListener("disconnect",u),u=void 0)}})):(n=e,e=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:eg.type,async connect({chainId:e,...t}={}){try{let r=await this.getProvider(),n=(await r.request({method:"eth_requestAccounts",params:"instantOnboarding"in t&&t.instantOnboarding?[{onboarding:"instant"}]:[]})).map(e=>(0,ep.b)(e));l||(l=this.onAccountsChanged.bind(this),r.on("accountsChanged",l)),d||(d=this.onChainChanged.bind(this),r.on("chainChanged",d)),h||(h=this.onDisconnect.bind(this),r.on("disconnect",h));let i=await this.getChainId();if(e&&i!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===em.vx.code)throw e;return{id:i}});i=t?.id??i}return{accounts:n,chainId:i}}catch(e){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(e.message))throw new em.vx(e);throw e}},async disconnect(){let e=await this.getProvider();l&&(e.removeListener("accountsChanged",l),l=void 0),d&&(e.removeListener("chainChanged",d),d=void 0),h&&(e.removeListener("disconnect",h),h=void 0),e.disconnect(),e.close?.()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,ep.b)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},async getProvider(){if(!c){let t="string"==typeof n.preference?{options:n.preference}:{...n.preference,options:n.preference?.options??"all"},{createCoinbaseWalletSDK:i}=await r.e(6296).then(r.bind(r,56296));c=i({...n,appChainIds:e.chains.map(e=>e.id),preference:t}).getProvider()}return c},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:t,chainId:r}){let n=e.chains.find(e=>e.id===r);if(!n)throw new em.ch(new ef.nk);let i=await this.getProvider();try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,ey.cK)(n.id)}]}),n}catch(e){if(4902===e.code)try{let e,s;e=t?.blockExplorerUrls?t.blockExplorerUrls:n.blockExplorers?.default.url?[n.blockExplorers?.default.url]:[],s=t?.rpcUrls?.length?t.rpcUrls:[n.rpcUrls.default?.http[0]??""];let a={blockExplorerUrls:e,chainId:(0,ey.cK)(r),chainName:t?.chainName??n.name,iconUrls:t?.iconUrls,nativeCurrency:t?.nativeCurrency??n.nativeCurrency,rpcUrls:s};return await i.request({method:"wallet_addEthereumChain",params:[a]}),n}catch(e){throw new em.vx(e)}throw new em.ch(e)}},onAccountsChanged(t){0===t.length?this.onDisconnect():e.emitter.emit("change",{accounts:t.map(e=>(0,ep.b)(e))})},onChainChanged(t){let r=Number(t);e.emitter.emit("change",{chainId:r})},async onDisconnect(t){e.emitter.emit("disconnect");let r=await this.getProvider();l&&(r.removeListener("accountsChanged",l),l=void 0),d&&(r.removeListener("chainChanged",d),d=void 0),h&&(r.removeListener("disconnect",h),h=void 0)}}))}eg.type="coinbaseWallet";var ev=r(38089);let eb=e=>(t,r,n)=>{let i=n.subscribe;return n.subscribe=(e,t,r)=>{let s=e;if(t){let i=(null==r?void 0:r.equalityFn)||Object.is,a=e(n.getState());s=r=>{let n=e(r);if(!i(a,n)){let e=a;t(a=n,e)}},(null==r?void 0:r.fireImmediately)&&t(a,a)}return i(s)},e(t,r,n)},ew=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>ew(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>ew(t)(e)}}},e_=(e,t)=>(r,n,i)=>{let s,a={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=r.getItem(e))?t:null;return i instanceof Promise?i.then(n):n(i)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,u=new Set,c=new Set,l=a.storage;if(!l)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...e)},n,i);let d=()=>{let e=a.partialize({...n()});return l.setItem(a.name,{state:e,version:a.version})},h=i.setState;i.setState=(e,t)=>{h(e,t),d()};let f=e((...e)=>{r(...e),d()},n,i);i.getInitialState=()=>f;let p=()=>{var e,t;if(!l)return;o=!1,u.forEach(e=>{var t;return e(null!=(t=n())?t:f)});let i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=n())?e:f))||void 0;return ew(l.getItem.bind(l))(a.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];else{if(a.migrate)return[!0,a.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[i,o]=e;if(r(s=a.merge(o,null!=(t=n())?t:f),!0),i)return d()}).then(()=>{null==i||i(s,void 0),s=n(),o=!0,c.forEach(e=>e(s))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(l=e.storage)},clearStorage:()=>{null==l||l.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},a.skipHydration||p(),s||f},ex=e=>{let t,r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,s={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,i,s);return s},eE=e=>e?ex(e):ex;var eS=r(14810),eO=r(76919),eC=r(271);function ek(e={}){let t,r,n,i,{shimDisconnect:s=!0,unstable_shimAsyncInject:a}=e;function o(){let t=e.target;if("function"==typeof t){let e=t();if(e)return e}return"object"==typeof t?t:"string"==typeof t?{...eI[t]??{id:t,name:`${t[0].toUpperCase()}${t.slice(1)}`,provider:`is${t[0].toUpperCase()}${t.slice(1)}`}}:{id:"injected",name:"Injected",provider:e=>e?.ethereum}}return u=>({get icon(){return o().icon},get id(){return o().id},get name(){return o().name},get supportsSimulation(){return!0},type:ek.type,async setup(){let r=await this.getProvider();r?.on&&e.target&&(n||(n=this.onConnect.bind(this),r.on("connect",n)),t||(t=this.onAccountsChanged.bind(this),r.on("accountsChanged",t)))},async connect({chainId:a,isReconnecting:o}={}){let c=await this.getProvider();if(!c)throw new eC.N;let l=[];if(o)l=await this.getAccounts().catch(()=>[]);else if(s)try{let e=await c.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});(l=e[0]?.caveats?.[0]?.value?.map(e=>(0,ep.b)(e))).length>0&&(l=await this.getAccounts())}catch(e){if(e.code===em.vx.code)throw new em.vx(e);if(e.code===em.qZ.code)throw e}try{l?.length||o||(l=(await c.request({method:"eth_requestAccounts"})).map(e=>(0,ep.b)(e))),n&&(c.removeListener("connect",n),n=void 0),t||(t=this.onAccountsChanged.bind(this),c.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),c.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),c.on("disconnect",i));let d=await this.getChainId();if(a&&d!==a){let e=await this.switchChain({chainId:a}).catch(e=>{if(e.code===em.vx.code)throw e;return{id:d}});d=e?.id??d}return s&&await u.storage?.removeItem(`${this.id}.disconnected`),e.target||await u.storage?.setItem("injected.connected",!0),{accounts:l,chainId:d}}catch(e){if(e.code===em.vx.code)throw new em.vx(e);if(e.code===em.qZ.code)throw new em.qZ(e);throw e}},async disconnect(){let t=await this.getProvider();if(!t)throw new eC.N;r&&(t.removeListener("chainChanged",r),r=void 0),i&&(t.removeListener("disconnect",i),i=void 0),n||(n=this.onConnect.bind(this),t.on("connect",n));try{await (0,eS.w)(()=>t.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}s&&await u.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await u.storage?.removeItem("injected.connected")},async getAccounts(){let e=await this.getProvider();if(!e)throw new eC.N;return(await e.request({method:"eth_accounts"})).map(e=>(0,ep.b)(e))},async getChainId(){let e=await this.getProvider();if(!e)throw new eC.N;return Number(await e.request({method:"eth_chainId"}))},async getProvider(){let e;if("undefined"==typeof window)return;let t=o();return(e="function"==typeof t.provider?t.provider(window):"string"==typeof t.provider?eA(window,t.provider):t.provider)&&!e.removeListener&&("off"in e&&"function"==typeof e.off?e.removeListener=e.off:e.removeListener=()=>{}),e},async isAuthorized(){try{if(s&&await u.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await u.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==a&&!1!==a){let e=async()=>("undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",e),!!await this.getProvider()),t="number"==typeof a?a:1e3;if(await Promise.race([..."undefined"!=typeof window?[new Promise(t=>window.addEventListener("ethereum#initialized",()=>t(e()),{once:!0}))]:[],new Promise(r=>setTimeout(()=>r(e()),t))]))return!0}throw new eC.N}return!!(await (0,eO.b)(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let r=await this.getProvider();if(!r)throw new eC.N;let n=u.chains.find(e=>e.id===t);if(!n)throw new em.ch(new ef.nk);let i=new Promise(e=>{let r=n=>{"chainId"in n&&n.chainId===t&&(u.emitter.off("change",r),e())};u.emitter.on("change",r)});try{return await Promise.all([r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,ey.cK)(t)}]}).then(async()=>{await this.getChainId()===t&&u.emitter.emit("change",{chainId:t})}),i]),n}catch(s){if(4902===s.code||s?.data?.originalError?.code===4902)try{let s,a,{default:o,...c}=n.blockExplorers??{};e?.blockExplorerUrls?s=e.blockExplorerUrls:o&&(s=[o.url,...Object.values(c).map(e=>e.url)]),a=e?.rpcUrls?.length?e.rpcUrls:[n.rpcUrls.default?.http[0]??""];let l={blockExplorerUrls:s,chainId:(0,ey.cK)(t),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:a};return await Promise.all([r.request({method:"wallet_addEthereumChain",params:[l]}).then(async()=>{if(await this.getChainId()===t)u.emitter.emit("change",{chainId:t});else throw new em.vx(Error("User rejected switch after adding network."))}),i]),n}catch(e){throw new em.vx(e)}if(s.code===em.vx.code)throw new em.vx(s);throw new em.ch(s)}},async onAccountsChanged(e){if(0===e.length)this.onDisconnect();else if(u.emitter.listenerCount("connect")){let e=(await this.getChainId()).toString();this.onConnect({chainId:e}),s&&await u.storage?.removeItem(`${this.id}.disconnected`)}else u.emitter.emit("change",{accounts:e.map(e=>(0,ep.b)(e))})},onChainChanged(e){let t=Number(e);u.emitter.emit("change",{chainId:t})},async onConnect(e){let s=await this.getAccounts();if(0===s.length)return;let a=Number(e.chainId);u.emitter.emit("connect",{accounts:s,chainId:a});let o=await this.getProvider();o&&(n&&(o.removeListener("connect",n),n=void 0),t||(t=this.onAccountsChanged.bind(this),o.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),o.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),o.on("disconnect",i)))},async onDisconnect(e){let t=await this.getProvider();e&&1013===e.code&&t&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),t&&(r&&(t.removeListener("chainChanged",r),r=void 0),i&&(t.removeListener("disconnect",i),i=void 0),n||(n=this.onConnect.bind(this),t.on("connect",n))))}})}ek.type="injected";let eI={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:e=>e?.coinbaseWalletExtension?e.coinbaseWalletExtension:eA(e,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:e=>eA(e,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;for(let t of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"])if(e[t])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:e=>e?.phantom?.ethereum?e.phantom?.ethereum:eA(e,"isPhantom")}};function eA(e,t){function r(e){return"function"==typeof t?t(e):"string"!=typeof t||e[t]}let n=e.ethereum;return n?.providers?n.providers.find(e=>r(e)):n&&r(n)?n:void 0}var eP=r(13405);class eR{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new eP.b})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){let r=t[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function ej(e,t){return JSON.parse(e,(e,r)=>{let n=r;return n?.__type==="bigint"&&(n=BigInt(n.value)),n?.__type==="Map"&&(n=new Map(n.value)),t?.(e,n)??n})}function eT(e,t){return e.slice(0,t).join(".")||"."}function eB(e,t){let{length:r}=e;for(let n=0;n<r;++n)if(e[n]===t)return n+1;return 0}function eN(e,t,r,n){return JSON.stringify(e,function(e,t){let r="function"==typeof e,n="function"==typeof t,i=[],s=[];return function(a,o){if("object"==typeof o)if(i.length){let e=eB(i,this);0===e?i[i.length]=this:(i.splice(e),s.splice(e)),s[s.length]=a;let r=eB(i,o);if(0!==r)return n?t.call(this,a,o,eT(s,r)):`[ref=${eT(s,r)}]`}else i[0]=o,s[0]=a;return r?e.call(this,a,o):o}}((e,r)=>{let n=r;return"bigint"==typeof n&&(n={__type:"bigint",value:r.toString()}),n instanceof Map&&(n={__type:"Map",value:Array.from(r.entries())}),t?.(e,n)??n},n),r??void 0)}function eU(e){let{deserialize:t=ej,key:r="wagmi",serialize:n=eN,storage:i=eF}=e;function s(e){return e instanceof Promise?e.then(e=>e).catch(()=>null):e}return{...i,key:r,async getItem(e,n){let a=i.getItem(`${r}.${e}`),o=await s(a);return o?t(o)??null:n??null},async setItem(e,t){let a=`${r}.${e}`;null===t?await s(i.removeItem(a)):await s(i.setItem(a,n(t)))},async removeItem(e){await s(i.removeItem(`${r}.${e}`))}}}let eF={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},eM=256;var eq=r(7836);let eD={getItem:e=>"undefined"==typeof window?null:function(e,t){let r=e.split("; ").find(e=>e.startsWith(`${t}=`));if(r)return r.substring(t.length+1)}(document.cookie,e)??null,setItem(e,t){"undefined"!=typeof window&&(document.cookie=`${e}=${t};path=/;samesite=Lax`)},removeItem(e){"undefined"!=typeof window&&(document.cookie=`${e}=;max-age=-1;path=/`)}};var eL=r(6552),ez=r(14968);let eZ=({apiKey:e,appName:t,appLogoUrl:r,connectors:i=[eg({appName:t,appLogoUrl:r,preference:"all"})]})=>(function(e){let t,{multiInjectedProviderDiscovery:r=!0,storage:i=eU({storage:function(){let e="undefined"!=typeof window&&window.localStorage?window.localStorage:eF;return{getItem:t=>e.getItem(t),removeItem(t){e.removeItem(t)},setItem(t,r){try{e.setItem(t,r)}catch{}}}}()}),syncConnectedChain:s=!0,ssr:a=!1,...o}=e,u="undefined"!=typeof window&&r?function(){let e=new Set,t=[],r=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),n=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n?.(),n=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))}}():void 0,c=eE(()=>o.chains),l=eE(()=>{let e=[],t=new Set;for(let r of o.connectors??[]){let n=d(r);if(e.push(n),!a&&n.rdns)for(let e of"string"==typeof n.rdns?[n.rdns]:n.rdns)t.add(e)}if(!a&&u)for(let r of u.getProviders())t.has(r.info.rdns)||e.push(d(h(r)));return e});function d(e){let t=new eR(function(e=11){if(!n||eM+e>512){n="",eM=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(eM,eM+++e)}()),r={...e({emitter:t,chains:c.getState(),storage:i,transports:o.transports}),emitter:t,uid:t.uid};return t.on("connect",b),r.setup?.(),r}function h(e){let{info:t}=e,r=e.provider;return ek({target:{...t,id:t.rdns,provider:r}})}let f=new Map;function p(){return{chainId:c.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m="0.0.0-canary-";t=eq.r.startsWith(m)?Number.parseInt(eq.r.replace(m,"")):Number.parseInt(eq.r.split(".")[0]??"0");let y=eE(eb(i?e_(p,{migrate(e,r){if(r===t)return e;let n=p(),i=g(e,n.chainId);return{...n,chainId:i}},name:"store",partialize:e=>({connections:{__type:"Map",value:Array.from(e.connections.entries()).map(([e,t])=>{let{id:r,name:n,type:i,uid:s}=t.connector;return[e,{...t,connector:{id:r,name:n,type:i,uid:s}}]})},chainId:e.chainId,current:e.current}),merge(e,t){"object"==typeof e&&e&&"status"in e&&delete e.status;let r=g(e,t.chainId);return{...t,...e,chainId:r}},skipHydration:a,storage:i,version:t}):p));function g(e,t){return e&&"object"==typeof e&&"chainId"in e&&"number"==typeof e.chainId&&c.getState().some(t=>t.id===e.chainId)?e.chainId:t}function v(e){y.setState(t=>{let r=t.connections.get(e.uid);return r?{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts??r.accounts,chainId:e.chainId??r.chainId,connector:r.connector})}:t})}function b(e){"connecting"!==y.getState().status&&"reconnecting"!==y.getState().status&&y.setState(t=>{let r=l.getState().find(t=>t.uid===e.uid);return r?(r.emitter.listenerCount("connect")&&r.emitter.off("connect",v),r.emitter.listenerCount("change")||r.emitter.on("change",v),r.emitter.listenerCount("disconnect")||r.emitter.on("disconnect",w),{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts,chainId:e.chainId,connector:r}),current:e.uid,status:"connected"}):t})}function w(e){y.setState(t=>{let r=t.connections.get(e.uid);if(r){let e=r.connector;e.emitter.listenerCount("change")&&r.connector.emitter.off("change",v),e.emitter.listenerCount("disconnect")&&r.connector.emitter.off("disconnect",w),e.emitter.listenerCount("connect")||r.connector.emitter.on("connect",b)}if(t.connections.delete(e.uid),0===t.connections.size)return{...t,connections:new Map,current:null,status:"disconnected"};let n=t.connections.values().next().value;return{...t,connections:new Map(t.connections),current:n.connector.uid}})}return y.setState(p()),s&&y.subscribe(({connections:e,current:t})=>t?e.get(t)?.chainId:void 0,e=>{if(c.getState().some(t=>t.id===e))return y.setState(t=>({...t,chainId:e??t.chainId}))}),u?.subscribe(e=>{let t=new Set,r=new Set;for(let e of l.getState())if(t.add(e.id),e.rdns)for(let t of"string"==typeof e.rdns?[e.rdns]:e.rdns)r.add(t);let n=[];for(let i of e){if(r.has(i.info.rdns))continue;let e=d(h(i));t.has(e.id)||n.push(e)}(!i||y.persist.hasHydrated())&&l.setState(e=>[...e,...n],!0)}),{get chains(){return c.getState()},get connectors(){return l.getState()},storage:i,getClient:function(e={}){let t,r=e.chainId??y.getState().chainId,n=c.getState().find(e=>e.id===r);if(e.chainId&&!n)throw new ef.nk;{let e=f.get(y.getState().chainId);if(e&&!n)return e;if(!n)throw new ef.nk}{let e=f.get(r);if(e)return e}if(o.client)t=o.client({chain:n});else{let e=n.id,r=c.getState().map(e=>e.id),i={};for(let[t,n]of Object.entries(o))if("chains"!==t&&"client"!==t&&"connectors"!==t&&"transports"!==t)if("object"==typeof n)if(e in n)i[t]=n[e];else{if(r.some(e=>e in n))continue;i[t]=n}else i[t]=n;t=(0,ev.U)({...i,chain:n,batch:i.batch??{multicall:!0},transport:t=>o.transports[e]({...t,connectors:l})})}return f.set(r,t),t},get state(){return y.getState()},setState(e){let t;t="function"==typeof e?e(y.getState()):e;let r=p();"object"!=typeof t&&(t=r),Object.keys(r).some(e=>!(e in t))&&(t=r),y.setState(t,!0)},subscribe:(e,t,r)=>y.subscribe(e,t,r?{...r,fireImmediately:r.emitImmediately}:void 0),_internal:{mipd:u,store:y,ssr:!!a,syncConnectedChain:s,transports:o.transports,chains:{setState(e){let t="function"==typeof e?e(c.getState()):e;if(0!==t.length)return c.setState(t,!0)},subscribe:e=>c.subscribe(e)},connectors:{providerDetailToConnector:h,setup:d,setState:e=>l.setState("function"==typeof e?e(l.getState()):e,!0),subscribe:e=>l.subscribe(e)},events:{change:v,connect:b,disconnect:w}}}})({chains:[ez.E,m],connectors:i,storage:eU({storage:eD}),ssr:!0,transports:{[ez.E.id]:e?(0,eL.L)(`https://api.developer.coinbase.com/rpc/v1/base/${e}`):(0,eL.L)(),[m.id]:e?(0,eL.L)(`https://api.developer.coinbase.com/rpc/v1/base-sepolia/${e}`):(0,eL.L)()}});var e$=r(89733),eH=r(59394);let eK=(0,b.createContext)(y);function eW({children:e,connectors:t}){let{providedWagmiConfig:r,providedQueryClient:n}=function(){let e=null,t=null;try{e=(0,e$.U)()}catch(e){e instanceof eH.E||console.error("Error fetching WagmiProvider, using default:",e)}try{t=el()}catch(e){"No QueryClient set, use QueryClientProvider to set one"!==e.message&&console.error("Error fetching QueryClient, using default:",e)}return(0,b.useMemo)(()=>({providedWagmiConfig:e,providedQueryClient:t}),[e,t])}();return(0,f.jsx)(eQ,{providedWagmiConfig:r,connectors:t,children:(0,f.jsx)(eV,{providedQueryClient:n,children:e})})}function eQ({children:e,providedWagmiConfig:t,connectors:r}){let n=(0,b.useContext)(eK),i=(0,b.useRef)(r),s=(0,b.useCallback)(()=>{var e,i,s,a,o,u;if(t)return t;let c=(null==(i=null==(e=n.config)?void 0:e.appearance)?void 0:i.name)??void 0,l=(null==(a=null==(s=n.config)?void 0:s.appearance)?void 0:a.logo)??void 0;return eZ({apiKey:n.apiKey??void 0,appName:c,appLogoUrl:l,connectors:r??[eg({appName:c,appLogoUrl:l,preference:null==(u=null==(o=n.config)?void 0:o.wallet)?void 0:u.preference})]})},[n.apiKey,n.config,r,t]),[a,o]=(0,b.useState)(()=>s());return((0,b.useEffect)(()=>{i.current!==r&&(o(s()),i.current=r)},[r,s]),t)?e:(0,f.jsx)(eh.x,{config:a,children:e})}function eV({children:e,providedQueryClient:t}){let r=(0,b.useMemo)(()=>t||new eu,[t]);return t?e:(0,f.jsx)(ed,{client:r,children:e})}class eG extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}}class eJ extends eG{name="AddMiniApp.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}}class eY extends eG{name="AddMiniApp.RejectedByUser";constructor(){super("Add frame rejected by user")}}class eX extends eG{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}}let e0=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"];!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(c||(c={})),(l||(l={})).mergeShapes=(e,t)=>({...e,...t});let e1=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),e2=e=>{switch(typeof e){case"undefined":return e1.undefined;case"string":return e1.string;case"number":return Number.isNaN(e)?e1.nan:e1.number;case"boolean":return e1.boolean;case"function":return e1.function;case"bigint":return e1.bigint;case"symbol":return e1.symbol;case"object":if(Array.isArray(e))return e1.array;if(null===e)return e1.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return e1.promise;if("undefined"!=typeof Map&&e instanceof Map)return e1.map;if("undefined"!=typeof Set&&e instanceof Set)return e1.set;if("undefined"!=typeof Date&&e instanceof Date)return e1.date;return e1.object;default:return e1.unknown}},e6=c.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class e3 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof e3))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,c.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}e3.create=e=>new e3(e);let e4=(e,t)=>{let r;switch(e.code){case e6.invalid_type:r=e.received===e1.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case e6.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,c.jsonStringifyReplacer)}`;break;case e6.unrecognized_keys:r=`Unrecognized key(s) in object: ${c.joinValues(e.keys,", ")}`;break;case e6.invalid_union:r="Invalid input";break;case e6.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${c.joinValues(e.options)}`;break;case e6.invalid_enum_value:r=`Invalid enum value. Expected ${c.joinValues(e.options)}, received '${e.received}'`;break;case e6.invalid_arguments:r="Invalid function arguments";break;case e6.invalid_return_type:r="Invalid function return type";break;case e6.invalid_date:r="Invalid date";break;case e6.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:c.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case e6.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case e6.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case e6.custom:r="Invalid input";break;case e6.invalid_intersection_types:r="Intersection results could not be merged";break;case e6.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case e6.not_finite:r="Number must be finite";break;default:r=t.defaultError,c.assertNever(e)}return{message:r}},e9=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function e5(e,t){let r=e9({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,e4,e4==e4?void 0:e4].filter(e=>!!e)});e.common.issues.push(r)}class e8{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return e7;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return e8.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return e7;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let e7=Object.freeze({status:"aborted"}),te=e=>({status:"dirty",value:e}),tt=e=>({status:"valid",value:e}),tr=e=>"aborted"===e.status,tn=e=>"dirty"===e.status,ti=e=>"valid"===e.status,ts=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(d||(d={}));class ta{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let to=(e,t)=>{if(ti(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new e3(e.common.issues);return this._error=t,this._error}}};function tu(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??r??i.defaultError}},description:i}}class tc{get description(){return this._def.description}_getType(e){return e2(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:e2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new e8,ctx:{common:e.parent.common,data:e.data,parsedType:e2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ts(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)},n=this._parseSync({data:e,path:r.path,parent:r});return to(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return ti(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>ti(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)},n=this._parse({data:e,path:r.path,parent:r});return to(r,await (ts(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),s=()=>n.addIssue({code:e6.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new t2({schema:this,typeName:h.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return t6.create(this,this._def)}nullable(){return t3.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tq.create(this)}promise(){return t1.create(this,this._def)}or(e){return tL.create([this,e],this._def)}and(e){return t$.create(this,e,this._def)}transform(e){return new t2({...tu(this._def),schema:this,typeName:h.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new t4({...tu(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:h.ZodDefault})}brand(){return new t8({typeName:h.ZodBranded,type:this,...tu(this._def)})}catch(e){return new t9({...tu(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:h.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return t7.create(this,e)}readonly(){return re.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let tl=/^c[^\s-]{8,}$/i,td=/^[0-9a-z]+$/,th=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tf=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tp=/^[a-z0-9_-]{21}$/i,tm=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ty=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tg=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,t_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tO=RegExp(`^${tS}$`);function tC(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class tk extends tc{_parse(e){var t,r,n,s;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==e1.string){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.string,received:t.parsedType}),e7}let o=new e8;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(e5(a=this._getOrReturnCtx(e,a),{code:e6.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("max"===u.kind)e.data.length>u.value&&(e5(a=this._getOrReturnCtx(e,a),{code:e6.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?e5(a,{code:e6.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&e5(a,{code:e6.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if("email"===u.kind)tg.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"email",code:e6.invalid_string,message:u.message}),o.dirty());else if("emoji"===u.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:e6.invalid_string,message:u.message}),o.dirty());else if("uuid"===u.kind)tf.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:e6.invalid_string,message:u.message}),o.dirty());else if("nanoid"===u.kind)tp.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:e6.invalid_string,message:u.message}),o.dirty());else if("cuid"===u.kind)tl.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:e6.invalid_string,message:u.message}),o.dirty());else if("cuid2"===u.kind)td.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:e6.invalid_string,message:u.message}),o.dirty());else if("ulid"===u.kind)th.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:e6.invalid_string,message:u.message}),o.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{e5(a=this._getOrReturnCtx(e,a),{validation:"url",code:e6.invalid_string,message:u.message}),o.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"regex",code:e6.invalid_string,message:u.message}),o.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(e5(a=this._getOrReturnCtx(e,a),{code:e6.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(e5(a=this._getOrReturnCtx(e,a),{code:e6.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(e5(a=this._getOrReturnCtx(e,a),{code:e6.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):"datetime"===u.kind?(function(e){let t=`${tS}T${tC(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(u).test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{code:e6.invalid_string,validation:"datetime",message:u.message}),o.dirty()):"date"===u.kind?tO.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{code:e6.invalid_string,validation:"date",message:u.message}),o.dirty()):"time"===u.kind?RegExp(`^${tC(u)}$`).test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{code:e6.invalid_string,validation:"time",message:u.message}),o.dirty()):"duration"===u.kind?ty.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"duration",code:e6.invalid_string,message:u.message}),o.dirty()):"ip"===u.kind?(t=e.data,!(("v4"===(r=u.version)||!r)&&tv.test(t)||("v6"===r||!r)&&tw.test(t))&&1&&(e5(a=this._getOrReturnCtx(e,a),{validation:"ip",code:e6.invalid_string,message:u.message}),o.dirty())):"jwt"===u.kind?!function(e,t){if(!tm.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(e5(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:e6.invalid_string,message:u.message}),o.dirty()):"cidr"===u.kind?(n=e.data,!(("v4"===(s=u.version)||!s)&&tb.test(n)||("v6"===s||!s)&&t_.test(n))&&1&&(e5(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:e6.invalid_string,message:u.message}),o.dirty())):"base64"===u.kind?tx.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"base64",code:e6.invalid_string,message:u.message}),o.dirty()):"base64url"===u.kind?tE.test(e.data)||(e5(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:e6.invalid_string,message:u.message}),o.dirty()):c.assertNever(u);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:e6.invalid_string,...d.errToObj(r)})}_addCheck(e){return new tk({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...d.errToObj(e)})}url(e){return this._addCheck({kind:"url",...d.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...d.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...d.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...d.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...d.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...d.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...d.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...d.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...d.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...d.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...d.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...d.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...d.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...d.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...d.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...d.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...d.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...d.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...d.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...d.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...d.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...d.errToObj(t)})}nonempty(e){return this.min(1,d.errToObj(e))}trim(){return new tk({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tk({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tk({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tk.create=e=>new tk({checks:[],typeName:h.ZodString,coerce:e?.coerce??!1,...tu(e)});class tI extends tc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==e1.number){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.number,received:t.parsedType}),e7}let r=new e8;for(let n of this._def.checks)"int"===n.kind?c.isInteger(e.data)||(e5(t=this._getOrReturnCtx(e,t),{code:e6.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(e5(t=this._getOrReturnCtx(e,t),{code:e6.not_finite,message:n.message}),r.dirty()):c.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,r,n){return new tI({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:d.toString(n)}]})}_addCheck(e){return new tI({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:d.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&c.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}tI.create=e=>new tI({checks:[],typeName:h.ZodNumber,coerce:e?.coerce||!1,...tu(e)});class tA extends tc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==e1.bigint)return this._getInvalidInput(e);let r=new e8;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):c.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.bigint,received:t.parsedType}),e7}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,r,n){return new tA({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:d.toString(n)}]})}_addCheck(e){return new tA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tA.create=e=>new tA({checks:[],typeName:h.ZodBigInt,coerce:e?.coerce??!1,...tu(e)});class tP extends tc{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==e1.boolean){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.boolean,received:t.parsedType}),e7}return tt(e.data)}}tP.create=e=>new tP({typeName:h.ZodBoolean,coerce:e?.coerce||!1,...tu(e)});class tR extends tc{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==e1.date){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.date,received:t.parsedType}),e7}if(Number.isNaN(e.data.getTime()))return e5(this._getOrReturnCtx(e),{code:e6.invalid_date}),e7;let r=new e8;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(e5(t=this._getOrReturnCtx(e,t),{code:e6.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):c.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tR({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}tR.create=e=>new tR({checks:[],coerce:e?.coerce||!1,typeName:h.ZodDate,...tu(e)});class tj extends tc{_parse(e){if(this._getType(e)!==e1.symbol){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.symbol,received:t.parsedType}),e7}return tt(e.data)}}tj.create=e=>new tj({typeName:h.ZodSymbol,...tu(e)});class tT extends tc{_parse(e){if(this._getType(e)!==e1.undefined){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.undefined,received:t.parsedType}),e7}return tt(e.data)}}tT.create=e=>new tT({typeName:h.ZodUndefined,...tu(e)});class tB extends tc{_parse(e){if(this._getType(e)!==e1.null){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.null,received:t.parsedType}),e7}return tt(e.data)}}tB.create=e=>new tB({typeName:h.ZodNull,...tu(e)});class tN extends tc{constructor(){super(...arguments),this._any=!0}_parse(e){return tt(e.data)}}tN.create=e=>new tN({typeName:h.ZodAny,...tu(e)});class tU extends tc{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tt(e.data)}}tU.create=e=>new tU({typeName:h.ZodUnknown,...tu(e)});class tF extends tc{_parse(e){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.never,received:t.parsedType}),e7}}tF.create=e=>new tF({typeName:h.ZodNever,...tu(e)});class tM extends tc{_parse(e){if(this._getType(e)!==e1.undefined){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.void,received:t.parsedType}),e7}return tt(e.data)}}tM.create=e=>new tM({typeName:h.ZodVoid,...tu(e)});class tq extends tc{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==e1.array)return e5(t,{code:e6.invalid_type,expected:e1.array,received:t.parsedType}),e7;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(e5(t,{code:e?e6.too_big:e6.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(e5(t,{code:e6.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(e5(t,{code:e6.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new ta(t,e,t.path,r)))).then(e=>e8.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new ta(t,e,t.path,r)));return e8.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new tq({...this._def,minLength:{value:e,message:d.toString(t)}})}max(e,t){return new tq({...this._def,maxLength:{value:e,message:d.toString(t)}})}length(e,t){return new tq({...this._def,exactLength:{value:e,message:d.toString(t)}})}nonempty(e){return this.min(1,e)}}tq.create=(e,t)=>new tq({type:e,minLength:null,maxLength:null,exactLength:null,typeName:h.ZodArray,...tu(t)});class tD extends tc{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=c.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==e1.object){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.object,received:t.parsedType}),e7}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof tF&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new ta(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tF){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(e5(r,{code:e6.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new ta(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>e8.mergeObjectSync(t,e)):e8.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return d.errToObj,new tD({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:d.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new tD({...this._def,unknownKeys:"strip"})}passthrough(){return new tD({...this._def,unknownKeys:"passthrough"})}extend(e){return new tD({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tD({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:h.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tD({...this._def,catchall:e})}pick(e){let t={};for(let r of c.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new tD({...this._def,shape:()=>t})}omit(e){let t={};for(let r of c.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new tD({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof tD){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=t6.create(e(i))}return new tD({...t._def,shape:()=>r})}if(t instanceof tq)return new tq({...t._def,type:e(t.element)});if(t instanceof t6)return t6.create(e(t.unwrap()));if(t instanceof t3)return t3.create(e(t.unwrap()));if(t instanceof tH)return tH.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of c.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new tD({...this._def,shape:()=>t})}required(e){let t={};for(let r of c.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof t6;)e=e._def.innerType;t[r]=e}return new tD({...this._def,shape:()=>t})}keyof(){return tY(c.objectKeys(this.shape))}}tD.create=(e,t)=>new tD({shape:()=>e,unknownKeys:"strip",catchall:tF.create(),typeName:h.ZodObject,...tu(t)}),tD.strictCreate=(e,t)=>new tD({shape:()=>e,unknownKeys:"strict",catchall:tF.create(),typeName:h.ZodObject,...tu(t)}),tD.lazycreate=(e,t)=>new tD({shape:e,unknownKeys:"strip",catchall:tF.create(),typeName:h.ZodObject,...tu(t)});class tL extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new e3(e.ctx.common.issues));return e5(t,{code:e6.invalid_union,unionErrors:r}),e7});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new e3(e));return e5(t,{code:e6.invalid_union,unionErrors:i}),e7}}get options(){return this._def.options}}tL.create=(e,t)=>new tL({options:e,typeName:h.ZodUnion,...tu(t)});let tz=e=>{if(e instanceof tG)return tz(e.schema);if(e instanceof t2)return tz(e.innerType());if(e instanceof tJ)return[e.value];if(e instanceof tX)return e.options;if(e instanceof t0)return c.objectValues(e.enum);else if(e instanceof t4)return tz(e._def.innerType);else if(e instanceof tT)return[void 0];else if(e instanceof tB)return[null];else if(e instanceof t6)return[void 0,...tz(e.unwrap())];else if(e instanceof t3)return[null,...tz(e.unwrap())];else if(e instanceof t8)return tz(e.unwrap());else if(e instanceof re)return tz(e.unwrap());else if(e instanceof t9)return tz(e._def.innerType);else return[]};class tZ extends tc{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==e1.object)return e5(t,{code:e6.invalid_type,expected:e1.object,received:t.parsedType}),e7;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(e5(t,{code:e6.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),e7)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=tz(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new tZ({typeName:h.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...tu(r)})}}class t$ extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(tr(e)||tr(n))return e7;let i=function e(t,r){let n=e2(t),i=e2(r);if(t===r)return{valid:!0,data:t};if(n===e1.object&&i===e1.object){let n=c.objectKeys(r),i=c.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===e1.array&&i===e1.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}if(n===e1.date&&i===e1.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?((tn(e)||tn(n))&&t.dirty(),{status:t.value,value:i.data}):(e5(r,{code:e6.invalid_intersection_types}),e7)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}t$.create=(e,t,r)=>new t$({left:e,right:t,typeName:h.ZodIntersection,...tu(r)});class tH extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e1.array)return e5(r,{code:e6.invalid_type,expected:e1.array,received:r.parsedType}),e7;if(r.data.length<this._def.items.length)return e5(r,{code:e6.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e7;!this._def.rest&&r.data.length>this._def.items.length&&(e5(r,{code:e6.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new ta(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>e8.mergeArray(t,e)):e8.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new tH({...this._def,rest:e})}}tH.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tH({items:e,typeName:h.ZodTuple,rest:null,...tu(t)})};class tK extends tc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e1.object)return e5(r,{code:e6.invalid_type,expected:e1.object,received:r.parsedType}),e7;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new ta(r,e,r.path,e)),value:s._parse(new ta(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?e8.mergeObjectAsync(t,n):e8.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new tK(t instanceof tc?{keyType:e,valueType:t,typeName:h.ZodRecord,...tu(r)}:{keyType:tk.create(),valueType:e,typeName:h.ZodRecord,...tu(t)})}}class tW extends tc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e1.map)return e5(r,{code:e6.invalid_type,expected:e1.map,received:r.parsedType}),e7;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new ta(r,e,r.path,[s,"key"])),value:i._parse(new ta(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return e7;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return e7;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}tW.create=(e,t,r)=>new tW({valueType:t,keyType:e,typeName:h.ZodMap,...tu(r)});class tQ extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e1.set)return e5(r,{code:e6.invalid_type,expected:e1.set,received:r.parsedType}),e7;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(e5(r,{code:e6.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(e5(r,{code:e6.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return e7;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new ta(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new tQ({...this._def,minSize:{value:e,message:d.toString(t)}})}max(e,t){return new tQ({...this._def,maxSize:{value:e,message:d.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tQ.create=(e,t)=>new tQ({valueType:e,minSize:null,maxSize:null,typeName:h.ZodSet,...tu(t)});class tV extends tc{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==e1.function)return e5(t,{code:e6.invalid_type,expected:e1.function,received:t.parsedType}),e7;function r(e,r){return e9({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e4,e4].filter(e=>!!e),issueData:{code:e6.invalid_arguments,argumentsError:r}})}function n(e,r){return e9({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e4,e4].filter(e=>!!e),issueData:{code:e6.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof t1){let e=this;return tt(async function(...t){let a=new e3([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),u=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw a.addIssue(n(u,e)),a})})}{let e=this;return tt(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new e3([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new e3([n(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tV({...this._def,args:tH.create(e).rest(tU.create())})}returns(e){return new tV({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new tV({args:e||tH.create([]).rest(tU.create()),returns:t||tU.create(),typeName:h.ZodFunction,...tu(r)})}}class tG extends tc{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}tG.create=(e,t)=>new tG({getter:e,typeName:h.ZodLazy,...tu(t)});class tJ extends tc{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return e5(t,{received:t.data,code:e6.invalid_literal,expected:this._def.value}),e7}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tY(e,t){return new tX({values:e,typeName:h.ZodEnum,...tu(t)})}tJ.create=(e,t)=>new tJ({value:e,typeName:h.ZodLiteral,...tu(t)});class tX extends tc{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return e5(t,{expected:c.joinValues(r),received:t.parsedType,code:e6.invalid_type}),e7}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return e5(t,{received:t.data,code:e6.invalid_enum_value,options:r}),e7}return tt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tX.create(e,{...this._def,...t})}exclude(e,t=this._def){return tX.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}tX.create=tY;class t0 extends tc{_parse(e){let t=c.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==e1.string&&r.parsedType!==e1.number){let e=c.objectValues(t);return e5(r,{expected:c.joinValues(e),received:r.parsedType,code:e6.invalid_type}),e7}if(this._cache||(this._cache=new Set(c.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=c.objectValues(t);return e5(r,{received:r.data,code:e6.invalid_enum_value,options:e}),e7}return tt(e.data)}get enum(){return this._def.values}}t0.create=(e,t)=>new t0({values:e,typeName:h.ZodNativeEnum,...tu(t)});class t1 extends tc{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==e1.promise&&!1===t.common.async?(e5(t,{code:e6.invalid_type,expected:e1.promise,received:t.parsedType}),e7):tt((t.parsedType===e1.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t1.create=(e,t)=>new t1({type:e,typeName:h.ZodPromise,...tu(t)});class t2 extends tc{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===h.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{e5(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return e7;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?e7:"dirty"===n.status||"dirty"===t.value?te(n.value):n});{if("aborted"===t.value)return e7;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?e7:"dirty"===n.status||"dirty"===t.value?te(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?e7:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?e7:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>ti(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e7);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ti(e))return e7;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}c.assertNever(n)}}t2.create=(e,t,r)=>new t2({schema:e,typeName:h.ZodEffects,effect:t,...tu(r)}),t2.createWithPreprocess=(e,t,r)=>new t2({schema:t,effect:{type:"preprocess",transform:e},typeName:h.ZodEffects,...tu(r)});class t6 extends tc{_parse(e){return this._getType(e)===e1.undefined?tt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t6.create=(e,t)=>new t6({innerType:e,typeName:h.ZodOptional,...tu(t)});class t3 extends tc{_parse(e){return this._getType(e)===e1.null?tt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t3.create=(e,t)=>new t3({innerType:e,typeName:h.ZodNullable,...tu(t)});class t4 extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===e1.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t4.create=(e,t)=>new t4({innerType:e,typeName:h.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tu(t)});class t9 extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ts(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new e3(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new e3(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}t9.create=(e,t)=>new t9({innerType:e,typeName:h.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tu(t)});class t5 extends tc{_parse(e){if(this._getType(e)!==e1.nan){let t=this._getOrReturnCtx(e);return e5(t,{code:e6.invalid_type,expected:e1.nan,received:t.parsedType}),e7}return{status:"valid",value:e.data}}}t5.create=e=>new t5({typeName:h.ZodNaN,...tu(e)}),Symbol("zod_brand");class t8 extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class t7 extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?e7:"dirty"===e.status?(t.dirty(),te(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?e7:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new t7({in:e,out:t,typeName:h.ZodPipeline})}}class re extends tc{_parse(e){let t=this._def.innerType._parse(e),r=e=>(ti(e)&&(e.value=Object.freeze(e.value)),e);return ts(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}re.create=(e,t)=>new re({innerType:e,typeName:h.ZodReadonly,...tu(t)}),tD.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(h||(h={}));let rt=tk.create,rr=tI.create;t5.create,tA.create;let rn=tP.create;tR.create,tj.create,tT.create,tB.create,tN.create,tU.create,tF.create,tM.create;let ri=tq.create,rs=tD.create;tD.strictCreate;let ra=tL.create,ro=tZ.create;t$.create,tH.create,tK.create,tW.create,tQ.create,tV.create,tG.create;let ru=tJ.create,rc=tX.create;t0.create,t1.create,t2.create,t6.create,t3.create,t2.createWithPreprocess,t7.create;let rl=/[@#$%^&*+=\/\\|~«»]/,rd=/(!{2,}|\?{2,}|-{2,})/,rh=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,rf=({max:e,noSpaces:t}={})=>(t?rt().max(e??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):rt().max(e??Number.POSITIVE_INFINITY)).refine(e=>!rh.test(e),{message:"Emojis and symbols are not allowed"}).refine(e=>!rl.test(e),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, \xab, \xbb) are not allowed"}).refine(e=>!rd.test(e),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),rp=rt().url().startsWith("https://",{message:"Must be an https url"}).max(1024),rm=rt().max(32),ry=rt().max(32),rg=rt().regex(/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,{message:"Invalid CAIP-19 asset ID"}),rv=rt().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),rb=ra([ru("1:1"),ru("3:2")]),rw=rs({header:rt(),payload:rt(),signature:rt()});rs({fid:rr(),type:ru("app_key"),key:rt().startsWith("0x")});let r_=ro("type",[rs({type:ru("launch_frame"),name:rm,url:rp.optional(),splashImageUrl:rp.optional(),splashBackgroundColor:rv.optional()}),rs({type:ru("view_token"),token:rg})]),rx=rs({title:ry,action:r_});rs({version:ru("next"),imageUrl:rp,aspectRatio:rb.optional(),button:rx});let rE=rs({url:rt(),token:rt()});rs({notificationId:rt().max(128),title:rt().max(32),body:rt().max(128),targetUrl:rp,tokens:rt().array().max(100)}),rs({result:rs({successfulTokens:ri(rt()),invalidTokens:ri(rt()),rateLimitedTokens:ri(rt())})});let rS=rs({event:ru("frame_added"),notificationDetails:rE.optional()}),rO=rs({event:ru("frame_removed")});ro("event",[rS,rO,rs({event:ru("notifications_enabled"),notificationDetails:rE.required()}),rs({event:ru("notifications_disabled")})]);let rC=rc(["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"]),rk=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],rI=rs({version:ra([ru("0.0.0"),ru("0.0.1"),ru("1"),ru("next")]),name:rm,iconUrl:rp,homeUrl:rp,imageUrl:rp.optional(),buttonTitle:ry.optional(),splashImageUrl:rp.optional(),splashBackgroundColor:rv.optional(),webhookUrl:rp.optional(),subtitle:rf({max:30}).optional(),description:rf({max:170}).optional(),screenshotUrls:ri(rp).max(3).optional(),primaryCategory:rC.optional(),tags:ri(rf({max:20,noSpaces:!0})).max(5).optional(),heroImageUrl:rp.optional(),tagline:rf({max:30}).optional(),ogTitle:rf({max:30}).optional(),ogDescription:rf({max:100}).optional(),ogImageUrl:rp.optional(),noindex:rn().optional(),requiredChains:ri(rc(rk)).max(rk.length).optional(),requiredCapabilities:ri(rc(e0)).max(e0.length).optional(),castShareUrl:rp.optional()}).refine(e=>{if(void 0===e.castShareUrl)return!0;try{let t=new URL(e.homeUrl).hostname,r=new URL(e.castShareUrl).hostname;return t===r}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});rs({accountAssociation:rw,frame:rI.optional()});var rA=r(98889),rP=r(43783).Buffer;function rR(e){return rP.from(e.serialize({verifySignatures:!1})).toString("base64")}class rj extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof rj){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})();super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=r,this.shortMessage=e}}class rT extends rj{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class rB extends rj{constructor(e){super(e),this.name="InvalidToken"}}async function rN({origin:e}){let t=await fetch(`${e}/nonce`,{method:"POST"});if(!t.ok)throw new rT({status:t.status});return await t.json()}async function rU({origin:e},t){let r=await fetch(`${e}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)});if(!r.ok)throw new rT({status:r.status});let n=await r.json();if(!1===n.valid)throw new rB(n.message??"unknown");return{token:n.token}}class rF extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof rF){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof rF&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}let rM=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rq=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function rD(e,t={}){let{raw:r=!1}=t;if(r)return e;if(e.error){let{code:t}=e.error;throw new(t===rY.code?rY:t===rz.code?rz:t===rJ.code?rJ:t===rV.code?rV:t===rW.code?rW:t===rG.code?rG:t===rK.code?rK:t===rX.code?rX:t===rZ.code?rZ:t===r$.code?r$:t===rH.code?rH:t===rQ.code?rQ:rL)(e.error)}return e.result}class rL extends Error{constructor(e){let{code:t,message:r,data:n}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=n}}class rz extends rL{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:rz.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(rz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class rZ extends rL{constructor(e={}){super({message:"Requested resource not found.",...e,code:rZ.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(rZ,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class r$ extends rL{constructor(e={}){super({message:"Requested resource not available.",...e,code:r$.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(r$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class rH extends rL{constructor(e={}){super({message:"Transaction creation failed.",...e,code:rH.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(rH,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class rK extends rL{constructor(e={}){super({message:"Method is not implemented.",...e,code:rK.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(rK,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class rW extends rL{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:rW.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(rW,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class rQ extends rL{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:rQ.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(rQ,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class rV extends rL{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:rV.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(rV,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class rG extends rL{constructor(e={}){super({message:"Method does not exist.",...e,code:rG.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(rG,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class rJ extends rL{constructor(e={}){super({message:"Invalid method parameters.",...e,code:rJ.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(rJ,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class rY extends rL{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:rY.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(rY,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class rX extends rL{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:rX.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(rX,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class r0 extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class r1 extends r0{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(r1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class r2 extends r0{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(r2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class r6 extends r0{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(r6,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class r3 extends r0{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(r3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class r4 extends r0{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(r4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class r9 extends rF{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}let r5=Symbol("Comlink.proxy"),r8=Symbol("Comlink.endpoint"),r7=Symbol("Comlink.releaseProxy"),ne=Symbol("Comlink.finalizer"),nt=Symbol("Comlink.thrown"),nr=e=>"object"==typeof e&&null!==e||"function"==typeof e,nn=new Map([["proxy",{canHandle:e=>nr(e)&&e[r5],serialize(e){let{port1:t,port2:r}=new MessageChannel;return function e(t,r=globalThis,n=["*"]){r.addEventListener("message",function i(s){let a;if(!s||!s.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);let{id:o,type:u,path:c}=Object.assign({path:[]},s.data),l=(s.data.argumentList||[]).map(nf);try{var d,h,f;let r=c.slice(0,-1).reduce((e,t)=>e[t],t),n=c.reduce((e,t)=>e[t],t);switch(u){case"GET":a=n;break;case"SET":r[c.slice(-1)[0]]=nf(s.data.value),a=!0;break;case"APPLY":a=n.apply(r,l);break;case"CONSTRUCT":d=new n(...l),a=Object.assign(d,{[r5]:!0});break;case"ENDPOINT":{let{port1:r,port2:n}=new MessageChannel;e(t,n),h=r,f=[r],nd.set(h,f),a=h}break;case"RELEASE":a=void 0;break;default:return}}catch(e){a={value:e,[nt]:0}}Promise.resolve(a).catch(e=>({value:e,[nt]:0})).then(e=>{let[n,s]=nh(e);r.postMessage(Object.assign(Object.assign({},n),{id:o}),s),"RELEASE"===u&&(r.removeEventListener("message",i),ni(r),ne in t&&"function"==typeof t[ne]&&t[ne]())}).catch(e=>{let[t,n]=nh({value:TypeError("Unserializable return value"),[nt]:0});r.postMessage(Object.assign(Object.assign({},t),{id:o}),n)})}),r.start&&r.start()}(e,t),[r,[r]]},deserialize:e=>(e.start(),ns(e))}],["throw",{canHandle:e=>nr(e)&&nt in e,serialize({value:e}){let t;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function ni(e){"MessagePort"===e.constructor.name&&e.close()}function ns(e,t){let r=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let n=r.get(t.id);if(n)try{n(t)}finally{r.delete(t.id)}}),function e(t,r,n=[],i=function(){}){let s=!1,a=new Proxy(i,{get(i,o){if(na(s),o===r7)return()=>{nc&&nc.unregister(a),no(t),r.clear(),s=!0};if("then"===o){if(0===n.length)return{then:()=>a};let e=np(t,r,{type:"GET",path:n.map(e=>e.toString())}).then(nf);return e.then.bind(e)}return e(t,r,[...n,o])},set(e,i,a){na(s);let[o,u]=nh(a);return np(t,r,{type:"SET",path:[...n,i].map(e=>e.toString()),value:o},u).then(nf)},apply(i,a,o){na(s);let u=n[n.length-1];if(u===r8)return np(t,r,{type:"ENDPOINT"}).then(nf);if("bind"===u)return e(t,r,n.slice(0,-1));let[c,l]=nl(o);return np(t,r,{type:"APPLY",path:n.map(e=>e.toString()),argumentList:c},l).then(nf)},construct(e,i){na(s);let[a,o]=nl(i);return np(t,r,{type:"CONSTRUCT",path:n.map(e=>e.toString()),argumentList:a},o).then(nf)}}),o=(nu.get(t)||0)+1;return nu.set(t,o),nc&&nc.register(a,t,a),a}(e,r,[],t)}function na(e){if(e)throw Error("Proxy has been released and is not useable")}function no(e){return np(e,new Map,{type:"RELEASE"}).then(()=>{ni(e)})}let nu=new WeakMap,nc="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(nu.get(e)||0)-1;nu.set(e,t),0===t&&no(e)});function nl(e){var t;let r=e.map(nh);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let nd=new WeakMap;function nh(e){for(let[t,r]of nn)if(r.canHandle(e)){let[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},nd.get(e)||[]]}function nf(e){switch(e.type){case"HANDLER":return nn.get(e.name).deserialize(e.value);case"RAW":return e.value}}function np(e,t,r,n){return new Promise(i=>{let s=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(s,i),e.start&&e.start(),e.postMessage(Object.assign({id:s},r),n)})}let nm=ns("undefined"==typeof window?{postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}}:window?.ReactNativeWebView?{postMessage:e=>{console.debug("[webview:req]",e),window.ReactNativeWebView.postMessage(JSON.stringify(e))},addEventListener:(e,t,...r)=>{document.addEventListener("FarcasterFrameCallback",t,...r)},removeEventListener:(e,t)=>{document.removeEventListener("FarcasterFrameCallback",t)}}:function(e,t=globalThis,r="*"){return{postMessage:(t,n)=>e.postMessage(t,r,n),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(window?.parent??window)),ny=function(){let e=new eP.b;return{get eventNames(){return e.eventNames.bind(e)},get listenerCount(){return e.listenerCount.bind(e)},get listeners(){return e.listeners.bind(e)},addListener:e.addListener.bind(e),emit:e.emit.bind(e),off:e.off.bind(e),on:e.on.bind(e),once:e.once.bind(e),removeAllListeners:e.removeAllListeners.bind(e),removeListener:e.removeListener.bind(e)}}(),ng=function(e={}){let t=e.id??0;return{prepare:e=>({...{id:t++,...e},jsonrpc:"2.0"}),get id(){return t}}}(),nv=function(e,t={}){let{includeEvents:r=!0}=t;if(!e)throw new r9;return{...r?{on:e.on?.bind(e),removeListener:e.removeListener?.bind(e)}:{},async request(t){let r=await e.request(t);return r&&"object"==typeof r&&"jsonrpc"in r?rD(r):r}}}({...ny,async request(e){let t=ng.prepare(e);try{let e=await nm.ethProviderRequestV2(t).then(e=>rD(e,{request:t,raw:!0}));if(e.error)throw function({code:e,details:t}){switch(e){case 4001:return new r1;case 4100:return new r2;case 4200:return new r6;case 4900:return new r3;case 4901:return new r4;default:return new r0(e,t??"Unknown provider RPC error")}}(e.error);return e.result}catch(e){if(e instanceof Error&&e.message.match(/cannot read property 'apply'/i))return await nm.ethProviderRequest(t);if(e instanceof r0||e instanceof rL)throw e;throw new rY({message:e instanceof Error?e.message:void 0})}}});async function nb(){try{let e=await nm.getCapabilities();if(!e.includes("wallet.getEthereumProvider")&&!e.includes("wallet.getEvmProvider"))return;return nv}catch{return nv}}function nw(e){let t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(e)});window.dispatchEvent(t);let r=()=>window.dispatchEvent(t);return window.addEventListener("eip6963:requestProvider",r),()=>window.removeEventListener("eip6963:requestProvider",r)}"undefined"!=typeof document&&(document.addEventListener("eip6963:requestProvider",()=>{nm.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",e=>{if(e instanceof MessageEvent){let t=e.data;ny.emit(t.event,...t.params)}}),document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"eip6963:announceProvider"===t.event&&nw({info:t.info,provider:nv})}})),"undefined"!=typeof window&&(window.addEventListener("eip6963:requestProvider",()=>{nm.eip6963RequestProvider()}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEthProviderEvent"===e.data.type){let t=e.data;ny.emit(t.event,...t.params)}}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"eip6963:announceProvider"===t.event&&nw({info:t.info,provider:nv})}}));let n_=function(){let e=new eP.A;return{get eventNames(){return e.eventNames.bind(e)},get listenerCount(){return e.listenerCount.bind(e)},get listeners(){return e.listeners.bind(e)},addListener:e.addListener.bind(e),emit:e.emit.bind(e),off:e.off.bind(e),on:e.on.bind(e),once:e.once.bind(e),removeAllListeners:e.removeAllListeners.bind(e),removeListener:e.removeListener.bind(e)}}(),{solanaProviderRequest:nx}=nm;async function nE(){let e;try{e=await nm.getCapabilities()}catch{}if(e?.includes("wallet.getSolanaProvider"))return s}nx&&(s=(e=>({request:e,signMessage:t=>e({method:"signMessage",params:{message:t}}),signTransaction:t=>e({method:"signTransaction",params:{transaction:t}}),signAndSendTransaction:t=>e({method:"signAndSendTransaction",params:t})}))(function(e){return async t=>{if("connect"===t.method||"signMessage"===t.method)return await e(t);if("signAndSendTransaction"===t.method){let{transaction:r,options:n}=t.params,i={transaction:rR(r)};return await e({method:"signAndSendTransaction",params:i})}if("signTransaction"===t.method){let{transaction:r}=t.params,n={transaction:rR(r)},{signedTransaction:i}=await e({method:"signTransaction",params:n});return{signedTransaction:function(e){let t=rP.from(e,"base64");return"legacy"===rA.B2.deserializeMessageVersion(t)?rA.Kt.deserialize(t):rA.ZX.from(t)}(i)}}}}(nx)));let nS=null;async function nO(e=50){if(!0===nS)return!0;if("undefined"==typeof window||!window.ReactNativeWebView&&window===window.parent)return!1;let t=await Promise.race([nm.context.then(e=>!!e),new Promise(t=>{setTimeout(()=>t(!1),e)})]).catch(()=>!1);return t&&(nS=!0),t}let nC=async(e={})=>{let t=function(e={}){let t=function(e={}){return{origin:e.origin??"https://auth.farcaster.xyz"}}(e);return{generateNonce:()=>rN(t),verifySiwf:e=>rU(t,e)}}({origin:e.quickAuthServerOrigin}),{nonce:r}=await t.generateNonce(),n=await nm.signIn({nonce:r,acceptAuthAddress:!0});if(n.result){let e=function(e){let{scheme:t,statement:r,...n}=e.match(rM)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:u,...c}=e.match(rq)?.groups??{},l=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...u?{requestId:u}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(n.result.message);if(!e.domain)throw Error("Missing domain on SIWE message");return await t.verifySiwf({domain:e.domain,message:n.result.message,signature:n.result.signature})}if("rejected_by_user"===n.error.type)throw new eX;throw Error("Unreachable")},nk=async()=>{let e=await nm.addFrame();if(e.result)return e.result;if("invalid_domain_manifest"===e.error.type)throw new eJ;if("rejected_by_user"===e.error.type)throw new eY;throw Error("Unreachable")},nI={...n_,getCapabilities:nm.getCapabilities,getChains:nm.getChains,isInMiniApp:nO,context:nm.context,back:(({frameHost:e,emitter:t})=>{let r,n=null;return{visible:!1,get onback(){return n},set onback(cb){n&&t.removeListener("backNavigationTriggered",n),n=cb,cb&&t.addListener("backNavigationTriggered",cb)},async show(){await e.updateBackState({visible:!0}),this.visible=!0},async hide(){await e.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){r=function({emitter:e,back:t}){let r=function(){if("undefined"!=typeof window&&void 0!==window.navigation)return window.navigation}();return r?function({emitter:e,back:t,navigation:r}){function n(){r.canGoBack?t.show():t.hide()}function i(){t.visible&&r.canGoBack&&r.back()}return r.addEventListener("navigatesuccess",n),e.addListener("backNavigationTriggered",i),()=>{r.removeEventListener("navigatesuccess",n),e.removeListener("backNavigationTriggered",i)}}({emitter:e,back:t,navigation:r}):"undefined"!=typeof window?function({emitter:e,back:t,window:r}){function n(){t.visible&&r.history.back()}return t.show(),e.addListener("backNavigationTriggered",n),()=>{e.removeListener("backNavigationTriggered",n)}}({emitter:e,back:t,window}):void 0}({back:this,emitter:t})},async disableWebNavigation(){r?.(),r=void 0}}})({frameHost:nm,emitter:n_}),actions:{setPrimaryButton:nm.setPrimaryButton.bind(nm),ready:async(e={})=>await nm.ready(e),close:nm.close.bind(nm),viewCast:nm.viewCast.bind(nm),viewProfile:nm.viewProfile.bind(nm),signIn:async e=>{let t=await nm.signIn(e);if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new eX;throw Error("Unreachable")},openUrl:e=>{let t="string"==typeof e?e:e.url;return nm.openUrl(t.trim())},addFrame:nk,addMiniApp:nk,composeCast:(e={})=>nm.composeCast(e),viewToken:nm.viewToken.bind(nm),sendToken:nm.sendToken.bind(nm),swapToken:nm.swapToken.bind(nm),quickAuth:nC},experimental:{getSolanaProvider:nE,quickAuth:nC},wallet:{ethProvider:nv,getEthereumProvider:nb,getSolanaProvider:nE},haptics:{impactOccurred:nm.impactOccurred.bind(nm),notificationOccurred:nm.notificationOccurred.bind(nm),selectionChanged:nm.selectionChanged.bind(nm)}};"undefined"!=typeof document&&document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"primary_button_clicked"===t.event?n_.emit("primaryButtonClicked"):"frame_added"===t.event?n_.emit("frameAdded",{notificationDetails:t.notificationDetails}):"frame_add_rejected"===t.event?n_.emit("frameAddRejected",{reason:t.reason}):"frame_removed"===t.event?n_.emit("frameRemoved"):"notifications_enabled"===t.event?n_.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?n_.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&n_.emit("backNavigationTriggered")}}),"undefined"!=typeof window&&window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"primary_button_clicked"===t.event?n_.emit("primaryButtonClicked"):"frame_added"===t.event?n_.emit("frameAdded",{notificationDetails:t.notificationDetails}):"frame_add_rejected"===t.event?n_.emit("frameAddRejected",{reason:t.reason}):"frame_removed"===t.event?n_.emit("frameRemoved"):"notifications_enabled"===t.event?n_.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?n_.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&n_.emit("backNavigationTriggered")}});class nA{constructor(){this.clientMeta=null,this.initPromise=null}async init({isMiniKit:e}){if(this.isInitialized())return void console.warn("ClientMetaManager already initialized");this.initPromise=this.handleInit({isMiniKit:e})}isInitialized(){return!!this.initPromise}async getClientMeta(){if(!this.initPromise)throw Error("ClientMetaManager not initialized");return this.clientMeta?this.clientMeta:await this.initPromise}async handleInit({isMiniKit:e}){var t;let r=null;try{let e=await nI.context;r=(null==(t=null==e?void 0:e.client)?void 0:t.clientFid)||null}catch(e){console.error("Error getting client FID",e)}return this.clientMeta={mode:e?"minikit":"onchainkit",clientFid:r},this.clientMeta}}let nP=new nA,nR={"Content-Type":"application/json","OnchainKit-Version":"0.38.15"};var nj=(e=>(e.API="api",e.Buy="buy",e.Checkout="checkout",e.Hook="hook",e.NFT="nft",e.Swap="swap",e.Wallet="wallet",e))(nj||{});async function nT(e,t){var r;let n=g("config");if(null==n?void 0:n.analytics)try{let i=await nP.getClientMeta();await fetch((null==n?void 0:n.analyticsUrl)??"https://api.developer.coinbase.com/analytics",{method:"POST",headers:{...nR,"OnchainKit-App-Name":document.title,"OnchainKit-Client-Fid":(null==(r=i.clientFid)?void 0:r.toString())??"","OnchainKit-Mode":i.mode},body:JSON.stringify({apiKey:g("apiKey")??"undefined",sessionId:g("sessionId")??"undefined",timestamp:Date.now(),eventType:e,data:t,origin:window.location.origin})})}catch(e){}}let nB=(e,t)=>nT(e,t);var nN=(e=>(e.ConnectError="walletConnectError",e.ConnectInitiated="walletConnectInitiated",e.ConnectSuccess="walletConnectSuccess",e.Disconnect="walletDisconnect",e.OptionSelected="walletOptionSelected",e.ConnectCanceled="walletConnectCanceled",e))(nN||{}),nU=(e=>(e.Buy="buy",e.Explorer="explorer",e.QR="qr",e.Refresh="refresh",e.Send="send",e.Swap="swap",e))(nU||{}),nF=(e=>(e.SlippageChanged="swapSlippageChanged",e.TokenSelected="swapTokenSelected",e.SwapSuccess="swapSuccess",e.SwapInitiated="swapInitiated",e.SwapFailure="swapFailure",e.SwapCanceled="swapCanceled",e))(nF||{}),nM=(e=>(e.APPLE_PAY="apple_pay",e.COINBASE="coinbase_account",e.DEBIT_CARD="debit_card",e.ETH="eth",e.USDC="usdc",e))(nM||{}),nq=(e=>(e.BuyFailure="buyFailure",e.BuyInitiated="buyInitiated",e.BuyOptionSelected="buyOptionSelected",e.BuySuccess="buySuccess",e.BuyCanceled="buyCanceled",e))(nq||{}),nD=(e=>(e.CheckoutFailure="checkoutFailure",e.CheckoutInitiated="checkoutInitiated",e.CheckoutSuccess="checkoutSuccess",e.CheckoutCanceled="checkoutCanceled",e))(nD||{}),nL=(e=>(e.MintFailure="mintFailure",e.MintInitiated="mintInitiated",e.MintQuantityChanged="mintQuantityChanged",e.MintSuccess="mintSuccess",e.MintCanceled="mintCanceled",e))(nL||{}),nz=(e=>(e.TransactionFailure="transactionFailure",e.TransactionInitiated="transactionInitiated",e.TransactionSuccess="transactionSuccess",e.TransactionCanceled="transactionCanceled",e))(nz||{}),nZ=(e=>(e.FundAmountChanged="fundAmountChanged",e.FundFailure="fundFailure",e.FundInitiated="fundInitiated",e.FundOptionSelected="fundOptionSelected",e.FundSuccess="fundSuccess",e.FundCanceled="fundCanceled",e))(nZ||{}),n$=(e=>(e.EarnDepositInitiated="earnDepositInitiated",e.EarnDepositSuccess="earnDepositSuccess",e.EarnDepositFailure="earnDepositFailure",e.EarnDepositCanceled="earnDepositCanceled",e.EarnWithdrawInitiated="earnWithdrawInitiated",e.EarnWithdrawSuccess="earnWithdrawSuccess",e.EarnWithdrawFailure="earnWithdrawFailure",e.EarnWithdrawCanceled="earnWithdrawCanceled",e))(n$||{}),nH=(e=>(e.AppchainBridgeDepositInitiated="appchainBridgeDepositInitiated",e.AppchainBridgeDepositSuccess="appchainBridgeDepositSuccess",e.AppchainBridgeDepositFailure="appchainBridgeDepositFailure",e.AppchainBridgeWithdrawInitiated="appchainBridgeWithdrawInitiated",e.AppchainBridgeWithdrawSuccess="appchainBridgeWithdrawSuccess",e.AppchainBridgeWithdrawFailure="appchainBridgeWithdrawFailure",e.AppchainBridgeWaitForClaimFailure="appchainBridgeWaitForClaimFailure",e.AppchainBridgeClaimSuccess="appchainBridgeClaimSuccess",e.AppchainBridgeClaimFailure="appchainBridgeClaimFailure",e))(nH||{}),nK=(e=>(e.ComponentError="componentError",e))(nK||{});class nW extends b.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),nB(nK.ComponentError,{component:"OnchainKitProviderBoundary",error:e.message,metadata:{message:e.message,stack:t.componentStack}})}render(){if(this.state.error){if(this.props.fallback){let e=this.props.fallback;return(0,f.jsx)(e,{error:this.state.error})}return(0,f.jsx)("h1",{children:"Sorry, we had an unhandled error"})}return this.props.children}}var nQ=(e=>(e.AtomicBatch="atomicBatch",e.AuxiliaryFunds="auxiliaryFunds",e.PaymasterService="paymasterService",e))(nQ||{});m.id,ez.E.id;let nV=e=>{let t=new Uint8Array(e);return crypto.getRandomValues(t),t},nG=()=>{if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=nV(16);return e[0].toString(16).padStart(2,"0")+e[1].toString(16).padStart(2,"0")+e[2].toString(16).padStart(2,"0")+e[3].toString(16).padStart(2,"0")+"-"+e[4].toString(16).padStart(2,"0")+e[5].toString(16).padStart(2,"0")+"-"+(15&e[6]|64).toString(16).padStart(2,"0")+e[7].toString(16).padStart(2,"0")+"-"+(63&e[8]|128).toString(16).padStart(2,"0")+e[9].toString(16).padStart(2,"0")+"-"+e[10].toString(16).padStart(2,"0")+e[11].toString(16).padStart(2,"0")+e[12].toString(16).padStart(2,"0")+e[13].toString(16).padStart(2,"0")+e[14].toString(16).padStart(2,"0")+e[15].toString(16).padStart(2,"0")};var nJ=r(53554);function nY(){return e=>({id:"farcaster",name:"Farcaster",rdns:"xyz.farcaster.MiniAppWallet",icon:"https://imagedelivery.net/BXluQx4ige9GuW0Ia56BHw/055c25d6-7fe7-4a49-abf9-49772021cf00/original",type:nY.type,async connect({chainId:t}={}){let r=await this.getProvider(),n=await r.request({method:"eth_requestAccounts"}),i=t;if(!i){let t=await e.storage?.getItem("state")??{};i=e.chains.some(e=>e.id===t.chainId)?t.chainId:e.chains[0]?.id}if(!i)throw Error("No chains found on connector.");a||(a=this.onAccountsChanged.bind(this),r.on("accountsChanged",a)),o||(o=this.onChainChanged.bind(this),r.on("chainChanged",o)),u||(u=this.onDisconnect.bind(this),r.on("disconnect",u));let s=await this.getChainId();return i&&s!==i&&(s=(await this.switchChain({chainId:i})).id),{accounts:n.map(e=>(0,ep.b)(e)),chainId:s}},async disconnect(){let e=await this.getProvider();a&&(e.removeListener("accountsChanged",a),a=void 0),o&&(e.removeListener("chainChanged",o),o=void 0),u&&(e.removeListener("disconnect",u),u=void 0)},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,ep.b)(e))},async getChainId(){let e=await this.getProvider(),t=await e.request({method:"eth_chainId"});return(0,nJ.aD)(t,"number")},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:t}){let r=await this.getProvider(),n=e.chains.find(e=>e.id===t);if(!n)throw new em.ch(new ef.nk);return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,ey.cK)(t)}]}),e.emitter.emit("change",{chainId:t}),n},onAccountsChanged(t){0===t.length?this.onDisconnect():e.emitter.emit("change",{accounts:t.map(e=>(0,ep.b)(e))})},onChainChanged(t){let r=Number(t);e.emitter.emit("change",{chainId:r})},async onDisconnect(){e.emitter.emit("disconnect")},getProvider:async()=>nI.wallet.ethProvider})}function nX(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){let r,n;if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!nX(e[n],t[n]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();let i=Object.keys(e);if((r=i.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(r&&!nX(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function n0(e){let t=e.state.current,r=e.state.connections.get(t),n=r?.accounts,i=n?.[0],s=e.chains.find(e=>e.id===r?.chainId),a=e.state.status;switch(a){case"connected":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}nY.type="farcasterFrame";var n1=r(50207);let n2=e=>"object"==typeof e&&!Array.isArray(e);var n6=class extends Z{#u;#O=void 0;#C;#k;constructor(e,t){super(),this.#u=e,this.setOptions(t),this.bindMethods(),this.#I()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#u.defaultMutationOptions(e),R(this.options,t)||this.#u.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#C,observer:this}),t?.mutationKey&&this.options.mutationKey&&A(t.mutationKey)!==A(this.options.mutationKey)?this.reset():this.#C?.state.status==="pending"&&this.#C.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#C?.removeObserver(this)}onMutationUpdate(e){this.#I(),this.#A(e)}getCurrentResult(){return this.#O}reset(){this.#C?.removeObserver(this),this.#C=void 0,this.#I(),this.#A()}mutate(e,t){return this.#k=t,this.#C?.removeObserver(this),this.#C=this.#u.getMutationCache().build(this.#u,this.options),this.#C.addObserver(this),this.#C.execute(e)}#I(){let e=this.#C?.state??en();this.#O={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#A(e){z.batch(()=>{if(this.#k&&this.hasListeners()){let t=this.#O.variables,r=this.#O.context;e?.type==="success"?(this.#k.onSuccess?.(e.data,t,r),this.#k.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#k.onError?.(e.error,t,r),this.#k.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#O)})})}};function n3(e,t){let r=el(t),[n]=b.useState(()=>new n6(r,e));b.useEffect(()=>{n.setOptions(e)},[n,e]);let i=b.useSyncExternalStore(b.useCallback(e=>n.subscribe(z.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=b.useCallback((e,t)=>{n.mutate(e,t).catch(_)},[n]);if(i.error&&D(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var n4=r(30170);let n9=[];function n5(e){let t=e.connectors;return nX(n9,t)?n9:(n9=t,t)}var n8=class extends Z{constructor(e,t){super(),this.options=t,this.#u=e,this.#P=null,this.#R=K(),this.options.experimental_prefetchInRender||this.#R.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#u;#j=void 0;#T=void 0;#O=void 0;#B;#N;#R;#P;#U;#F;#M;#q;#D;#L;#z=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#j.addObserver(this),n7(this.#j,this.options)?this.#Z():this.updateResult(),this.#$())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ie(this.#j,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ie(this.#j,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#H(),this.#K(),this.#j.removeObserver(this)}setOptions(e){let t=this.options,r=this.#j;if(this.options=this.#u.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof O(this.options.enabled,this.#j))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#W(),this.#j.setOptions(this.options),t._defaulted&&!R(this.options,t)&&this.#u.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#j,observer:this});let n=this.hasListeners();n&&it(this.#j,r,this.options,t)&&this.#Z(),this.updateResult(),n&&(this.#j!==r||O(this.options.enabled,this.#j)!==O(t.enabled,this.#j)||S(this.options.staleTime,this.#j)!==S(t.staleTime,this.#j))&&this.#Q();let i=this.#V();n&&(this.#j!==r||O(this.options.enabled,this.#j)!==O(t.enabled,this.#j)||i!==this.#L)&&this.#G(i)}getOptimisticResult(e){var t,r;let n=this.#u.getQueryCache().build(this.#u,e),i=this.createResult(n,e);return t=this,r=i,R(t.getCurrentResult(),r)||(this.#O=i,this.#N=this.options,this.#B=this.#j.state),i}getCurrentResult(){return this.#O}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#z.add(e)}getCurrentQuery(){return this.#j}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#u.defaultQueryOptions(e),r=this.#u.getQueryCache().build(this.#u,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#Z({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#O))}#Z(e){this.#W();let t=this.#j.fetch(this.options,e);return e?.throwOnError||(t=t.catch(_)),t}#Q(){this.#H();let e=S(this.options.staleTime,this.#j);if(w||this.#O.isStale||!x(e))return;let t=E(this.#O.dataUpdatedAt,e);this.#q=setTimeout(()=>{this.#O.isStale||this.updateResult()},t+1)}#V(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#j):this.options.refetchInterval)??!1}#G(e){this.#K(),this.#L=e,!w&&!1!==O(this.options.enabled,this.#j)&&x(this.#L)&&0!==this.#L&&(this.#D=setInterval(()=>{(this.options.refetchIntervalInBackground||$.isFocused())&&this.#Z()},this.#L))}#$(){this.#Q(),this.#G(this.#V())}#H(){this.#q&&(clearTimeout(this.#q),this.#q=void 0)}#K(){this.#D&&(clearInterval(this.#D),this.#D=void 0)}createResult(e,t){let r,n=this.#j,i=this.options,s=this.#O,a=this.#B,o=this.#N,u=e!==n?e.state:this.#T,{state:c}=e,l={...c},d=!1;if(t._optimisticResults){let r=this.hasListeners(),s=!r&&n7(e,t),a=r&&it(e,n,t,i);(s||a)&&(l={...l,...ee(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(l.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=l;r=l.data;let m=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===p){let e;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=s.data,m=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#M?.state.data,this.#M):t.placeholderData,void 0!==e&&(p="success",r=N(s?.data,e,t),d=!0)}if(t.select&&void 0!==r&&!m)if(s&&r===a?.data&&t.select===this.#U)r=this.#F;else try{this.#U=t.select,r=t.select(r),r=N(s?.data,r,t),this.#F=r,this.#P=null}catch(e){this.#P=e}this.#P&&(h=this.#P,r=this.#F,f=Date.now(),p="error");let y="fetching"===l.fetchStatus,g="pending"===p,v="error"===p,b=g&&y,w=void 0!==r,_={status:p,fetchStatus:l.fetchStatus,isPending:g,isSuccess:"success"===p,isError:v,isInitialLoading:b,isLoading:b,data:r,dataUpdatedAt:l.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!g,isLoadingError:v&&!w,isPaused:"paused"===l.fetchStatus,isPlaceholderData:d,isRefetchError:v&&w,isStale:ir(e,t),refetch:this.refetch,promise:this.#R};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===_.status?e.reject(_.error):void 0!==_.data&&e.resolve(_.data)},r=()=>{t(this.#R=_.promise=K())},i=this.#R;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":("error"===_.status||_.data!==i.value)&&r();break;case"rejected":("error"!==_.status||_.error!==i.reason)&&r()}}return _}updateResult(){let e=this.#O,t=this.createResult(this.#j,this.options);this.#B=this.#j.state,this.#N=this.options,void 0!==this.#B.data&&(this.#M=this.#j),R(t,e)||(this.#O=t,this.#A({listeners:(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#z.size)return!0;let n=new Set(r??this.#z);return this.options.throwOnError&&n.add("error"),Object.keys(this.#O).some(t=>this.#O[t]!==e[t]&&n.has(t))})()}))}#W(){let e=this.#u.getQueryCache().build(this.#u,this.options);if(e===this.#j)return;let t=this.#j;this.#j=e,this.#T=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#$()}#A(e){z.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#O)}),this.#u.getQueryCache().notify({query:this.#j,type:"observerResultsUpdated"})})}};function n7(e,t){return!1!==O(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&ie(e,t,t.refetchOnMount)}function ie(e,t,r){if(!1!==O(t.enabled,e)&&"static"!==S(t.staleTime,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&ir(e,t)}return!1}function it(e,t,r,n){return(e!==t||!1===O(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&ir(e,r)}function ir(e,t){return!1!==O(t.enabled,e)&&e.isStaleByTime(S(t.staleTime,e))}var ii=b.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),is=()=>b.useContext(ii),ia=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},io=e=>{b.useEffect(()=>{e.clearReset()},[e])},iu=e=>{let{result:t,errorResetBoundary:r,throwOnError:n,query:i,suspense:s}=e;return t.isError&&!r.isReset()&&!t.isFetching&&i&&(s&&void 0===t.data||D(n,[t.error,i]))},ic=b.createContext(!1),il=()=>b.useContext(ic);ic.Provider;var id=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},ih=(e,t)=>e.isLoading&&e.isFetching&&!t,ip=(e,t)=>e?.suspense&&t.isPending,im=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function iy(e){let{children:t,enabled:r=!0}=e,{isConnected:n,isConnecting:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,e$.U)(e);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nX,i=(0,b.useRef)([]),s=(0,n1.useSyncExternalStoreWithSelector)(e,t,r,e=>e,(e,t)=>{if(n2(e)&&n2(t)&&i.current.length){for(let r of i.current)if(!n(e[r],t[r]))return!1;return!0}return n(e,t)});return(0,b.useMemo)(()=>{if(n2(s)){let e={...s},t={};for(let[r,n]of Object.entries(e))t={...t,[r]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(r)||i.current.push(r),n)}};return Object.defineProperties(e,t),e}return s},[s])}(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(()=>n0(e),r,{equalityFn(e,t){let{connector:r,...n}=e,{connector:i,...s}=t;return nX(n,s)&&r?.id===i?.id&&r?.uid===i?.uid}})})(t,{onChange:e}),()=>n0(t))}(),{connectors:s,connect:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,r=(0,e$.U)(e),n={mutationFn:e=>(0,n4.N)(r,e),mutationKey:["connect"]},{mutate:i,mutateAsync:s,...a}=n3({...t,...n});return(0,b.useEffect)(()=>r.subscribe(e=>{let{status:t}=e;return t},(e,t)=>{"connected"===t&&"disconnected"===e&&a.reset()}),[r,a.reset]),{...a,connect:i,connectAsync:s,connectors:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,e$.U)(e);return(0,b.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e._internal.connectors.subscribe((e,t)=>{r(Object.values(e),t)})})(t,{onChange:e}),()=>n5(t),()=>n5(t))}({config:r})}}(),o=(0,b.useRef)(!1),u=s[0],{isInMiniApp:c,isSuccess:l}=function(){let{data:e,...t}=function(e,t,r){var n,i,s,a,o;let u=il(),c=is(),l=el(r),d=l.defaultQueryOptions(e);null==(i=l.getDefaultOptions().queries)||null==(n=i._experimental_beforeQuery)||n.call(i,d),d._optimisticResults=u?"isRestoring":"optimistic",id(d),ia(d,c),io(c);let h=!l.getQueryCache().get(d.queryHash),[f]=b.useState(()=>new t(l,d)),p=f.getOptimisticResult(d),m=!u&&!1!==e.subscribed;if(b.useSyncExternalStore(b.useCallback(e=>{let t=m?f.subscribe(z.batchCalls(e)):_;return f.updateResult(),t},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),b.useEffect(()=>{f.setOptions(d)},[d,f]),ip(d,p))throw im(d,f,c);if(iu({result:p,errorResetBoundary:c,throwOnError:d.throwOnError,query:l.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if(null==(a=l.getDefaultOptions().queries)||null==(s=a._experimental_afterQuery)||s.call(a,d,p),d.experimental_prefetchInRender&&!w&&ih(p,u)){let e=h?im(d,f,c):null==(o=l.getQueryCache().get(d.queryHash))?void 0:o.promise;null==e||e.catch(_).finally(()=>{f.updateResult()})}return d.notifyOnChangeProps?p:f.trackResult(p)}({queryKey:["useIsInMiniApp"],queryFn:nI.isInMiniApp},n8,void 0);return{...t,isInMiniApp:e}}();return(0,b.useEffect)(()=>{r&&!o.current&&(null==u?void 0:u.type)===nY.type&&l&&(o.current=!0,e());async function e(){!c||n||i||a({connector:u})}},[s,a,n,i,u,r,l,c]),(0,f.jsx)(f.Fragment,{children:t})}var ig=r(55036);let iv={},ib=(0,b.createContext)(iv);function iw(e){var t,r,n,i,s,a,o,u,c,l;let{children:d,notificationProxyUrl:h="/api/notify",autoConnect:p=!0,...m}=e,[y,g]=(0,b.useState)(null);(0,b.useEffect)(()=>(nI.on("frameAdded",e=>{let{notificationDetails:t}=e;t&&v({details:t,frameAdded:!0})}),nI.on("frameAddRejected",e=>{let{reason:t}=e;console.error("Frame add rejected",t)}),nI.on("frameRemoved",()=>{v({details:void 0,frameAdded:!1})}),nI.on("notificationsEnabled",e=>{let{notificationDetails:t}=e;v({details:t})}),nI.on("notificationsDisabled",()=>{v({details:void 0})}),async function(){try{let e=await nI.context;g(e)}catch(e){console.error("Error fetching context:",e)}}(),()=>{nI.removeAllListeners()}),[]);let v=(0,b.useCallback)(e=>{let{details:t,frameAdded:r}=e;g(e=>e?{...e,client:{...e.client,notificationDetails:null!=t?t:void 0,added:null!=r?r:e.client.added}}:null)},[]),w=(0,b.useMemo)(()=>{var e,t;return[y?nY():eg({appName:ig.env.NEXT_PUBLIC_ONCHAINKIT_PROJECT_NAME,appLogoUrl:ig.env.NEXT_PUBLIC_ICON_URL,preference:null==(t=null==(e=m.config)?void 0:e.wallet)?void 0:t.preference})]},[y,null==(r=null==(t=m.config)?void 0:t.wallet)?void 0:r.preference]),_=(0,b.useMemo)(()=>({context:y,updateClientContext:v,notificationProxyUrl:h,__isMiniKit:!0}),[v,h,y]);return(0,f.jsx)(ib.Provider,{value:_,children:(0,f.jsx)(eW,{connectors:w,children:(0,f.jsx)(i_,{...m,children:(0,f.jsx)(iy,{enabled:p,children:(0,f.jsx)("div",{style:{paddingTop:null!=(o=null==(n=null==y?void 0:y.client.safeAreaInsets)?void 0:n.top)?o:0,paddingBottom:null!=(u=null==(i=null==y?void 0:y.client.safeAreaInsets)?void 0:i.bottom)?u:0,paddingLeft:null!=(c=null==(s=null==y?void 0:y.client.safeAreaInsets)?void 0:s.left)?c:0,paddingRight:null!=(l=null==(a=null==y?void 0:y.client.safeAreaInsets)?void 0:a.right)?l:0},children:d})})})})})}function i_(e){var t;let{address:r,analytics:n,apiKey:i,chain:s,children:a,config:o,projectId:u,rpcUrl:c,schemaId:l}=e;if(l&&!RegExp("^0x[a-fA-F0-9]{64}$").test(l))throw Error('EAS schemaId must be 64 characters prefixed with "0x"');let d=(0,b.useMemo)(()=>nG(),[]),h=!!(null==(t=(0,b.useContext)(ib))?void 0:t.__isMiniKit);(0,b.useEffect)(()=>{nP.isInitialized()||nP.init({isMiniKit:h})},[h]);let p=(0,b.useMemo)(()=>{var e,t,a,h,f,p,m,y,g,b,w,_,x,E,S,O,C,k,I,A,P,R,j,T,B,N;let U=i?"https://api.developer.coinbase.com/rpc/v1/".concat(s.name.replace(" ","-").toLowerCase(),"/").concat(i):null,F={address:null!=r?r:null,apiKey:null!=i?i:null,chain:s,config:{analytics:null==n||n,analyticsUrl:null!=(O=null==o?void 0:o.analyticsUrl)?O:null,appearance:{name:null!=(C=null==(e=null==o?void 0:o.appearance)?void 0:e.name)?C:"Dapp",logo:null!=(k=null==(t=null==o?void 0:o.appearance)?void 0:t.logo)?k:"",mode:null!=(I=null==(a=null==o?void 0:o.appearance)?void 0:a.mode)?I:"auto",theme:null!=(A=null==(h=null==o?void 0:o.appearance)?void 0:h.theme)?A:"default"},paymaster:(null==o?void 0:o.paymaster)||U,wallet:{display:null!=(P=null==(f=null==o?void 0:o.wallet)?void 0:f.display)?P:"classic",preference:null!=(R=null==(p=null==o?void 0:o.wallet)?void 0:p.preference)?R:"all",signUpEnabled:null==(j=null==(m=null==o?void 0:o.wallet)?void 0:m.signUpEnabled)||j,termsUrl:(null==(y=null==o?void 0:o.wallet)?void 0:y.termsUrl)||"https://base.org/terms-of-service",privacyUrl:(null==(g=null==o?void 0:o.wallet)?void 0:g.privacyUrl)||"https://base.org/privacy-policy",supportedWallets:{rabby:null!=(T=null==(w=null==(b=null==o?void 0:o.wallet)?void 0:b.supportedWallets)?void 0:w.rabby)&&T,trust:null!=(B=null==(x=null==(_=null==o?void 0:o.wallet)?void 0:_.supportedWallets)?void 0:x.trust)&&B,frame:null!=(N=null==(S=null==(E=null==o?void 0:o.wallet)?void 0:E.supportedWallets)?void 0:S.frame)&&N}}},projectId:null!=u?u:null,rpcUrl:null!=c?c:null,schemaId:null!=l?l:"0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9",sessionId:d};return v(F),F},[r,n,i,s,o,u,c,l,d]);return(0,f.jsx)(eK.Provider,{value:p,children:(0,f.jsx)(eW,{children:(0,f.jsx)(nW,{children:a})})})}let ix=()=>{let[e,t]=(0,b.useState)(!1),r=(0,b.useContext)(ib);if(r===iv)throw Error("useMiniKit must be used within a MiniKitProvider");return{setFrameReady:async(e={})=>(nI.actions.ready(e),t(!0),r),isFrameReady:e,context:r.context,updateClientContext:r.updateClientContext,notificationProxyUrl:r.notificationProxyUrl}};function iE(){let{mutate:e,mutateAsync:t,...r}=n3({mutationFn:async e=>await nI.actions.composeCast(e)});return{...r,composeCast:e,composeCastAsync:t}}},87126:(e,t,r)=>{"use strict";var n=r(3821),i=r(80678),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=a(e,(d=c(function(){function e(e){if(!u){if(u=!0,a=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,o=r)}var a,o,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],d[1]);return u(function(){h.hasValue=!0,h.value=f},[f]),l(f),f}},90887:(e,t,r)=>{"use strict";r.d(t,{ev:()=>w});var n=r(10125),i=r(5039),s=r(71792),a=r(31948),o=r(39169);let u=BigInt(0),c=BigInt(1),l=BigInt(2),d=BigInt(8),h={zip215:!0};BigInt(0);let f=BigInt(1),p=BigInt(2);BigInt(3);let m=BigInt(5),y=BigInt(8),g={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:y,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},v=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),b=(0,o.D0)(g.p,void 0,!0),w=function(e){let{CURVE:t,curveOpts:r,eddsaOpts:n}=function(e){let t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:(0,o.D0)(t.n,e.nBitLength,!0),uvRatio:e.uvRatio};return{CURVE:t,curveOpts:r,eddsaOpts:{hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve}}}(e),f=function(e,t){(0,i.DS)(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r,hash:n}=t,{BASE:a,Fp:o,Fn:c}=e,l=c.ORDER,d=t.randomBytes||s.po,f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,r)=>{if((0,i.e8)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function m(e){var t;return t=(0,i.lX)(e),c.create(t)}function y(e){let{head:t,prefix:r,scalar:s}=function(e){let t=o.BYTES;e=(0,i.qj)("private key",e,t);let r=(0,i.qj)("hashed private key",n(e),2*t),s=f(r.slice(0,t)),a=r.slice(t,2*t),u=m(s);return{head:s,prefix:a,scalar:u}}(e),u=a.multiply(s),c=u.toBytes();return{head:t,prefix:r,scalar:s,point:u,pointBytes:c}}function g(e=Uint8Array.of(),...t){return m(n(p((0,s.Id)(...t),(0,i.qj)("context",e),!!r)))}return a.precompute(8),{getPublicKey:function(e){return y(e).pointBytes},sign:function(e,t,n={}){var d;e=(0,i.qj)("message",e),r&&(e=r(e));let{prefix:h,scalar:f,pointBytes:p}=y(t),m=g(n.context,h,e),v=a.multiply(m).toBytes(),b=(d=m+g(n.context,v,p,e)*f,c.create(d));(0,i.aK)("signature.s",b,u,l);let w=o.BYTES,_=(0,s.Id)(v,(0,i.z)(b,w));return(0,i.qj)("result",_,2*w)},verify:function(t,n,s,u=h){let c,l,d,{context:f,zip215:p}=u,m=o.BYTES;t=(0,i.qj)("signature",t,2*m),n=(0,i.qj)("message",n),s=(0,i.qj)("publicKey",s,m),void 0!==p&&(0,i.e8)("zip215",p),r&&(n=r(n));let y=(0,i.lX)(t.slice(m,2*m));try{c=e.fromHex(s,p),l=e.fromHex(t.slice(0,m),p),d=a.multiplyUnsafe(y)}catch(e){return!1}if(!p&&c.isSmallOrder())return!1;let v=g(f,l.toBytes(),c.toBytes(),n);return l.add(c.multiplyUnsafe(v)).subtract(d).clearCofactor().is0()},utils:{getExtendedPublicKey:y,randomPrivateKey:()=>d(o.BYTES),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e}}(function(e,t={}){let{Fp:r,Fn:n}=(0,a.UT)("edwards",e,t),{h:o,n:h}=e;(0,i.DS)(t,{},{uvRatio:"function"});let f=l<<BigInt(8*n.BYTES)-c,p=e=>r.create(e),m=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(e){return{isValid:!1,value:u}}});if(!function(e,t,r,n){let i=e.sqr(r),s=e.sqr(n),a=e.add(e.mul(t.a,i),s),o=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(a,o)}(r,e,e.Gx,e.Gy))throw Error("bad curve params: generator point");function y(e,t,r=!1){let n=r?c:u;return(0,i.aK)("coordinate "+e,t,n,f),t}function g(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let v=(0,i.x)((e,t)=>{let{ex:n,ey:i,ez:s}=e,a=e.is0();null==t&&(t=a?d:r.inv(s));let o=p(n*t),l=p(i*t),h=p(s*t);if(a)return{x:u,y:c};if(h!==c)throw Error("invZ was invalid");return{x:o,y:l}}),b=(0,i.x)(t=>{let{a:r,d:n}=e;if(t.is0())throw Error("bad point: ZERO");let{ex:i,ey:s,ez:a,et:o}=t,u=p(i*i),c=p(s*s),l=p(a*a),d=p(l*l),h=p(u*r);if(p(l*p(h+c))!==p(d+p(n*p(u*c))))throw Error("bad point: equation left != right (1)");if(p(i*s)!==p(a*o))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,n){this.ex=y("x",e),this.ey=y("y",t),this.ez=y("z",r,!0),this.et=y("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return y("x",t),y("y",r),new w(t,r,c,p(t*r))}static normalizeZ(e){return(0,a.Ak)(w,"ez",e)}static msm(e,t){return(0,a.Xf)(w,n,e,t)}_setWindowSize(e){this.precompute(e)}precompute(e=8,t=!0){return _.setWindowSize(this,e),t||this.multiply(l),this}assertValidity(){b(this)}equals(e){g(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:a}=e,o=p(t*a),u=p(i*n),c=p(r*a),l=p(s*n);return o===u&&c===l}is0(){return this.equals(w.ZERO)}negate(){return new w(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){let{a:t}=e,{ex:r,ey:n,ez:i}=this,s=p(r*r),a=p(n*n),o=p(l*p(i*i)),u=p(t*s),c=r+n,d=p(p(c*c)-s-a),h=u+a,f=h-o,m=u-a,y=p(d*f),g=p(h*m),v=p(d*m);return new w(y,g,p(f*h),v)}add(t){g(t);let{a:r,d:n}=e,{ex:i,ey:s,ez:a,et:o}=this,{ex:u,ey:c,ez:l,et:d}=t,h=p(i*u),f=p(s*c),m=p(o*n*d),y=p(a*l),v=p((i+s)*(u+c)-h-f),b=y-m,_=y+m,x=p(f-r*h),E=p(v*b),S=p(_*x),O=p(v*x);return new w(E,S,p(b*_),O)}subtract(e){return this.add(e.negate())}multiply(e){(0,i.aK)("scalar",e,c,h);let{p:t,f:r}=_.wNAFCached(this,e,w.normalizeZ);return w.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=w.ZERO){return((0,i.aK)("scalar",e,u,h),e===u)?w.ZERO:this.is0()||e===c?this:_.wNAFCachedUnsafe(this,e,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return _.wNAFCachedUnsafe(this,h).is0()}toAffine(e){return v(this,e)}clearCofactor(){return o===c?this:this.multiplyUnsafe(o)}static fromBytes(e,t=!1){return(0,s.DO)(e),this.fromHex(e,t)}static fromHex(t,n=!1){let{d:s,a}=e,o=r.BYTES;t=(0,i.qj)("pointHex",t,o),(0,i.e8)("zip215",n);let l=t.slice(),d=t[o-1];l[o-1]=-129&d;let h=(0,i.lX)(l),y=n?f:r.ORDER;(0,i.aK)("pointHex.y",h,u,y);let g=p(h*h),{isValid:v,value:b}=m(p(g-c),p(s*g-a));if(!v)throw Error("Point.fromHex: invalid y coordinate");let _=(b&c)===c,x=(128&d)!=0;if(!n&&b===u&&x)throw Error("Point.fromHex: x=0 and x_0=1");return x!==_&&(b=p(-b)),w.fromAffine({x:b,y:h})}static fromPrivateScalar(e){return w.BASE.multiply(e)}toBytes(){let{x:e,y:t}=this.toAffine(),n=(0,i.z)(t,r.BYTES);return n[n.length-1]|=e&c?128:0,n}toRawBytes(){return this.toBytes()}toHex(){return(0,s.My)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}w.BASE=new w(e.Gx,e.Gy,c,p(e.Gx*e.Gy)),w.ZERO=new w(u,c,c,u),w.Fp=r,w.Fn=n;let _=(0,a.hT)(w,8*n.BYTES);return w}(t,r),n);return Object.assign({},f,{ExtendedPoint:f.Point,CURVE:e})}({...g,Fp:b,hash:n.Zf,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=g.p,n=(0,o.zi)(t*t*t,r),i=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=g.p,a=e*e%s*e%s,u=(0,o.zH)(a,p,s)*a%s,c=(0,o.zH)(u,f,s)*e%s,l=(0,o.zH)(c,m,s)*c%s,d=(0,o.zH)(l,t,s)*l%s,h=(0,o.zH)(d,r,s)*d%s,y=(0,o.zH)(h,n,s)*h%s,v=(0,o.zH)(y,i,s)*y%s,b=(0,o.zH)(v,i,s)*y%s,w=(0,o.zH)(b,t,s)*l%s;return{pow_p_5_8:(0,o.zH)(w,p,s)*e%s,b2:a}}(e*(0,o.zi)(n*n*t,r)).pow_p_5_8,s=(0,o.zi)(e*n*i,r),a=(0,o.zi)(t*s*s,r),u=s,c=(0,o.zi)(s*v,r),l=a===e,d=a===(0,o.zi)(-e,r),h=a===(0,o.zi)(-e*v,r);return l&&(s=u),(d||h)&&(s=c),(0,o.dQ)(s,r)&&(s=(0,o.zi)(-s,r)),{isValid:l||d,value:s}}})},92919:(e,t,r)=>{"use strict";r.d(t,{kb:()=>a,vE:()=>u});var n=r(43783),i=r(13405),s=class extends i.b{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function a(e,t){return new s(e,t)}var o=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},u=class extends i.b{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...a}={},u,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=u||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new o,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(Error("socket not ready"));let a=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:a}),n,e=>{if(e)return s(e);this.queue[a]={promise:[i,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,n)=>{if(!this.ready)return n(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return n(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=n.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}}},94194:(e,t,r)=>{"use strict";r.d(t,{KC:()=>C,KJ:()=>y,L5:()=>k,NW:()=>O,PV:()=>S,YO:()=>p,Yj:()=>E,ai:()=>w,au:()=>I,bz:()=>f,eu:()=>g,g1:()=>x,lq:()=>_,me:()=>b,vt:()=>l,zM:()=>m});class n extends TypeError{constructor(e,t){let r,{message:n,explanation:i,...s}=e,{path:a}=e,o=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function s(e){return i(e)&&!Array.isArray(e)}function a(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*o(e,t,r,n){var s;for(let o of(i(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:s}=t,{type:o}=r,{refinement:u,message:c=`Expected a value of type \`${o}\`${u?` with refinement \`${u}\``:""}, but received: \`${a(n)}\``}=e;return{value:n,type:o,refinement:u,key:i[i.length-1],path:i,branch:s,...e,message:c}}(o,t,r,n);e&&(yield e)}}function*u(e,t,r={}){let{path:n=[],branch:s=[e],coerce:a=!1,mask:o=!1}=r,c={path:n,branch:s,mask:o};a&&(e=t.coercer(e,c));let l="valid";for(let n of t.validator(e,c))n.explanation=r.message,l="not_valid",yield[n,void 0];for(let[d,h,f]of t.entries(e,c))for(let t of u(h,f,{path:void 0===d?n:[...n,d],branch:void 0===d?s:[...s,h],coerce:a,mask:o,message:r.message}))t[0]?(l=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):a&&(h=t[1],void 0===d?e=h:e instanceof Map?e.set(d,h):e instanceof Set?e.add(h):i(e)&&(void 0!==h||d in e)&&(e[d]=h));if("not_valid"!==l)for(let n of t.refiner(e,c))n.explanation=r.message,l="not_refined",yield[n,void 0];"valid"===l&&(yield[void 0,e])}class c{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,n?this.validator=(e,t)=>o(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>o(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var r=e,n=this,i=t;let s=d(r,n,{message:i});if(s[0])throw s[0]}create(e,t){return l(e,this,t)}is(e){var t,r;return t=e,r=this,!d(t,r)[0]}mask(e,t){var r=e,n=this,i=t;let s=d(r,n,{coerce:!0,mask:!0,message:i});if(!s[0])return s[1];throw s[0]}validate(e,t={}){return d(e,this,t)}}function l(e,t,r){let n=d(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function d(e,t,r={}){let i=u(e,t,r),s=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return s[0]?[new n(s[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}function h(e,t){return new c({type:e,schema:null,validator:t})}function f(){return h("any",()=>!0)}function p(e){return new c({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${a(e)}`})}function m(){return h("boolean",e=>"boolean"==typeof e)}function y(e){return h("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${a(t)}`)}function g(e){let t=a(e),r=typeof e;return new c({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${a(r)}`})}function v(){return h("never",()=>!1)}function b(e){return new c({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function w(){return h("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${a(e)}`)}function _(e){return new c({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function x(e,t){return new c({type:"record",schema:null,*entries(r){if(i(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>s(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>s(e)?{...e}:e})}function E(){return h("string",e=>"string"==typeof e||`Expected a string, but received: ${a(e)}`)}function S(e){let t=v();return new c({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${a(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function O(e){let t=Object.keys(e);return new c({type:"type",schema:e,*entries(r){if(i(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>s(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>s(e)?{...e}:e})}function C(e){let t=e.map(e=>e.type).join(" | ");return new c({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=u(r,t,n),[s]=e;if(!s[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${a(r)}`,...i]}})}function k(){return h("unknown",()=>!0)}function I(e,t,r){return new c({...e,coercer:(n,i)=>d(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}},98257:(e,t)=>{"use strict";function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var a="utf-8";function o(e,t){if(!(this instanceof o))return new o(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(e){var t=e.fatal,n=0,i=0,a=0,o=128,u=191;this.handler=function(e,c){if(-1===c&&0!==a)return a=0,s(t);if(-1===c)return -1;if(0===a){if(r(c,0,127))return c;if(r(c,194,223))a=1,n=c-192;else if(r(c,224,239))224===c&&(o=160),237===c&&(u=159),a=2,n=c-224;else{if(!r(c,240,244))return s(t);240===c&&(o=144),244===c&&(u=143),a=3,n=c-240}return n<<=6*a,null}if(!r(c,o,u))return n=a=i=0,o=128,u=191,e.prepend(c),s(t);if(o=128,u=191,i+=1,n+=c-128<<6*(a-i),i!==a)return null;var l=n;return n=a=i=0,l}}function l(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(r(t,0,127))return t;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var n,i,s=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);s.push(128|63&a),n-=1}return s}}o.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,s,a=new i(r),o=[];!a.endOfStream()&&-1!==(s=this._decoder.handler(a,a.read()));)null!==s&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(-1===(s=this._decoder.handler(a,a.read())))break;if(null===s)continue;Array.isArray(s)?o.push.apply(o,s):o.push(s)}while(!a.endOfStream());this._decoder=null}!o.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0);for(var u="",l=0;l<o.length;++l){var d=o[l];d<=65535?u+=String.fromCharCode(d):(d-=65536,u+=String.fromCharCode((d>>10)+55296,(1023&d)+56320))}return u}},u.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new l(this._options)),this._streaming=!!t.stream;for(var r,s=[],a=new i(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var o=1023&s,u=1023&a;i.push(65536+(o<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?s.push.apply(s,r):s.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?s.push.apply(s,r):s.push(r);this._encoder=null}return new Uint8Array(s)}},t.TextEncoder=u,t.TextDecoder=o}}]);