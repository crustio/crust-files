(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5380],{3089:(t,e,n)=>{"use strict";n.d(e,{Hn:()=>a,LZ:()=>s});var i=n(36939);class s{async init(t){this.accounts=await this.fetchAccounts(),console.info("BaseWallet:",t,this.accounts),t&&this.accounts.includes(t.account)&&(this.account=t.account,this.isConnected=!0)}disconnect(){this.isConnected=!1,this.onAccountChange=void 0,this.onChainChange=void 0,this.isInit=!1}getProvider(){}constructor(){this.accounts=[],this.account="",this.isInit=!1,this.isInited=(0,i.w4)(),this.isConnected=!1}}class a{constructor(){this.account="",this.wallet="crust",this.key="files:login"}}},7769:(t,e,n)=>{"use strict";n.d(e,{KM:()=>l,MM:()=>c,qQ:()=>m,kJ:()=>r,_z:()=>d,TQ:()=>p,G4:()=>h,T3:()=>u,rt:()=>a,n3:()=>o});var i=n(12273);n(42287);let s={value:"crustfiles.io"};function a(t){return[{location:t("️Shanghai"),text:t("️⚡ Thunder Gateway"),value:"https://gw.crustfiles.net"},{location:t("Singapore"),text:t("DCF"),value:"https://crustipfs.xyz"},{location:t("United States"),text:t("Crust Network"),value:"https://ipfs-gw.decloud.foundation"}]}function o(t){return[{text:t("Crust Pinner"),value:"https://pin.crustcode.com"}]}let r=750,c="https://chromewebstore.google.com/detail/crust-wallet-v3/bhnjponmcdginfhpmfnplhoajoolcfhh",l="https://swap.crust.network",u=i.H?"beta":"prod",h=()=>i.H?"https://files-api.decoo.io":"https://api.".concat(s.value),d=i.H?"f8bd392f-2ff5-4dc7-bedd-1be9f175885b":"09ef6613-21f0-4fb6-ab1f-ded9bedb291e",p="@media screen and (max-width: ".concat(r,"px)"),m="ZXRoLTB4Nzk0N2U1OTljNzBjMTYyZjYyM2E1ZGVmZTlmYzYyMDI2Njc3YTk3YjoweGJjMTYyZjQ0ZmJjZGE0ZmQ1ODU0ZDlhMjJjN2FkYmYwYmNjN2IzYzJkYmY3MTlkZWEzYzRmOTAzYzI3MGYzMmEyMzY0NTA3MGZiZTA3OTYzZjM0OThlZTRlMmRlOTM3MjI2NDg2YjU4MWU2ODg2YTE5NDM0M2E3YmQwNTIwN2M3MWM="},12273:(t,e,n)=>{"use strict";n.d(e,{H:()=>i});let i=!1},14134:(t,e,n)=>{"use strict";n.d(e,{P8:()=>y,Qh:()=>w,W_:()=>g,jI:()=>d,v:()=>f});var i=n(20635),s=n(95543),a=n(57756),o=n(2007),r=n(68325),c=n(26004),l=n(60920),u=n(72370),h=n(31721);let d={token:"a".repeat(64),chainId:416001,applicationId:0x4c03d547,applicationAddress:"SLNGOJJFB3ERUUZUAAOVW6DWH3NKKQMGZWH26IBIU34EHM3AU24Y5VIH3E",algodUrl:"https://mainnet-api.algonode.cloud"},p=(0,h.x)({testnet:!0,id:366666,name:"Crust EVM Parachain Test",nativeCurrency:{name:"CRU",symbol:"CRU",decimals:18},blockExplorers:{default:{name:"Crust EVM Parachain Test",url:" https://evmexplorer.tanssi-chains.network"}},rpcUrls:{default:{http:["https://fraa-flashbox-2952-rpc.a.stagenet.tanssi.network"]}}}),m=(0,h.x)({testnet:!1,id:39,name:"U2U Solaris Mainnet",nativeCurrency:{name:"U2U",symbol:"U2U",decimals:18},blockExplorers:{default:{name:"U2U Mainnet Scan",url:"https://u2uscan.xyz"}},rpcUrls:{default:{http:["https://rpc-mainnet.u2u.xyz"]}}}),f={mainnet:i.r,optimism:s.R,arbitrum:a.D,zkSync:o.d,blast:r.v,base:c.E,crustEvmParachainTest:p,u2uMainnet:m,hedera:l.i,avalanche:u.m},w={[i.r.id]:"0xf063A29f03d0A02FD96f270EE4F59158EF3d4860",[s.R.id]:"0xf063A29f03d0A02FD96f270EE4F59158EF3d4860",[a.D.id]:"0xf063A29f03d0A02FD96f270EE4F59158EF3d4860",[o.d.id]:"0x61ecfA2C8dF06A4f941A8529E4B707488B74e3bE",[r.v.id]:"0xf063A29f03d0A02FD96f270EE4F59158EF3d4860",[c.E.id]:"0xf063a29f03d0a02fd96f270ee4f59158ef3d4860",[p.id]:"0xA40179e57280585D88899b2032E7eCF13B3B6c72",[m.id]:"0xA40179e57280585D88899b2032E7eCF13B3B6c72",[l.i.id]:"0x304568d9A54Dd913454eAdcA79681B8f7C6B3C64",[u.m.id]:"0x304568d9A54Dd913454eAdcA79681B8f7C6B3C64"},y={416001:"ALGO",137:"Matic",56:"BNB",[p.id]:"CRU",[m.id]:"U2U",[l.i.id]:"HBAR",[u.m.id]:"AVAX"},g=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"customer",type:"address"},{indexed:!1,internalType:"address",name:"merchant",type:"address"},{indexed:!1,internalType:"string",name:"cid",type:"string"},{indexed:!1,internalType:"uint256",name:"size",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"bool",name:"isPermanent",type:"bool"}],name:"Order",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[{internalType:"address",name:"nodeAddress",type:"address"}],name:"addOrderNode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getNodesNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"bool",name:"isPermanent",type:"bool"}],name:"getPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nodeArray",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nodes",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"cid",type:"string"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"bool",name:"isPermanent",type:"bool"}],name:"placeOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"cid",type:"string"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"address",name:"nodeAddress",type:"address"},{internalType:"bool",name:"isPermanent",type:"bool"}],name:"placeOrderWithNode",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nodeAddress",type:"address"}],name:"removeOrderNode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"priceOracleAddress",type:"address"}],name:"setPriceOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"}]},18443:(t,e,n)=>{"use strict";n.d(e,{Ec:()=>h,KZ:()=>l,pK:()=>u,tG:()=>r,xE:()=>c,yy:()=>a});var i=n(28518),s=n(7769);function a(t){return new Promise(e=>{setTimeout(e,t)})}let o=(t,e)=>t.events.find(t=>"".concat(t.event.section.toString(),"(").concat(t.event.method.toString(),")")===e);function r(t,e){return new Promise((n,i)=>{t.signAndSend(e,{nonce:-1,tip:0},t=>{t.status.isFinalized&&(o(t,"system(ExtrinsicSuccess)")?n():i("Error")),(t.status.isFinalityTimeout||t.status.isRetracted)&&i("Timeout")}).catch(i)})}let c=t=>t.wallet.startsWith("metamask")||"metax"===t.wallet||"wallet-connect"===t.wallet||"baseminikit"===t.wallet?"eth":"flow"===t.wallet?"flow":"solana"===t.wallet?"sol":"elrond"===t.wallet?"elrond":"algorand"===t.wallet?"algo":"aptos-martian"==t.wallet||"aptos-petra"==t.wallet?"aptos":"ton-connect"==t.wallet?"ton":"substrate";async function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.az[t.wallet],n="aptos-martian"===t.wallet||"aptos-petra"==t.wallet||"ton-connect"==t.wallet?t.pubKey||"":t.account,a=await e.sign(n,t.account);t.signature=a;let o=c(t),r="".concat(o,"-").concat(n).concat(a.includes(":")?"-"+a:":"+a),l=a.length>2e3?s.qQ:window.btoa(r);t.authBasic="".concat(l),t.authBearer="".concat(l)}let u="User rejected action",h="UserClosed"},25021:()=>{},28518:(t,e,n)=>{"use strict";let i;n.d(e,{qr:()=>tA,az:()=>tC,ZR:()=>tE,Pq:()=>tv,yh:()=>tx});var s=n(77489),a=n(67066),o=n.n(a),r=n(42287),c=n(64978),l=n.n(c),u=n(56640),h=n(10671),d=n(14134),p=n(3089),m=n(31262),f=n(36939),w=n(18443),y=n(6803).Buffer;class g extends p.LZ{async init(t){if(!this.isInit){try{this.wallet=new m.W({chainId:d.jI.chainId}),this.isInit=!0}catch(t){console.log(t)}await super.init(t)}}async fetchAccounts(){try{return this.wallet.reconnectSession()}catch(t){console.error(t)}return[]}async connect(){try{var t;if(this.isConnected&&this.wallet.isConnected)return{account:this.account,wallet:"algorand"};this.wallet.isConnected||(this.accounts=await this.wallet.connect(),this.isConnected=!0),null==(t=this.wallet.connector)||t.on("disconnect",()=>{this.wallet.disconnect(),this.account="",this.isInit=!1,this.isConnected=!1}),this.account=this.accounts[0]}catch(t){if((0,f.Yf)(t).includes("Connect modal is closed by user"))throw Error(w.Ec);throw t}return{account:this.account,wallet:"algorand"}}async sign(t,e){return this.wallet.signData([{data:y.from(t),message:"For login"}],e).then(t=>window.btoa(String.fromCharCode.apply(null,t[0])))}disconnect(){this.wallet.disconnect(),super.disconnect()}constructor(...t){super(...t),this.name="Algorand",this.icon="/images/wallet_algorand.png",this.wallet=null}}class v extends p.LZ{async init(t){this.isInit||("martian"in window&&(this.provider=window.martian),this.isInit=!0,await super.init(t))}async fetchAccounts(){try{return[(await this.provider.account()).address]}catch(t){console.error(t)}return[]}async connect(){if(!this.isConnected){if(!this.provider)throw"Aptos (Martian Wallet) not installed";let t=await this.provider.connect();if(!t)throw"You rejected the connection request";this.account=t.address,this.pubKey=t.publicKey}return{account:this.account,pubKey:this.pubKey,wallet:"aptos-martian"}}async sign(t){return this.provider.signMessage({message:t,nonce:o().random(1,1e7)}).then(t=>(console.info("message:",t),"".concat(t.signature)))}disconnect(){var t,e;super.disconnect(),null==(e=this.provider)||null==(t=e.disconnect)||t.call(e)}constructor(...t){super(...t),this.name="Aptos Martian",this.icon="/images/martian.png"}}class b extends p.LZ{async init(t){this.isInit||("petra"in window&&(this.provider=window.petra),this.isInit=!0,await super.init(t))}async fetchAccounts(){try{return[(await this.provider.account()).address]}catch(t){console.error(t)}return[]}async connect(){if(!this.isConnected){if(!this.provider)throw"Aptos (Petra Wallet) not installed";let t=await this.provider.connect();if(!t)throw"You rejected the connection request";this.account=t.address,this.pubKey=t.publicKey}return{account:this.account,pubKey:this.pubKey,wallet:"aptos-petra"}}async sign(t){return this.provider.signMessage({message:t,nonce:"crust"}).then(t=>(console.info("message:",t),"".concat(t.signature)))}disconnect(){var t,e;super.disconnect(),null==(e=this.provider)||null==(t=e.disconnect)||t.call(e)}constructor(...t){super(...t),this.name="Aptos Petra",this.icon="/images/aptos.svg"}}var C=n(65944),x=n(90554),A=n(27762),E=n(59515),I=n(56447),P=n(93004),T=n(44053),M=n(51014),k=n(86680);class S extends p.LZ{ready(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.config=t,this.connector=this.config.connectors[e],this.connector.isAuthorized().then(t=>{t&&(0,C.M)(this.config).then(()=>(0,x.r)(this.config,{connector:this.connector})).then(t=>this.connectorClient=t).catch(console.error)}),this.readypromise.reslove(!0)}getProvider(){var t,e;if(!this.connectorClient)return;let{chain:n,transport:i}=this.connectorClient,s={chainId:n.id,name:n.name,ensAddress:null==(e=n.contracts)||null==(t=e.ensRegistry)?void 0:t.address};return new k.j(i,s)}async init(t){if(!this.isInit){if(this.connector&&this.config&&await this.connector.isAuthorized()){let t=await (0,C.M)(this.config,{connectors:[this.connector]});this.connectorClient=await (0,x.r)(this.config,{connector:this.connector}),console.info("WagmiWallet:",this.connector,t,this.connectorClient),this.setLis()}this.isInit=!0,this.isInited.reslove(!0),await super.init(t),console.info("WagmiWallet:inited:",this.account,this.accounts)}}async fetchAccounts(){try{return[...await this.connector.getAccounts()]}catch(t){return[]}}setLis(){this.unWatchChainId=(0,A.y)(this.config,{onChange:async t=>{var e;null==(e=this.onChainChange)||e.call(this,t)}})}disconnect(){var t,e;super.disconnect(),null==(t=this.unWatchAccount)||t.call(this),null==(e=this.unWatchChainId)||e.call(this)}async connect(){if(!this.isConnected){if(await this.connector.isAuthorized()){let t=await this.fetchAccounts();if(!t||0==t.length)throw"".concat(this.name," error");this.accounts=t,this.account=t[0]}else{let{accounts:t}=await (0,E.N)(this.config,{connector:this.connector});if(!t||0==t.length)throw"".concat(this.name," error");this.accounts=[...t],this.account=t[0]}this.setLis(),this.isConnected=!0}return{account:this.account,wallet:this.type}}async sign(t,e){return await (0,I.l)(this.config,{message:{raw:(0,T.nj)(t)},connector:this.connector,account:e})}async switchAndInstallChain(t){try{return await (0,P.S)(this.config,{connector:this.connector,chainId:(0,M.ME)(t.chainId),addEthereumChainParameter:t}),!0}catch(t){return!1}}constructor(...t){super(...t),this.isEvmWallet=!0,this.config=null,this.connector=null,this.connectorClient=null,this.readypromise=(0,f.w4)(),this.isReady=this.readypromise.promise}}class W extends S{constructor(...t){super(...t),this.type="baseminikit",this.name="Coinbase Wallet",this.icon="/images/wallet_coinbase.svg"}}var j=n(67473),B=n(73236),H=n(25035);class U extends p.LZ{getApi(){return new B.G({provider:this.wallet.provider,typesBundle:j.typesBundleForPolkadot})}async init(t){if(this.isInit)return;let e=window;e.injectedWeb3=e.injectedWeb3||{},this.provider=e.injectedWeb3["crust wallet"],this.provider||(await (0,w.yy)(2e3),this.provider=e.injectedWeb3["crust wallet"]),this.isInit=!0,await super.init(t)}async fetchAccounts(){try{await this.enable();let t=await this.wallet.accounts.get();return console.info("getAccounts::",t),t.map(t=>(0,f.FW)(t.address))}catch(t){return[]}}async connect(){try{if(!this.isConnected){if(!this.provider)throw"Crust Wallet not installed";if(!await this.enable())throw w.pK;let t=await this.fetchAccounts();if(0===t.length)throw w.pK;this.isConnected=!0,this.account=t[0]}return{account:this.account,wallet:"crust"}}catch(t){if(console.info("error:",(0,f.Yf)(t),t),"Cancelled"==(0,f.Yf)(t))throw w.pK;throw t}}async sign(t,e){try{return(await this.wallet.signer.signRaw({address:e,type:"bytes",data:(0,H.i)(t)})).signature}catch(t){if(console.info("error:",(0,f.Yf)(t),t),"The request was cancelled."==(0,f.Yf)(t))throw w.pK;throw t}}async enable(){try{let t=await this.provider.enable("crust files");if(console.info("enable::",t),!t)return!1;return this.wallet={version:this.provider.version,name:"crust wallet",...t},!0}catch(t){return!1}}async login(t){if(!await this.enable())throw"Error: cancel";let e=await this.fetchAccounts();if(0===e.length)throw"Error: no account";if(t&&e.includes(t.account))return[e,t];let n=e[0],i={account:n,wallet:"crust"},s=(0,w.xE)(i),a=await this.sign(n,n),o="".concat(s,"-").concat(n,":").concat(a),r=window.btoa(o);return i.authBasic="".concat(r),i.authBearer="".concat(r),[e,i]}disconnect(){super.disconnect()}constructor(...t){super(...t),this.name="Crust Wallet",this.icon="/images/wallet_crust.png"}}var N=n(85181),Y=n(47158),_=n(6803).Buffer;class z extends p.LZ{async init(t){if(this.isInit)return;let e=N.ExtensionProvider.getInstance();await e.init()&&(this.provider=e),this.isInit=!0,await super.init(t)}async fetchAccounts(){try{let{address:t}=this.provider.getAccount();return[t]}catch(t){return[]}}async connect(){if(!this.isConnected){if(!this.provider)throw"Elrond (MultiversX Wallet) not installed";let{address:t}=await this.provider.login();this.account=t,this.accounts=await this.fetchAccounts()}return{account:this.account,wallet:"elrond"}}async sign(){let t=new Y.MessageComputer,e=new Y.Message({data:_.from("0x"+_.from(this.account).toString("hex"),"ascii")}),n=_.from(t.computeBytesForSigning(e)).toString("hex");return this.provider.signMessage(e).then(t=>"".concat(n,":").concat(_.from(t.signature).toString("hex")))}disconnect(){var t;super.disconnect(),null==(t=this.provider)||t.logout()}constructor(...t){super(...t),this.name="Elrond",this.icon="/images/wallet_elrond.png"}}var K=n(18122),L=n(6803).Buffer;class Z extends p.LZ{async init(t){this.isInit||(K.config().put("accessNode.api","https://flow-access-mainnet.portto.io").put("challenge.handshake","https://flow-wallet.blocto.app/authn"),this.fcl=K,this.isInit=!0,await super.init(t))}async fetchAccounts(){try{return[(await K.currentUser.snapshot()).addr]}catch(t){console.error(t)}return[]}async connect(){if(!this.isConnected){let t=await K.currentUser.snapshot();t.loggedIn||await K.authenticate(),t=await K.currentUser.snapshot(),this.user=t,this.isConnected=!0}return{account:this.user.addr,wallet:"flow"}}async sign(t){let e=L.from(t);return K.currentUser.signUserMessage(e.toString("hex")).then(t=>{if(!t)throw Error("Signature failed");if(o().includes(t,"Declined: User rejected signature"))throw Error("User rejected signature");return window.btoa(JSON.stringify(t))})}disconnect(){super.disconnect(),K.unauthenticate()}constructor(...t){super(...t),this.name="Flow",this.icon="/images/wallet_flow.png"}}var O=n(32973);class D extends p.LZ{getProvider(){if(!this.ethereumProvider)return}async init(t){this.isInit||(this.ethereumProvider=await O.vd.init({projectId:"e4f03e65ae41abb4f1a72bfa554e2d53",showQrModal:!0,qrModalOptions:{themeMode:"light",explorerRecommendedWalletIds:"NONE",explorerExcludedWalletIds:"ALL"},optionalChains:[1],disableProviderPing:!0,metadata:{name:"CrustFiles",description:"Your first personal Web3.0 storage",url:"https://crustfiles.io",icons:["https://crustfiles.io/images/wallet_crust.png"]}}),this.isInit=!0,await super.init(t))}async fetchAccounts(){try{if(!this.ethereumProvider)return[];return await this.ethereumProvider.request({method:"eth_accounts",params:[]})}catch(t){return[]}}async connect(){if(!this.ethereumProvider)throw"not init";if(!this.isConnected){if(this.ethereumProvider.session&&await this.ethereumProvider.disconnect(),await Promise.race([this.ethereumProvider.connect(),new Promise((t,e)=>{var n;let i=null==(n=this.ethereumProvider.modal)?void 0:n.subscribeModal(n=>{console.info("subModal:",n),n.open||(console.info("modal closed"),i(),this.ethereumProvider.connected?t():e(""))});console.info("unSub:",i)})]),console.info("connectEnd:",this.ethereumProvider.accounts),o().isEmpty(this.ethereumProvider.accounts))throw"";this.account=this.ethereumProvider.accounts[0],this.accounts=this.ethereumProvider.accounts,this.isConnected=!0}return{account:this.account,wallet:"wallet-connect"}}async sign(t,e){var n;let i=await (null==(n=this.ethereumProvider)?void 0:n.request({method:"personal_sign",params:[t,e]}));return console.info("res:",i),i}disconnect(){var t;super.disconnect(),null==(t=this.ethereumProvider)||t.disconnect()}constructor(...t){super(...t),this.name="Wallet Connect",this.icon="/images/group_wallet_connect.png",this.accounts=[]}}class F extends p.LZ{async syncChainId(){if(!this.ethereum)return;let t=this.ethereum.chainId||this.ethereum.selfChainId;o().isNil(t)&&(t=await this.ethereum.request({method:"eth_chainId"})),o().isNil(t)||(this.chainId="string"==typeof t&&t.startsWith("0x")?(0,a.parseInt)(t.replace("0x",""),16):(0,a.parseInt)("".concat(t)))}getProvider(){return new k.j(this.ethereum,this.chainId)}async initBy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ethereum",n=arguments.length>2?arguments[2]:void 0;if(this.isInit)return Promise.resolve();await new Promise(t=>{let i=!1,s=window,a=()=>{if(i)return;i=!0,window.removeEventListener("ethereum#initialized",a);let o="ethereum"!==e&&s[e]?s[e]:s.ethereum&&(!n||s.ethereum[n])?s.ethereum:void 0;console.info("".concat(e,":"),s.ethereum),this.ethereum=o,this.ethereum&&(this.syncChainId(),this.setLis()),t()};s.ethereum?a():(window.addEventListener("ethereum#initialized",a,{once:!0}),setTimeout(a,2e3))}),this.isInit=!0,await super.init(t)}async init(t){this.initBy(t)}async fetchAccounts(){try{return await this.ethereum.request({method:"eth_accounts"})}catch(t){return[]}}async connect(){if(!this.isConnected){if(!this.ethereum)throw"".concat(this.name," not installed");let t=await this.ethereum.request({method:"eth_requestAccounts"});if(!t||0==t.length)throw"".concat(this.name," error");this.accounts=t,this.ethereum.selectedAddress&&t.includes(this.ethereum.selectedAddress)?this.account=this.ethereum.selectedAddress:this.account=t[0],this.setLis(),this.isConnected=!0}return{account:this.account,wallet:this.type}}setLis(){this.ethereum.on("accountsChanged",t=>{console.info("".concat(this.name,":accountsChanged:"),t),this.onAccountChange&&this.onAccountChange(t),this.isInit=!1,this.init()}),this.ethereum.on("chainChanged",async t=>{console.info("".concat(this.name,":chainChanged:"),t),await this.syncChainId(),this.onChainChange&&this.onChainChange(this.chainId)})}async sign(t,e){var n,i;console.log("data:::",t);let s=(0,T.nj)(t);return(console.info("msg::",s),null==(n=this.ethereum)?void 0:n.request)?null==(i=this.ethereum)?void 0:i.request({from:e,params:[s,e],method:"personal_sign"}).then(t=>(console.info("signData:",t),t)):Promise.reject("Error")}async switchAndInstallChain(t){var e;return(null==(e=this.ethereum)?void 0:e.request)?this.ethereum.request({from:this.ethereum.selectedAddress,method:"wallet_switchEthereumChain",params:[{chainId:t.chainId}]}).then(()=>(this.syncChainId().then(()=>{this.onChainChange&&this.onChainChange(this.chainId)}),!0)).catch(e=>4902===e.code&&this.ethereum.request({method:"wallet_addEthereumChain",params:[t]}).then(()=>!0).catch(t=>(console.error(t),!1))):Promise.reject("Error")}constructor(...t){super(...t),this.isEvmWallet=!0,this.name="Evm Inject Wallet",this.icon="/images/wallet.svg",this.defChainId=1,this.isInjectWallet=!0,this.ethereum=void 0,this.chainId=void 0}}class R extends F{async init(t){this.initBy(t,"metax")}constructor(...t){super(...t),this.type="metax",this.name="MetaX",this.icon="/images/wallet_metax.png",this.isInit=!1}}class q extends F{async init(t){this.initBy(t,"ethereum","isMetaMask")}constructor(...t){super(...t),this.type="metamask",this.name="Metamask",this.icon="/images/group_wallet_metamask.png"}}var V=n(30755),G=n(86340),Q=n(49019),J=n(77804),X=n(77194),$=n(30172);async function tt(t,e){return{signOptions:function(e){let{header:n,nonce:i,mortalLength:s}=e;return{blockHash:"0x8b404e7ed8789d813982b9cb4c8b664c05b3fbf433309f603af014ec9ce56a8c",genesisHash:"0x8b404e7ed8789d813982b9cb4c8b664c05b3fbf433309f603af014ec9ce56a8c",runtimeVersion:t.runtimeVersion,signedExtensions:t.registry.signedExtensions,version:t.extrinsicType,era:t.registry.createTypeUnsafe("ExtrinsicEra",[{current:1,period:55}]),nonce:i,tip:0,assetId:0}}(await t.derive.tx.signingInfo(e))}}class te extends p.LZ{async init(t){if(this.isInit)return;let e=window!==window.parent;if(console.info("initMimir:",e),e){let t=await (0,V.sr)();console.info("initMimir:origin",t),t&&G.N.test(t)&&((0,V.WQ)(),this.provider=window.injectedWeb3.mimir,console.info("inject:",window.injectedWeb3))}this.isInit=!0,await super.init(t)}async fetchAccounts(){try{return await this.enable(),(await this.wallet.accounts.get(!0)).map(t=>t.address)}catch(t){return[]}}async connect(){if(!this.isConnected)if(this.provider){let t=await this.fetchAccounts();this.account=t[0],this.isConnected=!0}else window.open("https://app.mimir.global","_blank");return{account:this.account,wallet:"mimir"}}async enable(){try{if(!this.provider||!this.provider.enable)return!1;let t=await this.provider.enable("crust files");if(console.info("mimir:enable",t),!t)return!1;return this.wallet={...t,name:"mimir",version:this.provider.version},!0}catch(t){return console.error("mimir:",t),!1}}async sign(t,e){if(!this.provider)throw"Error: no wallet";if(!this.wallet.signer)throw"Error: wallet error no signer";let n=await (0,$.B)(),i=await this.fetchAccounts(),s=e||i[0],a=n.tx.system.remark("Signature for CrustFiles"),{signOptions:o}=await tt(n,s),r=await this.wallet.signer.signPayload({address:s,blockHash:o.blockHash,genesisHash:o.genesisHash,blockNumber:"0x0",era:o.era.toHex(),method:a.inner.method.toHex(),nonce:o.nonce.toHex(),tip:(0,Q.c)(o.tip),specVersion:o.runtimeVersion.toHex(),transactionVersion:o.runtimeVersion.toHex(),signedExtensions:o.signedExtensions,version:4});console.info("mimir:res:",r);let c=r.payload,l=n.registry.createType("ExtrinsicEra",c.era),u=n.registry.createType("GenericCall",c.method);console.info("method:",u.toHex()==c.method,u.toHex(),c.method,a.inner.method.toHex()),console.info("era:",l.toHex(),c.era);let h=a.inner.signature.createPayload(u,{era:l,blockHash:c.blockHash,genesisHash:c.genesisHash,nonce:c.nonce,runtimeVersion:o.runtimeVersion}).toU8a({method:!0});return(0,J.X)(h.length>256?n.registry.hash(h):h)+":"+r.signature}async login(t){let e=await this.fetchAccounts();if(0==e.length)throw"Error: no account";if(console.info("mimir:accounts",e),t&&t.account&&"mimir"==t.wallet&&e.includes(t.account))return[e,t];{let t=await (0,$.B)(),n=e[0],i=t.tx.system.remark("Signature for CrustFiles"),{signOptions:s}=await tt(t,n),a=await this.wallet.signer.signPayload({address:n,blockHash:s.blockHash,genesisHash:s.genesisHash,blockNumber:"0x0",era:s.era.toHex(),method:i.inner.method.toHex(),nonce:s.nonce.toHex(),tip:(0,Q.c)(s.tip),specVersion:s.runtimeVersion.toHex(),transactionVersion:s.runtimeVersion.toHex(),signedExtensions:s.signedExtensions,version:4});console.info("mimir:res:",a);let o=a.payload,r=t.registry.createType("ExtrinsicEra",o.era),c=t.registry.createType("GenericCall",o.method),l=o.address;console.info("method:",c.toHex()==o.method,c.toHex(),o.method,i.inner.method.toHex()),console.info("era:",r.toHex(),o.era);let u=i.inner.signature.createPayload(c,{era:r,blockHash:o.blockHash,genesisHash:o.genesisHash,nonce:o.nonce,runtimeVersion:s.runtimeVersion}).toU8a({method:!0}),h=(0,J.X)(u.length>256?t.registry.hash(u):u),d=a.signature,p=(0,w.xE)({wallet:"mimir",account:n}),m="".concat(p,"-").concat(l,"-").concat(h,":").concat(d),f=window.btoa(m);return console.info("mimir:valid",(0,X.K)(h,d,l).isValid),[e,{wallet:"mimir",account:n,authBasic:"".concat(f),authBearer:"".concat(f),signature:d}]}}constructor(...t){super(...t),this.name="Mimir",this.icon="/images/wallet_mimir.svg",this.isInit=!1}}class tn extends p.LZ{async init(t){if(this.isInit)return;let e=window;e.injectedWeb3=e.injectedWeb3||{},this.provider=e.injectedWeb3["polkadot-js"],this.provider||(await (0,w.yy)(2e3),this.provider=e.injectedWeb3["polkadot-js"]),this.isInit=!0,await super.init(t)}async fetchAccounts(){try{return await this.enable(),(await this.wallet.accounts.get()).map(t=>t.address)}catch(t){return[]}}async connect(){try{if(!this.isConnected){if(!this.provider)throw"PolkadotJs Wallet not installed";if(!await this.enable())throw w.pK;let t=await this.fetchAccounts();if(0===t.length)throw w.pK;this.isConnected=!0,this.account=t[0]}}catch(t){if(console.info("error:",(0,f.Yf)(t),t),"Cancelled"==(0,f.Yf)(t))throw w.pK;throw t}return{account:this.account,wallet:"polkadot-js"}}async sign(t,e){try{return(await this.wallet.signer.signRaw({address:e,type:"bytes",data:(0,H.i)(t)})).signature}catch(t){if(console.info("sign error:",(0,f.Yf)(t),t),"Cancelled"==(0,f.Yf)(t))throw w.pK;throw t}}async enable(){try{let t=await this.provider.enable("crust files");if(!t)return!1;return this.wallet={...t,name:"polkadot-js",version:this.provider.version},!0}catch(t){return!1}}async login(){if(!await this.enable())throw"Error: cancel";return await this.fetchAccounts()}constructor(...t){super(...t),this.name="Polkadot",this.icon="/images/wallet_polkadot.png"}}var ti=n(6803).Buffer;class ts extends p.LZ{async init(t){this.isInit||(this.solana=window.solana,this.solana||(await (0,w.yy)(2e3),this.solana=window.solana),this.isInit=!0,await super.init(t))}async fetchAccounts(){try{var t,e;if(null==(t=this.solana)?void 0:t.publicKey)return[null==(e=this.solana)?void 0:e.publicKey.toBase58()]}catch(t){console.info(t)}return[]}async connect(){if(!this.isConnected){if(!this.solana)throw"Solana (Phantom Wallet) not installed";let t=await this.solana.connect();this.account=t.publicKey.toBase58(),this.isConnected=!0,this.solana.once("disconnect",()=>{var t;null==(t=this.onAccountChange)||t.call(this,[])})}return{account:this.account,wallet:"solana"}}sign(t){if(!this.solana)throw"not inited";let e=new TextEncoder().encode(t);return this.solana.signMessage(e,"utf8").then(t=>ti.from(t.signature).toString("hex"))}disconnect(){var t;super.disconnect(),null==(t=this.solana)||t.disconnect()}constructor(...t){super(...t),this.name="Solana",this.icon="/images/wallet_solana.png"}}class ta extends p.LZ{async init(t){if(this.isInit)return;let e=window;e.injectedWeb3=e.injectedWeb3||{},this.provider=e.injectedWeb3["subwallet-js"],this.provider||(await (0,w.yy)(2e3),this.provider=e.injectedWeb3["subwallet-js"]),this.isInit=!0,await super.init(t)}async connect(){if(await this.init(),!this.isConnected){if(!this.provider)throw"SubWallet (Extension) not installed";this.accounts=await this.fetchAccounts(),this.account=this.accounts[0]}return{account:this.account,wallet:"subWallet"}}async sign(t,e){if(!this.provider)throw"Error: no wallet";if(!this.wallet.signer)throw"Error: wallet error no signer";return(await this.wallet.signer.signRaw({address:e,type:"bytes",data:(0,H.i)(t)})).signature}async enable(){try{let t=await this.provider.enable();if(console.info("enable::",t),!t)return!1;return this.wallet={version:this.provider.version,name:"subWallet",...t},!0}catch(t){return!1}}async fetchAccounts(){try{await this.enable();let t=await this.wallet.accounts.get();return console.info("getAccounts::",t),t.map(t=>t.address)}catch(t){return[]}}async login(){if(!await this.enable())throw"Error: cancel";return await this.fetchAccounts()}constructor(...t){super(...t),this.name="SubWallet",this.icon="/images/subwallet.png"}}var to=n(51817);class tr extends p.LZ{async init(t){if(this.isInit)return;let e=(0,to.dz)().filter(t=>t.installed).find(t=>"talisman"===t.extensionName);e&&(await e.enable("crust-files"),this.provider=e,this.wallet=e),this.provider||await (0,w.yy)(2e3),this.isInit=!0,await super.init(t)}async connect(){try{if(!this.isConnected){if(!this.provider)throw"Talisman Wallet not installed";if(!await this.enable()||(this.accounts=await this.fetchAccounts(),0===this.accounts.length))throw w.pK;this.isConnected=!0,this.account=this.accounts[0]}}catch(t){if(console.info("error:",(0,f.Yf)(t),t),"Cancelled"==(0,f.Yf)(t))throw w.pK;throw t}return{account:this.account,wallet:"talisman"}}async sign(t,e){try{let n=(await new Promise((t,e)=>{this.provider.subscribeAccounts(e=>{t(e)})})).find(t=>t.address===e);return console.log("walletAccount:::",n),(await n.signer.signRaw({address:e,type:"bytes",data:t})).signature}catch(t){if(console.info("error:",(0,f.Yf)(t),t),"Cancelled"==(0,f.Yf)(t))throw w.pK;throw t}}async enable(){try{if(await this.provider.enable("crust files"),!(await new Promise((t,e)=>{this.provider.subscribeAccounts(e=>{t(e)})})).length)return!1;return!0}catch(t){return!1}}async fetchAccounts(){try{await this.enable();let t=await new Promise((t,e)=>{this.provider.subscribeAccounts(e=>{t(e)})});return this.accounts=t.map(t=>t.address),this.accounts}catch(t){return[]}}async login(){if(!await this.enable())throw"Error: cancel";return await this.fetchAccounts()}constructor(...t){super(...t),this.name="Talisman",this.icon="/images/talisman.png"}}var tc=n(59641),tl=n(59341),tu=n(26935),th=n(12273),td=n(6803).Buffer;async function tp(t){let e=td.from((0,tu.WG)(t.Workchain,{size:4})),n=td.from((0,tu.WG)(t.Timstamp,{size:8}).reverse()),i=td.from((0,tu.WG)(t.Domain.LengthBytes,{size:4}).reverse()),s=td.concat([td.from("ton-proof-item-v2/"),e,t.Address,i,td.from(t.Domain.Value),n,td.from(t.Payload)]),a=(0,tl.createHash)("sha256").update(s).digest(),o=td.concat([td.from([255,255]),td.from("ton-connect"),td.from(a)]),r=(0,tl.createHash)("sha256").update(o).digest();return td.from(r)}class tm extends p.LZ{async init(t){if(this.isInit)return;let e=await fetch("https://tonapi.io/v2/tonconnect/payload").then(t=>t.json()).then(t=>t.payload);if(this.tonProof=void 0,i)this.tonconnectui=i;else try{this.tonconnectui=new tc.i$({manifestUrl:"".concat(window.location.origin,"/tonconnect-manifest").concat(th.H?"-dev":"",".json")})}catch(t){["ton-connect-ui_last-selected-wallet-info","ton-connect-storage_bridge-connection","ton-connect-ui_wallet-info"].forEach(t=>window.localStorage.removeItem(t)),this.tonconnectui=new tc.i$({manifestUrl:"".concat(window.location.origin,"/tonconnect-manifest").concat(th.H?"-dev":"",".json")})}i=this.tonconnectui,this.tonconnectui.setConnectRequestParameters({state:"ready",value:{tonProof:e}}),this.isInit=!0,await super.init(t)}async fetchAccounts(){var t;return(null==(t=this.tonconnectui)?void 0:t.wallet)?(this.tonProof=this.tonconnectui.wallet.connectItems.tonProof,[this.tonconnectui.wallet.account.address]):[]}async sign(t,e){var n,i,s;if(!this.tonProof)throw"TonConnect tonProof not found";let a=null==(n=this.tonconnectui.account)?void 0:n.address,o=null==(i=this.tonconnectui.account)?void 0:i.publicKey,r=null==(s=this.tonconnectui.account)?void 0:s.walletStateInit;if(!a||!o||!r)throw"TonConnect account not found";let[c,l]=a.split(":"),u={Workchain:Number(c),Address:td.from(l,"hex"),Domain:{LengthBytes:this.tonProof.proof.domain.lengthBytes,Value:this.tonProof.proof.domain.value},Signature:td.from(this.tonProof.proof.signature,"base64"),Payload:this.tonProof.proof.payload,StateInit:r,Timstamp:this.tonProof.proof.timestamp},h=(await tp(u)).toString("hex"),d=this.tonProof.proof.signature;return"".concat(h,":").concat(d)}async connect(){return await new Promise((t,e)=>{let n=!1;this.unSubStatusChange(),this.unSubStatusChange=this.tonconnectui.onStatusChange(i=>{if(console.info("ton status:",i),i&&i.connectItems&&i.connectItems.tonProof&&i.connectItems.tonProof.proof){var s,a;this.tonProof=i.connectItems.tonProof;let o=null==(s=this.tonconnectui.account)?void 0:s.address;if(!o)return e("TonConnect account not found");let r=(0,tc.Sq)(o,!o.startsWith("0:"));this.pubKey=null==(a=this.tonconnectui.account)?void 0:a.publicKey,this.account=r,this.isConnected=!0,n=!0,t()}this.tonconnectui.closeModal(),this.unSubStatusChange()},t=>{this.tonconnectui.closeModal(),this.unSubStatusChange(),e(t)}),this.unSubModalStatusChange(),this.unSubModalStatusChange=this.tonconnectui.onModalStateChange(t=>{console.info("ton modal:",t),"closed"!=t.status||n||e(Error(w.Ec)),"closed"==t.status&&this.unSubModalStatusChange()}),this.tonconnectui.openModal()}),{account:this.account,wallet:"ton-connect",pubKey:this.pubKey}}async login(t){var e,n,i;if(!this.tonProof)throw"TonConnect tonProof not found";let s=null==(e=this.tonconnectui.account)?void 0:e.address,a=null==(n=this.tonconnectui.account)?void 0:n.publicKey,o=null==(i=this.tonconnectui.account)?void 0:i.walletStateInit;if(!s||!a||!o)throw"TonConnect account not found";let r=(0,tc.Sq)(s,!s.startsWith("0:")),c={account:r,wallet:"ton-connect"},l=(0,w.xE)(c),[u,h]=s.split(":"),d={Workchain:Number(u),Address:td.from(h,"hex"),Domain:{LengthBytes:this.tonProof.proof.domain.lengthBytes,Value:this.tonProof.proof.domain.value},Signature:td.from(this.tonProof.proof.signature,"base64"),Payload:this.tonProof.proof.payload,StateInit:o,Timstamp:this.tonProof.proof.timestamp},p=(await tp(d)).toString("hex"),m=this.tonProof.proof.signature,f="".concat(l,"-").concat(a,"-").concat(p,":").concat(m),y=window.btoa(f);return c.authBasic="".concat(y),c.authBearer="".concat(y),c.pubKey=a,console.info("hexData",p),console.info("signer",a),console.info("signature",m),[[r],c]}disconnect(){super.disconnect(),this.tonconnectui.disconnect()}constructor(...t){super(...t),this.name="Ton Connect",this.icon="/images/ton-connect.png",this.tonconnectui=void 0,this.unSubStatusChange=()=>{},this.unSubModalStatusChange=()=>{}}}var tf=n(7769);let tw=["crust","polkadot-js"],ty={files:[],isLoad:!0},tg=t=>{t.files.forEach(t=>{t.PinTime||(t.PinTime=new Date().getTime())})};function tv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"files",[e,n]=(0,r.useState)(ty);(0,r.useEffect)(()=>{try{let e=l().get(t,ty);e.isLoad=!1,e!==ty&&(tg(e),n(e))}catch(t){console.error(t)}},[t]);let i=(0,r.useCallback)(i=>{let s={...e,files:i};tg(s),n(s),l().set(t,s)},[e,t]),s=(0,r.useCallback)(t=>{t.Hash&&i(e.files.filter(e=>e.Hash!==t.Hash))},[e,i]);return(0,r.useMemo)(()=>({...e,setFiles:i,deleteItem:s,key:t}),[e,i,s,t])}let tb={account:"",wallet:"crust",key:"files:login",authBasic:null,authBearer:null},tC={crust:new U,"polkadot-js":new tn,subWallet:new ta,talisman:new tr,metamask:new q,metax:new R,flow:new Z,solana:new ts,algorand:new g,elrond:new z,"aptos-martian":new v,"aptos-petra":new b,"wallet-connect":new D,oasis:new q,mimir:new te,"ton-connect":new tm,baseminikit:new W};function tx(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"files:login",[e,n]=(0,r.useState)(tb),[i,a]=(0,r.useState)(),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(),[f,y]=(0,r.useState)(!0),g=(0,s.a)(),v=(0,r.useCallback)(e=>{let i={...e,key:t};console.info("nAccount:",i),n(i),l().set(t,i),tw.includes(i.wallet)&&i.account&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files:login";l().set("".concat(n,":").concat(t,":last"),e)}(i.wallet,i)},[t]);(0,r.useEffect)(()=>{let t=tC[e.wallet];t.onAccountChange=t=>{console.info("accountsChange::",t,e),(o().isEmpty(t)||!t.find(t=>e.account&&(0,u.h)(t,e.account)))&&v(tb)},t.onChainChange=t=>{console.info("chainChange::",t,e),e.account&&v({...e})}},[e]);let b=(0,r.useRef)(!1),C=(0,h.U)();(0,r.useEffect)(()=>{if(!C)return()=>{};o().forEach(tC,t=>{t.ready&&t.ready(C)}),(async()=>{if(b.current)return;b.current=!0;let e=l().get(t,tb);a(void 0);let i=tC.mimir;if(await i.init(),i.provider){let[s,o]=await i.login(e);a(s),n(o),l().set(t,o),y(!1);return}if(e===tb||""===e.account||!e.authBasic)return void y(!1);console.info("initialize:",e),await tC[e.wallet].init(e).catch(console.error),await (0,w.yy)(100),tC[e.wallet].account&&(e.authBasic.length>2e3&&(e.authBasic=tf.qQ,e.authBearer=tf.qQ,l().set(t,e)),n(e),a(tC[e.wallet].accounts)),y(!1),b.current=!1})().catch(t=>{console.error(t),y(!1)})},[t,g,C]);let x=(0,r.useCallback)(async()=>{tC[e.wallet].disconnect(),v({...tb})},[v,e]),[A,E]=(0,r.useState)(!1),I=(0,r.useMemo)(()=>({...e,accounts:i,key:t,isLoad:f,setLoginUser:v,logout:x,useWallet:tC[e.wallet],crust:tC.crust,metamask:tC.metamask,walletConnect:tC["wallet-connect"],nickName:c,setNickName:d,setMember:m,member:p,setIsLoadingNickname:E,isLoadingNickname:A}),[e,i,f,v,x,c,p,t,A]),P=function(t){let[e,n]=(0,r.useState)({});return(0,r.useEffect)(()=>{if(!t.account)return()=>{};n(()=>({sign:async e=>{var n;return null==(n=t.useWallet)?void 0:n.sign(e,t.account)}}))},[t]),e}(I);return I.sign=P.sign,I}let tA=r.createContext(null);function tE(){return(0,r.useContext)(tA)}},30172:(t,e,n)=>{"use strict";n.d(e,{B:()=>c,R:()=>l});var i=n(42287),s=n(30966),a=n(73236),o=n(67473);let r=["wss://rpc.crust.network","wss://rpc-crust-mainnet.decoo.io"];async function c(t){let e=null!=t?t:new s.E(r,5e3);return e.on("error",console.error),await new a.G({provider:e,typesBundle:o.typesBundleForPolkadot}).isReady}function l(){let[t,e]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{let t=new s.E(r,5e3);t.on("error",console.error),new a.G({provider:t,typesBundle:o.typesBundleForPolkadot}).isReady.then(e).catch(console.error)},[]),t}},36939:(t,e,n)=>{"use strict";n.d(e,{$4:()=>p,FW:()=>w,MY:()=>f,Yf:()=>v,Zl:()=>u,_X:()=>y,cE:()=>h,ke:()=>d,rd:()=>m,w4:()=>b,wh:()=>l,ym:()=>g});var i=n(10617),s=n(32208),a=n(45065),o=n(67066),r=n.n(o),c=n(8960);n(6803).Buffer;let l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return t.length>2*e?"".concat(t.substring(0,e),"...").concat(t.substring(t.length-e)):t},u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n="".concat(t.trim()),i=n.indexOf(".");for(i>=0&&n.length-i-1>e&&(n=n.substring(0,i+e+1));"0"!==n&&n.endsWith("0");)n=n.substring(0,n.length-1);return n.endsWith(".")?n.substring(0,n.length-1):n},h=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return t?u((0,a.Q)(t,{decimals:12,forceUnit:"Unit",withSi:!1}),e):"-"},d=t=>{window.open("".concat(window.location.origin).concat(t),"_blank")},p=t=>"".concat(window.location.origin).concat(t);function m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(t!==e&&null!=t){let e=r().toNumber(t);return(0,c.A)(e<0?0:e).format({thousandSeparated:!0})}return e}(r().get(t,e,n),n)}let f=(t,e)=>t.events.find(t=>"".concat(t.event.section.toString(),"(").concat(t.event.method.toString(),")")===e),w=t=>(0,i.j)((0,s.F)(t),66),y=(t,e)=>w(t)===w(e),g=(t,e)=>t.length<=e?t:t.substring(0,t.length-e),v=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error",n=e;"string"==typeof t?n=t:"string"==typeof(null==t?void 0:t.msg)?n=null==t?void 0:t.msg:"string"==typeof(null==t?void 0:t.message)&&(n=null==t?void 0:t.message);let i=n.toLowerCase();return i.includes("denied")||i.includes("rejected")||i.includes("declined")?"You declined the action in your wallet.":n.includes("transaction failed")?"Transaction failed":n};function b(){let t=t=>{},e=t=>{},n=new Promise((n,i)=>{t=n,e=i});return{reslove:t,reject:e,promise:n}}},38482:()=>{},38854:()=>{},51163:()=>{},63514:()=>{},67269:()=>{},70145:(t,e,n)=>{"use strict";n.d(e,{Bp:()=>h,Dg:()=>I,IX:()=>E,KZ:()=>C,Pk:()=>M,RH:()=>S,Ve:()=>b,Vr:()=>y,Y:()=>k,_A:()=>v,bR:()=>d,cO:()=>o,h6:()=>x,iW:()=>T,li:()=>A,pN:()=>P,qq:()=>g,r4:()=>p,rK:()=>w,rZ:()=>f,vZ:()=>l,yN:()=>m,z8:()=>u});var i=n(28161),s=n.n(i);let a=n(7769).G4,o=t=>"".concat(a()).concat(t);function r(t){if(200===t.data.code)return t.data.data;throw{_type:"CommonResponseError",...t.data}}function c(t,e,n){return s().post(o(e),n,{headers:{authorization:"Basic ".concat(t)}}).then(r)}function l(t){return s().post(o("/common/checkAddress"),{address:t}).then(r)}function u(t){return s().post(o("/common/member"),{nickName:t}).then(r)}function h(t,e){return s().post(o("/common/member"),{nickName:t},e).then(t=>"Invalid nick name"===t.data.message).catch(()=>!1)}function d(t,e,n){return c(n,"/auth/signUp",{nickName:t,verifyToken:e})}function p(t){return s().post(o("/common/signIn"),{address:t}).then(r)}function m(){return s().get(o("/common/configs")).then(r)}function f(){return s().get(o("/common/payee")).then(r)}function w(t){return s().post(o("/common/deposit"),{address:t}).then(r)}function y(t){return s().post(o("/common/rewards"),{address:t}).then(r)}function g(){return s().get(o("/common/networkState")).then(r)}function v(){return s().get(o("/common/newbie")).then(r)}function b(){return s().get(o("/common/grandDraw")).then(r)}function C(t){return s().post(o("/common/grandApplyState"),{address:t}).then(r)}function x(t,e){return c(e,"/auth/member/grand/apply",{verifyToken:t})}function A(t){return s().post(o("/common/nft"),{address:t}).then(r)}function E(t,e){return c(t,"/auth/member/nft",{cid:e})}function I(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s().post(o("/common/rewardsHistory"),{address:t}).then(r)}function P(t){return s().post(o("/common/external/address"),{address:t}).then(r)}function T(t){return s().post(o("/common/members"),{address:t}).then(r)}function M(t){return s().get(o("/common/grandDraw/".concat(t,"/winners"))).then(r)}function k(t,e){return s().post(o("/common/calculateShortLinkHash"),{cid:t,options:e}).then(r)}function S(t){return s().get(o("/common/shortLinkInfo/".concat(t))).then(r)}},71220:()=>{},77489:(t,e,n)=>{"use strict";n.d(e,{a:()=>s});var i=n(98563);function s(){let t=(0,i.usePathname)();return"/"!==t&&t.endsWith("/")?t.slice(0,t.length-1):t}},93358:(t,e,n)=>{var i={"./bls.js":23257,"./bls_c.js":25751};function s(t){return n(a(t))}function a(t){if(!n.o(i,t)){var e=Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id=93358},98308:()=>{},99560:()=>{},99820:(t,e,n)=>{"use strict";n.d(e,{BR:()=>s,Dv:()=>a,nm:()=>o});var i=n(42287);let s=i.createContext({}),a=s.Provider;function o(){return(0,i.useContext)(s)}}}]);