(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2062],{5507:function(t,e){"use strict";function r(t){if(Array.isArray(t)){const e=[];for(let i=0;i<t.length;i++)e.push(r(t[i]));const n=l(...e);return l(o(n.length,192),n)}const e=g(t);return 1===e.length&&e[0]<128?e:l(o(e.length,128),e)}function n(t,e,r){if(r>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,r)}function i(t){if(0===t[0])throw new Error("invalid RLP: extra zeros");return h(c(t))}function o(t,e){if(t<56)return Uint8Array.from([t+e]);const r=p(t),n=p(e+55+r.length/2);return Uint8Array.from(f(n+r))}function s(t,e=!1){if("undefined"===typeof t||null===t||0===t.length)return Uint8Array.from([]);const r=a(g(t));if(e)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function a(t){let e,r,o,s,u;const c=[],h=t[0];if(h<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(h<=183){if(e=h-127,o=128===h?Uint8Array.from([]):n(t,1,e),2===e&&o[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:o,remainder:t.slice(e)}}if(h<=191){if(r=h-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=i(n(t,1,r)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return o=n(t,r,e+r),{data:o,remainder:t.slice(e+r)}}if(h<=247){for(e=h-191,s=n(t,1,e);s.length;)u=a(s),c.push(u.data),s=u.remainder;return{data:c,remainder:t.slice(e)}}{if(r=h-246,e=i(n(t,1,r)),e<56)throw new Error("invalid RLP: encoded list too short");const o=r+e;if(o>t.length)throw new Error("invalid RLP: total length is larger than the data");for(s=n(t,r,o);s.length;)u=a(s),c.push(u.data),s=u.remainder;return{data:c,remainder:t.slice(o)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.RLP=e.utils=e.decode=e.encode=void 0,e.encode=r,e.decode=s;const u=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function c(t){let e="";for(let r=0;r<t.length;r++)e+=u[t[r]];return e}function h(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function f(t){if("string"!==typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r;e[r]=h(t.slice(n,n+2))}return e}function l(...t){if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}function d(t){return(new TextEncoder).encode(t)}function p(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function m(t){return t.length>=2&&"0"===t[0]&&"x"===t[1]}function g(t){if(t instanceof Uint8Array)return t;if("string"===typeof t)return m(t)?f((e="string"!==typeof(r=t)?r:m(r)?r.slice(2):r).length%2?`0${e}`:e):d(t);var e,r;if("number"===typeof t||"bigint"===typeof t)return t?f(p(t)):Uint8Array.from([]);if(null===t||void 0===t)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}e.utils={bytesToHex:c,concatBytes:l,hexToBytes:f,utf8ToBytes:d},e.RLP={encode:r,decode:s}},78e3:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const i=r(5507),o=r(82192),s=r(95053),a=r(58040),u=r(38289),c=r(66219),h=r(38480),f=r(24712),l=BigInt(0);class d{constructor(t=l,e=l,r=c.KECCAK256_RLP,n=c.KECCAK256_NULL){this.nonce=t,this.balance=e,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(t){const{nonce:e,balance:r,storageRoot:n,codeHash:i}=t;return new d(void 0!==e?(0,u.bufferToBigInt)((0,u.toBuffer)(e)):void 0,void 0!==r?(0,u.bufferToBigInt)((0,u.toBuffer)(r)):void 0,void 0!==n?(0,u.toBuffer)(n):void 0,void 0!==i?(0,u.toBuffer)(i):void 0)}static fromRlpSerializedAccount(t){const e=(0,u.arrToBufArr)(i.RLP.decode(Uint8Array.from(t)));if(!Array.isArray(e))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(e)}static fromValuesArray(t){const[e,r,n,i]=t;return new d((0,u.bufferToBigInt)(e),(0,u.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<l)throw new Error("nonce must be greater than zero");if(this.balance<l)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,u.bigIntToUnpaddedBuffer)(this.nonce),(0,u.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return n.from(i.RLP.encode((0,u.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===l&&this.nonce===l&&this.codeHash.equals(c.KECCAK256_NULL)}}e.Account=d;e.isValidAddress=function(t){try{(0,h.assertIsString)(t)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)};e.toChecksumAddress=function(t,e){(0,h.assertIsHexString)(t);const r=(0,f.stripHexPrefix)(t).toLowerCase();let i="";if(void 0!==e){i=(0,u.bufferToBigInt)((0,u.toBuffer)(e)).toString()+"0x"}const s=n.from(i+r,"utf8"),c=(0,a.bytesToHex)((0,o.keccak256)(s));let l="0x";for(let n=0;n<r.length;n++)parseInt(c[n],16)>=8?l+=r[n].toUpperCase():l+=r[n];return l};e.isValidChecksumAddress=function(t,r){return(0,e.isValidAddress)(t)&&(0,e.toChecksumAddress)(t,r)===t};e.generateAddress=function(t,e){return(0,h.assertIsBuffer)(t),(0,h.assertIsBuffer)(e),(0,u.bufferToBigInt)(e)===BigInt(0)?n.from((0,o.keccak256)(i.RLP.encode((0,u.bufArrToArr)([t,null])))).slice(-20):n.from((0,o.keccak256)(i.RLP.encode((0,u.bufArrToArr)([t,e])))).slice(-20)};e.generateAddress2=function(t,e,r){if((0,h.assertIsBuffer)(t),(0,h.assertIsBuffer)(e),(0,h.assertIsBuffer)(r),20!==t.length)throw new Error("Expected from to be of length 20");if(32!==e.length)throw new Error("Expected salt to be of length 32");const i=(0,o.keccak256)(n.concat([n.from("ff","hex"),t,e,(0,o.keccak256)(r)]));return(0,u.toBuffer)(i).slice(-20)};e.isValidPrivate=function(t){return s.utils.isValidPrivateKey(t)};e.isValidPublic=function(t,e=!1){if((0,h.assertIsBuffer)(t),64===t.length)try{return s.Point.fromHex(n.concat([n.from([4]),t])),!0}catch(r){return!1}if(!e)return!1;try{return s.Point.fromHex(t),!0}catch(r){return!1}};e.pubToAddress=function(t,e=!1){if((0,h.assertIsBuffer)(t),e&&64!==t.length&&(t=n.from(s.Point.fromHex(t).toRawBytes(!1).slice(1))),64!==t.length)throw new Error("Expected pubKey to be of length 64");return n.from((0,o.keccak256)(t)).slice(-20)},e.publicToAddress=e.pubToAddress;e.privateToPublic=function(t){return(0,h.assertIsBuffer)(t),n.from(s.Point.fromPrivateKey(t).toRawBytes(!1).slice(1))};e.privateToAddress=function(t){return(0,e.publicToAddress)((0,e.privateToPublic)(t))};e.importPublic=function(t){return(0,h.assertIsBuffer)(t),64!==t.length&&(t=n.from(s.Point.fromHex(t).toRawBytes(!1).slice(1))),t};e.zeroAddress=function(){const t=(0,u.zeros)(20);return(0,u.bufferToHex)(t)};function p(t){const[e,r,n,i]=t;return[e,r,0===(0,u.arrToBufArr)(n).length?c.KECCAK256_RLP:n,0===(0,u.arrToBufArr)(i).length?c.KECCAK256_NULL:i]}e.isZeroAddress=function(t){try{(0,h.assertIsString)(t)}catch(r){return!1}return(0,e.zeroAddress)()===t},e.accountBodyFromSlim=p;const m=new Uint8Array(0);e.accountBodyToSlim=function(t){const[e,r,n,i]=t;return[e,r,(0,u.arrToBufArr)(n).equals(c.KECCAK256_RLP)?m:n,(0,u.arrToBufArr)(i).equals(c.KECCAK256_NULL)?m:i]},e.accountBodyToRLP=function(t,e=!0){const r=e?p(t):t;return(0,u.arrToBufArr)(i.RLP.encode(r))}},13415:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.Address=void 0;const i=r(78e3),o=r(38289);class s{constructor(t){if(20!==t.length)throw new Error("Invalid address length");this.buf=t}static zero(){return new s((0,o.zeros)(20))}static fromString(t){if(!(0,i.isValidAddress)(t))throw new Error("Invalid address");return new s((0,o.toBuffer)(t))}static fromPublicKey(t){if(!n.isBuffer(t))throw new Error("Public key should be Buffer");const e=(0,i.pubToAddress)(t);return new s(e)}static fromPrivateKey(t){if(!n.isBuffer(t))throw new Error("Private key should be Buffer");const e=(0,i.privateToAddress)(t);return new s(e)}static generate(t,e){if("bigint"!==typeof e)throw new Error("Expected nonce to be a bigint");return new s((0,i.generateAddress)(t.buf,(0,o.bigIntToBuffer)(e)))}static generate2(t,e,r){if(!n.isBuffer(e))throw new Error("Expected salt to be a Buffer");if(!n.isBuffer(r))throw new Error("Expected initCode to be a Buffer");return new s((0,i.generateAddress2)(t.buf,e,r))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const t=(0,o.bufferToBigInt)(this.buf),e=BigInt(0),r=BigInt("0xffff");return t>=e&&t<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return n.from(this.buf)}}e.Address=s},67285:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncEventEmitter=void 0;const n=r(1641),i=r(17187);class o extends i.EventEmitter{emit(t,...e){let[r,i]=e;const o=this;let s=o._events[t]??[];return void 0===i&&"function"===typeof r&&(i=r,r=void 0),"newListener"!==t&&"removeListener"!==t||(r={event:r,fn:i},i=void 0),s=Array.isArray(s)?s:[s],(0,n.eachSeries)(s.slice(),(function(t,e){let n;if(t.length<2){try{t.call(o,r)}catch(i){n=i}return e(n)}t.call(o,r,e)}),i),o.listenerCount(t)>0}once(t,e){const r=this;let n;if("function"!==typeof e)throw new TypeError("listener must be a function");return n=e.length>=2?function(i,o){r.removeListener(t,n),e(i,o)}:function(i){r.removeListener(t,n),e(i,n)},r.on(t,n),r}first(t,e){let r=this._events[t]??[];if("function"!==typeof e)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[t]=r=[r]),r.unshift(e),this}before(t,e,r){return this.beforeOrAfter(t,e,r)}after(t,e,r){return this.beforeOrAfter(t,e,r,"after")}beforeOrAfter(t,e,r,n){let i,o,s=this._events[t]??[];const a="after"===n?1:0;if("function"!==typeof r)throw new TypeError("listener must be a function");if("function"!==typeof e)throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[t]=s=[s]),o=s.length,i=s.length;i--;)if(s[i]===e){o=i+a;break}return s.splice(o,0,r),this}on(t,e){return super.on(t,e)}addListener(t,e){return super.addListener(t,e)}prependListener(t,e){return super.prependListener(t,e)}prependOnceListener(t,e){return super.prependOnceListener(t,e)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,e){return super.removeListener(t,e)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}e.AsyncEventEmitter=o},38289:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const i=r(38480),o=r(24712);e.intToHex=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};e.intToBuffer=function(t){const r=(0,e.intToHex)(t);return n.from((0,o.padToEven)(r.slice(2)),"hex")};e.zeros=function(t){return n.allocUnsafe(t).fill(0)};const s=function(t,r,n){const i=(0,e.zeros)(r);return n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)};e.setLengthLeft=function(t,e){return(0,i.assertIsBuffer)(t),s(t,e,!1)};e.setLengthRight=function(t,e){return(0,i.assertIsBuffer)(t),s(t,e,!0)};const a=function(t){let e=t[0];for(;t.length>0&&"0"===e.toString();)e=(t=t.slice(1))[0];return t};e.unpadBuffer=function(t){return(0,i.assertIsBuffer)(t),a(t)};e.unpadArray=function(t){return(0,i.assertIsArray)(t),a(t)};e.unpadHexString=function(t){return(0,i.assertIsHexString)(t),t=(0,o.stripHexPrefix)(t),"0x"+a(t)};e.toBuffer=function(t){if(null===t||void 0===t)return n.allocUnsafe(0);if(n.isBuffer(t))return n.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return n.from(t);if("string"===typeof t){if(!(0,o.isHexString)(t))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${t}`);return n.from((0,o.padToEven)((0,o.stripHexPrefix)(t)),"hex")}if("number"===typeof t)return(0,e.intToBuffer)(t);if("bigint"===typeof t){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),n.from(e,"hex")}if(t.toArray)return n.from(t.toArray());if(t.toBuffer)return n.from(t.toBuffer());throw new Error("invalid type")};function u(t){const r=(0,e.bufferToHex)(t);return"0x"===r?BigInt(0):BigInt(r)}function c(t){return(0,e.toBuffer)("0x"+t.toString(16))}e.bufferToHex=function(t){return"0x"+(t=(0,e.toBuffer)(t)).toString("hex")},e.bufferToBigInt=u,e.bigIntToBuffer=c;e.bufferToInt=function(t){const e=Number(u(t));if(!Number.isSafeInteger(e))throw new Error("Number exceeds 53 bits");return e};e.fromSigned=function(t){return BigInt.asIntN(256,u(t))};e.toUnsigned=function(t){return c(BigInt.asUintN(256,t))};e.addHexPrefix=function(t){return"string"!==typeof t||(0,o.isHexPrefixed)(t)?t:"0x"+t},e.short=function(t,e=50){const r=n.isBuffer(t)?t.toString("hex"):t;return r.length<=e?r:r.slice(0,e)+"\u2026"};e.toUtf8=function(t){if((t=(0,o.stripHexPrefix)(t)).length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return n.from(t.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};e.baToJSON=function(t){if(n.isBuffer(t))return`0x${t.toString("hex")}`;if(t instanceof Array){const r=[];for(let n=0;n<t.length;n++)r.push((0,e.baToJSON)(t[n]));return r}};e.validateNoLeadingZeroes=function(t){for(const[e,r]of Object.entries(t))if(void 0!==r&&r.length>0&&0===r[0])throw new Error(`${e} cannot have leading zeroes, received: ${r.toString("hex")}`)},e.arrToBufArr=function t(e){return Array.isArray(e)?e.map((e=>t(e))):n.from(e)},e.bufArrToArr=function t(e){return Array.isArray(e)?e.map((e=>t(e))):Uint8Array.from(e??[])};e.bigIntToHex=t=>"0x"+t.toString(16),e.bigIntToUnpaddedBuffer=function(t){return(0,e.unpadBuffer)(c(t))}},66219:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const n=r(48764),i=r(95053);e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt(2)**BigInt(256)-BigInt(1),e.SECP256K1_ORDER=i.CURVE.n,e.SECP256K1_ORDER_DIV_2=i.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=n.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=n.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=n.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=n.Buffer.from([128])},38480:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.assertIsString=e.assertIsArray=e.assertIsBuffer=e.assertIsHexString=void 0;const i=r(24712);e.assertIsHexString=function(t){if(!(0,i.isHexString)(t)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${t}`)}};e.assertIsBuffer=function(t){if(!n.isBuffer(t)){throw new Error(`This method only supports Buffer but input was: ${t}`)}};e.assertIsArray=function(t){if(!Array.isArray(t)){throw new Error(`This method only supports number arrays but input was: ${t}`)}};e.assertIsString=function(t){if("string"!==typeof t){throw new Error(`This method only supports strings but input was: ${t}`)}}},92730:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,i(r(66219),e),i(r(78e3),e),i(r(13415),e),i(r(85026),e),i(r(38289),e),i(r(21200),e),i(r(67285),e);var o=r(24712);Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return o.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return o.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return o.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return o.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return o.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return o.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return o.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return o.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return o.toAscii}}),i(r(43543),e)},24712:function(t,e,r){"use strict";var n=r(48764).Buffer;function i(t){if("string"!==typeof t)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof t);return"0"===t[0]&&"x"===t[1]}Object.defineProperty(e,"__esModule",{value:!0}),e.isHexString=e.getKeys=e.fromAscii=e.fromUtf8=e.toAscii=e.arrayContainsArray=e.getBinarySize=e.padToEven=e.stripHexPrefix=e.isHexPrefixed=void 0,e.isHexPrefixed=i;function o(t){let e=t;if("string"!==typeof e)throw new Error("[padToEven] value must be type 'string', received "+typeof e);return e.length%2&&(e=`0${e}`),e}e.stripHexPrefix=t=>{if("string"!==typeof t)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof t);return i(t)?t.slice(2):t},e.padToEven=o,e.getBinarySize=function(t){if("string"!==typeof t)throw new Error("[getBinarySize] method requires input type 'string', recieved "+typeof t);return n.byteLength(t,"utf8")},e.arrayContainsArray=function(t,e,r){if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[!0===r?"some":"every"]((e=>t.indexOf(e)>=0))},e.toAscii=function(t){let e="",r=0;const n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(t.substr(r,2),16);e+=String.fromCharCode(n)}return e},e.fromUtf8=function(t){return`0x${o(n.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},e.fromAscii=function(t){let e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r).toString(16);e+=n.length<2?`0${n}`:n}return`0x${e}`},e.getKeys=function(t,e,r){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof t);if("string"!==typeof e)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof t);const n=[];for(let i=0;i<t.length;i++){let o=t[i][e];if(!0!==r||o){if("string"!==typeof o)throw new Error("invalid abi - expected type 'string', received "+typeof o)}else o="";n.push(o)}return n},e.isHexString=function(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&!("undefined"!==typeof e&&e>0&&t.length!==2+2*e)}},43543:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lock=void 0;e.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((t=>this.promiseResolverQueue.push(t)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}},85026:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.hashPersonalMessage=e.isValidSignature=e.fromRpcSig=e.toCompactSig=e.toRpcSig=e.ecrecover=e.ecsign=void 0;const i=r(82192),o=r(95053),s=r(38289),a=r(66219),u=r(38480);function c(t,e){return t===BigInt(0)||t===BigInt(1)?t:void 0===e?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function h(t){return t===BigInt(0)||t===BigInt(1)}e.ecsign=function(t,e,r){const[i,s]=(0,o.signSync)(t,e,{recovered:!0,der:!1});return{r:n.from(i.slice(0,32)),s:n.from(i.slice(32,64)),v:void 0===r?BigInt(s+27):BigInt(s+35)+BigInt(r)*BigInt(2)}};e.ecrecover=function(t,e,r,i,a){const u=n.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(i,32)],64),f=c(e,a);if(!h(f))throw new Error("Invalid signature v value");const l=(0,o.recoverPublicKey)(t,u,Number(f));return n.from(l.slice(1))};e.toRpcSig=function(t,e,r,i){if(!h(c(t,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(n.concat([(0,s.setLengthLeft)(e,32),(0,s.setLengthLeft)(r,32),(0,s.toBuffer)(t)]))};e.toCompactSig=function(t,e,r,i){if(!h(c(t,i)))throw new Error("Invalid signature v value");let o=r;return(t>BigInt(28)&&t%BigInt(2)===BigInt(1)||t===BigInt(1)||t===BigInt(28))&&(o=n.from(r),o[0]|=128),(0,s.bufferToHex)(n.concat([(0,s.setLengthLeft)(e,32),(0,s.setLengthLeft)(o,32)]))};e.fromRpcSig=function(t){const e=(0,s.toBuffer)(t);let r,n,i;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),i=(0,s.bufferToBigInt)(e.slice(64));else{if(64!==e.length)throw new Error("Invalid signature length");r=e.slice(0,32),n=e.slice(32,64),i=BigInt((0,s.bufferToInt)(e.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};e.isValidSignature=function(t,e,r,n=!0,i){if(32!==e.length||32!==r.length)return!1;if(!h(c(t,i)))return!1;const o=(0,s.bufferToBigInt)(e),u=(0,s.bufferToBigInt)(r);return!(o===BigInt(0)||o>=a.SECP256K1_ORDER||u===BigInt(0)||u>=a.SECP256K1_ORDER)&&!(n&&u>=a.SECP256K1_ORDER_DIV_2)};e.hashPersonalMessage=function(t){(0,u.assertIsBuffer)(t);const e=n.from(`\x19Ethereum Signed Message:\n${t.length}`,"utf-8");return n.from((0,i.keccak256)(n.concat([e,t])))}},21200:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const n=r(38289),i=r(24712);var o;!function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Buffer=2]="Buffer",t[t.PrefixedHexString=3]="PrefixedHexString"}(o=e.TypeOutput||(e.TypeOutput={})),e.toType=function(t,e){if(null===t)return null;if(void 0===t)return;if("string"===typeof t&&!(0,i.isHexString)(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if("number"===typeof t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(t);switch(e){case o.Buffer:return r;case o.BigInt:return(0,n.bufferToBigInt)(r);case o.Number:{const t=(0,n.bufferToBigInt)(r);if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(t)}case o.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}},87539:function(t,e,r){"use strict";var n=r(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.getEncryptionPublicKey=e.decryptSafely=e.decrypt=e.encryptSafely=e.encrypt=void 0;const a=s(r(50780)),u=s(r(16885)),c=r(73275);function h({publicKey:t,data:e,version:r}){if((0,c.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(e))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if("string"!==typeof e)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let i;try{i=u.decodeBase64(t)}catch(n){throw new Error("Bad public key")}const o=u.decodeUTF8(e),s=a.randomBytes(a.box.nonceLength),c=a.box(o,s,i,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:u.encodeBase64(s),ephemPublicKey:u.encodeBase64(r.publicKey),ciphertext:u.encodeBase64(c)}}default:throw new Error("Encryption type/version not supported")}}function f({encryptedData:t,privateKey:e}){if((0,c.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(e))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{const n=l(e),i=a.box.keyPair.fromSecretKey(n).secretKey,o=u.decodeBase64(t.nonce),s=u.decodeBase64(t.ciphertext),c=u.decodeBase64(t.ephemPublicKey),h=a.box.open(s,o,c,i);let f;try{f=u.encodeUTF8(h)}catch(r){throw new Error("Decryption failed.")}if(f)return f;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}function l(t){const e=n.from(t,"hex").toString("base64");return u.decodeBase64(e)}e.encrypt=h,e.encryptSafely=function({publicKey:t,data:e,version:r}){if((0,c.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(e))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("object"===typeof e&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:e,padding:""},o=n.byteLength(JSON.stringify(i),"utf-8")%2048;let s=0;return o>0&&(s=2048-o-16),i.padding="0".repeat(s),h({publicKey:t,data:JSON.stringify(i),version:r})},e.decrypt=f,e.decryptSafely=function({encryptedData:t,privateKey:e}){if((0,c.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(e))throw new Error("Missing privateKey parameter");return JSON.parse(f({encryptedData:t,privateKey:e})).data},e.getEncryptionPublicKey=function(t){const e=l(t),r=a.box.keyPair.fromSecretKey(e).publicKey;return u.encodeBase64(r)}},70074:function(t,e,r){"use strict";var n=r(48764).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.rawEncode=e.parseNumber=e.solidityPack=void 0;const o=r(92730),s=r(80884),a=i(r(68043)),u=r(73275);function c(t){return t.lastIndexOf("]")===t.length-1}function h(t){const e=t.match(/(.*)\[(.*?)\]$/u);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function f(t){return parseInt(/^\D+(\d+)$/u.exec(t)[1],10)}function l(t){const e=typeof t;if("string"===e)return(0,o.isHexPrefixed)(t)?new a.default((0,s.stripHexPrefix)(t),16):new a.default(t,10);if("number"===e)return new a.default(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function d(t,e,r){let i,s;if(c(t)){const r=t.replace(/\[.*?\]/u,"");if(!c(r)){const r=h(t);if("dynamic"!==r&&0!==r&&e.length>r)throw new Error(`Elements exceed array size: ${r}`)}const i=e.map((function(t){return d(r,t,256)}));return n.concat(i)}if("bytes"===t)return e;if("string"===t)return n.from(e,"utf8");if("bool"===t){r=r||8;const t=Array(r/4).join("0");return n.from(e?`${t}1`:`${t}0`,"hex")}if("address"===t){let t=20;return r&&(t=r/8),(0,o.setLengthLeft)((0,o.toBuffer)(e),t)}if(t.startsWith("bytes")){if(i=f(t),i<1||i>32)throw new Error(`Invalid bytes<N> width: ${i}`);return"number"===typeof e&&(e=(0,u.normalize)(e)),(0,o.setLengthRight)((0,o.toBuffer)(e),i)}if(t.startsWith("uint")){if(i=f(t),i%8||i<8||i>256)throw new Error(`Invalid uint<N> width: ${i}`);if(s=l(e),s.bitLength()>i)throw new Error(`Supplied uint exceeds width: ${i} vs ${s.bitLength()}`);return r=r||i,s.toArrayLike(n,"be",r/8)}if(t.startsWith("int")){if(i=f(t),i%8||i<8||i>256)throw new Error(`Invalid int<N> width: ${i}`);if(s=l(e),s.bitLength()>i)throw new Error(`Supplied int exceeds width: ${i} vs ${s.bitLength()}`);return r=r||i,s.toTwos(i).toArrayLike(n,"be",r/8)}throw new Error(`Unsupported or invalid type: ${t}`)}function p(t){return t.startsWith("int[")?`int256${t.slice(3)}`:"int"===t?"int256":t.startsWith("uint[")?`uint256${t.slice(4)}`:"uint"===t?"uint256":t.startsWith("fixed[")?`fixed128x128${t.slice(5)}`:"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?`ufixed128x128${t.slice(6)}`:"ufixed"===t?"ufixed128x128":t}function m(t,e){let r,i,s,d;if("address"===t)return m("uint160",l(e));if("bool"===t)return m("uint8",e?1:0);if("string"===t)return m("bytes",n.from(e,"utf8"));if(c(t)){if("undefined"===typeof e.length)throw new Error("Not an array?");if(r=h(t),"dynamic"!==r&&0!==r&&e.length>r)throw new Error(`Elements exceed array size: ${r}`);for(d in s=[],t=t.slice(0,t.lastIndexOf("[")),"string"===typeof e&&(e=JSON.parse(e)),e)Object.prototype.hasOwnProperty.call(e,d)&&s.push(m(t,e[d]));if("dynamic"===r){const t=m("uint256",e.length);s.unshift(t)}return n.concat(s)}if("bytes"===t)return e=n.from(e),s=n.concat([m("uint256",e.length),e]),e.length%32!==0&&(s=n.concat([s,(0,o.zeros)(32-e.length%32)])),s;if(t.startsWith("bytes")){if(r=f(t),r<1||r>32)throw new Error(`Invalid bytes<N> width: ${r}`);return"number"===typeof e&&(e=(0,u.normalize)(e)),(0,o.setLengthRight)((0,o.toBuffer)(e),32)}if(t.startsWith("uint")){if(r=f(t),r%8||r<8||r>256)throw new Error(`Invalid uint<N> width: ${r}`);if(i=l(e),i.bitLength()>r)throw new Error(`Supplied uint exceeds width: ${r} vs ${i.bitLength()}`);if(i<0)throw new Error("Supplied uint is negative");return i.toArrayLike(n,"be",32)}if(t.startsWith("int")){if(r=f(t),r%8||r<8||r>256)throw new Error(`Invalid int<N> width: ${r}`);if(i=l(e),i.bitLength()>r)throw new Error(`Supplied int exceeds width: ${r} vs ${i.bitLength()}`);return i.toTwos(256).toArrayLike(n,"be",32)}if(t.startsWith("ufixed")){if(r=y(t),i=l(e),i<0)throw new Error("Supplied ufixed is negative");return m("uint256",i.mul(new a.default(2).pow(new a.default(r[1]))))}if(t.startsWith("fixed"))return r=y(t),m("int256",l(e).mul(new a.default(2).pow(new a.default(r[1]))));throw new Error(`Unsupported or invalid type: ${t}`)}function g(t){return"string"===t||"bytes"===t||"dynamic"===h(t)}function y(t){const e=/^\D+(\d+)x(\d+)$/u.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}e.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");const r=[];for(let n=0;n<t.length;n++){const i=p(t[n]),o=e[n];r.push(d(i,o,null))}return n.concat(r)},e.parseNumber=l,e.rawEncode=function(t,e){const r=[],i=[];let o=0;t.forEach((function(t){if(c(t)){const e=h(t);o+="dynamic"!==e?32*e:32}else o+=32}));for(let n=0;n<t.length;n++){const s=p(t[n]),a=m(s,e[n]);g(s)?(r.push(m("uint256",o)),i.push(a),o+=a.length):r.push(a)}return n.concat(r.concat(i))}},51091:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,i(r(73066),e),i(r(12853),e),i(r(87539),e);var o=r(73275);Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return o.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return o.normalize}})},73066:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractPublicKey=e.recoverPersonalSignature=e.personalSign=void 0;const n=r(92730),i=r(73275);function o(t,e){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(t));return(0,i.recoverPublicKey)(r,e)}e.personalSign=function({privateKey:t,data:e}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(e),o=(0,n.hashPersonalMessage)(r),s=(0,n.ecsign)(o,t);return(0,i.concatSig)((0,n.toBuffer)(s.v),s.r,s.s)},e.recoverPersonalSignature=function({data:t,signature:e}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing signature parameter");const r=o(t,e),s=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(s)},e.extractPublicKey=function({data:t,signature:e}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing signature parameter");return`0x${o(t,e).toString("hex")}`}},12853:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const i=r(80884),o=r(92730),s=r(82192),a=r(70074),u=r(73275);var c;function h(t,e){if(!Object.keys(c).includes(t))throw new Error(`Invalid version: '${t}'`);if(e&&!e.includes(t))throw new Error(`SignTypedDataVersion not allowed: '${t}'. Allowed versions are: ${e.join(", ")}`)}function f(t,e,r,d,p){if(h(p,[c.V3,c.V4]),void 0!==t[r])return["bytes32",p===c.V4&&null==d?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,o.arrToBufArr)((0,s.keccak256)(l(r,d,t,p)))];if(void 0===d)throw new Error(`missing value for field ${e} of type ${r}`);if("bytes"===r)return d="number"===typeof d?(0,u.numberToBuffer)(d):(0,i.isHexString)(d)?(0,u.numberToBuffer)(parseInt(d,16)):n.from(d,"utf8"),["bytes32",(0,o.arrToBufArr)((0,s.keccak256)(d))];if("string"===r)return d="number"===typeof d?(0,u.numberToBuffer)(d):n.from(null!==d&&void 0!==d?d:"","utf8"),["bytes32",(0,o.arrToBufArr)((0,s.keccak256)(d))];if(r.lastIndexOf("]")===r.length-1){if(p===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const n=r.slice(0,r.lastIndexOf("[")),i=d.map((r=>f(t,e,n,r,p)));return["bytes32",(0,o.arrToBufArr)((0,s.keccak256)((0,a.rawEncode)(i.map((([t])=>t)),i.map((([,t])=>t)))))]}return[r,d]}function l(t,e,r,n){h(n,[c.V3,c.V4]);const i=["bytes32"],o=[g(t,r)];for(const s of r[t]){if(n===c.V3&&void 0===e[s.name])continue;const[t,a]=f(r,s.name,s.type,e[s.name],n);i.push(t),o.push(a)}return(0,a.rawEncode)(i,o)}function d(t,e){let r="";const n=p(t,e);n.delete(t);const i=[t,...Array.from(n).sort()];for(const o of i){if(!e[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${e[o].map((({name:t,type:e})=>`${e} ${t}`)).join(",")})`}return r}function p(t,e,r=new Set){if([t]=t.match(/^\w*/u),r.has(t)||void 0===e[t])return r;r.add(t);for(const n of e[t])p(n.type,e,r);return r}function m(t,e,r,n){return h(n,[c.V3,c.V4]),(0,o.arrToBufArr)((0,s.keccak256)(l(t,e,r,n)))}function g(t,e){const r=n.from(d(t,e),"utf-8");return(0,o.arrToBufArr)((0,s.keccak256)(r))}function y(t){const r={};for(const n in e.TYPED_MESSAGE_SCHEMA.properties)t[n]&&(r[n]=t[n]);return"types"in r&&(r.types=Object.assign({EIP712Domain:[]},r.types)),r}function v(t){const e=new Error("Expect argument to be non-empty array");if("object"!==typeof t||!("length"in t)||!t.length)throw e;const r=t.map((function(t){return"bytes"!==t.type?t.value:(0,u.legacyToBuffer)(t.value)})),n=t.map((function(t){return t.type})),i=t.map((function(t){if(!t.name)throw e;return`${t.type} ${t.name}`}));return(0,o.arrToBufArr)((0,s.keccak256)((0,a.solidityPack)(["bytes32","bytes32"],[(0,s.keccak256)((0,a.solidityPack)(new Array(t.length).fill("string"),i)),(0,s.keccak256)((0,a.solidityPack)(n,r))])))}!function(t){t.V1="V1",t.V3="V3",t.V4="V4"}(c=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},e.TypedDataUtils={encodeData:l,encodeType:d,findTypeDependencies:p,hashStruct:m,hashType:g,sanitizeData:y,eip712Hash:function(t,e){h(e,[c.V3,c.V4]);const r=y(t),i=[n.from("1901","hex")];return i.push(m("EIP712Domain",r.domain,r.types,e)),"EIP712Domain"!==r.primaryType&&i.push(m(r.primaryType,r.message,r.types,e)),(0,o.arrToBufArr)((0,s.keccak256)(n.concat(i)))}},e.typedSignatureHash=function(t){const e=v(t);return(0,o.bufferToHex)(e)},e.signTypedData=function({privateKey:t,data:r,version:n}){if(h(n),(0,u.isNullish)(r))throw new Error("Missing data parameter");if((0,u.isNullish)(t))throw new Error("Missing private key parameter");const i=n===c.V1?v(r):e.TypedDataUtils.eip712Hash(r,n),s=(0,o.ecsign)(i,t);return(0,u.concatSig)((0,o.toBuffer)(s.v),s.r,s.s)},e.recoverTypedSignature=function({data:t,signature:r,version:n}){if(h(n),(0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(r))throw new Error("Missing signature parameter");const i=n===c.V1?v(t):e.TypedDataUtils.eip712Hash(t,n),s=(0,u.recoverPublicKey)(i,r),a=(0,o.publicToAddress)(s);return(0,o.bufferToHex)(a)}},73275:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.numberToBuffer=e.normalize=e.recoverPublicKey=e.concatSig=e.legacyToBuffer=e.isNullish=e.padWithZeroes=void 0;const i=r(92730),o=r(80884);function s(t,e){if(""!==t&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}e.padWithZeroes=s,e.isNullish=function(t){return null===t||void 0===t},e.legacyToBuffer=function(t){return"string"!==typeof t||(0,o.isHexString)(t)?(0,i.toBuffer)(t):n.from(t)},e.concatSig=function(t,e,r){const n=(0,i.fromSigned)(e),a=(0,i.fromSigned)(r),u=(0,i.bufferToInt)(t),c=s((0,i.toUnsigned)(n).toString("hex"),64),h=s((0,i.toUnsigned)(a).toString("hex"),64),f=(0,o.stripHexPrefix)((0,o.intToHex)(u));return(0,i.addHexPrefix)(c.concat(h,f))},e.recoverPublicKey=function(t,e){const r=(0,i.fromRpcSig)(e);return(0,i.ecrecover)(t,r.v,r.r,r.s)},e.normalize=function(t){if(t){if("number"===typeof t){if(t<0)return"0x";const e=(0,i.toBuffer)(t);t=(0,i.bufferToHex)(e)}if("string"!==typeof t){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return(0,i.addHexPrefix)(t.toLowerCase())}},e.numberToBuffer=function(t){const e=t.toString(16),r=e.length%2?"0":"";return n.from(r+e,"hex")}},68043:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(993).Buffer}catch(E){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=n)c=u(t,h,h+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=u(t,h,t.length,e),h=0;h<s;h++)f*=e;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,f=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[c]=0|f,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n("undefined"!==typeof s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),h=this.clone();if(u){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,h=0|s[0],f=8191&h,l=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,b=0|s[3],w=8191&b,x=b>>>13,k=0|s[4],M=8191&k,E=k>>>13,P=0|s[5],A=8191&P,S=P>>>13,I=0|s[6],B=8191&I,T=I>>>13,_=0|s[7],O=8191&_,C=_>>>13,L=0|s[8],H=8191&L,R=L>>>13,F=0|s[9],N=8191&F,D=F>>>13,U=0|a[0],j=8191&U,z=U>>>13,Z=0|a[1],G=8191&Z,$=Z>>>13,K=0|a[2],q=8191&K,V=K>>>13,J=0|a[3],W=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ht=0|a[8],ft=8191&ht,lt=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,j)|0))<<13)|0;c=((o=Math.imul(l,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(m,j)|0,o=Math.imul(m,z);var yt=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,G)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,z))+Math.imul(v,j)|0,o=Math.imul(v,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,$)|0;var vt=(c+(n=n+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(l,q)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(x,j)|0,o=Math.imul(x,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var bt=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(E,j)|0,o=Math.imul(E,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,$)|0,n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,q)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(S,j)|0,o=Math.imul(S,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var xt=(c+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(T,j)|0,o=Math.imul(T,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,z))+Math.imul(C,j)|0,o=Math.imul(C,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Mt=(c+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(H,j),i=(i=Math.imul(H,z))+Math.imul(R,j)|0,o=Math.imul(R,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(D,j)|0,o=Math.imul(D,z),n=n+Math.imul(H,G)|0,i=(i=i+Math.imul(H,$)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,$)|0,n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,o=o+Math.imul(m,lt)|0;var Pt=(c+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(N,G),i=(i=Math.imul(N,$))+Math.imul(D,G)|0,o=Math.imul(D,$),n=n+Math.imul(H,q)|0,i=(i=i+Math.imul(H,V)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,V)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(H,W)|0,i=(i=i+Math.imul(H,X)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(x,ft)|0,o=o+Math.imul(x,lt)|0;var St=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,X))+Math.imul(D,W)|0,o=Math.imul(D,X),n=n+Math.imul(H,Q)|0,i=(i=i+Math.imul(H,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(M,ft)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ft)|0,o=o+Math.imul(E,lt)|0;var It=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(H,rt)|0,i=(i=i+Math.imul(H,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,lt)|0;var Bt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(N,rt),i=(i=Math.imul(N,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(H,ot)|0,i=(i=i+Math.imul(H,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,lt)|0)+Math.imul(T,ft)|0,o=o+Math.imul(T,lt)|0;var Tt=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(N,ot),i=(i=Math.imul(N,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(H,ut)|0,i=(i=i+Math.imul(H,ct)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,ct)|0,n=n+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,lt)|0;var _t=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(N,ut),i=(i=Math.imul(N,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(H,ft)|0,i=(i=i+Math.imul(H,lt)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,lt)|0;var Ot=(c+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(C,pt)|0))<<13)|0;c=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(N,ft),i=(i=Math.imul(N,lt))+Math.imul(D,ft)|0,o=Math.imul(D,lt);var Ct=(c+(n=n+Math.imul(H,pt)|0)|0)+((8191&(i=(i=i+Math.imul(H,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Lt=(c+(n=Math.imul(N,pt))|0)+((8191&(i=(i=Math.imul(N,mt))+Math.imul(D,pt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=xt,u[6]=kt,u[7]=Mt,u[8]=Et,u[9]=Pt,u[10]=At,u[11]=St,u[12]=It,u[13]=Bt,u[14]=Tt,u[15]=_t,u[16]=Ot,u[17]=Ct,u[18]=Lt,0!==c&&(u[19]=c,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=l),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?l(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,f=(0|t.words[h])*(0|e.words[c]),l=67108863&f;a=67108863&(l=l+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var f=u,l=c,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],y=n[h+d+s],v=f*g-l*y;y=f*y+l*g,g=v,r[h+d]=p+g,n[h+d]=m+y,r[h+d+s]=p-g,n[h+d+s]=m-y,d!==a&&(v=u*f-c*l,l=u*l+c*f,f=v)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,h,f,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"===typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var f=0|this.words[c];this.words[c]=h<<26-o|f>>>o,h=f&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0===(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,l=1;0===(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,y),i(w,y),i(x,y),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var f=this.pow(h,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new o(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],h=u-1;h>=0;h--){var f=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},i(M,k),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},79656:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;const n=r(69159),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),u=BigInt(8),c=s**BigInt(256),h={a:i,b:BigInt(7),P:c-s**BigInt(32)-BigInt(977),n:c-BigInt("432420386565659656852420866394968145599"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function f(t){const{a:e,b:r}=h,n=_(t*t),i=_(n*t);return _(i+e*t+r)}e.CURVE=h;const l=h.a===i;class d{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof m))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new d(t.x,t.y,o)}static toAffineBatch(t){const e=function(t,e=h.P){const r=new Array(t.length),n=C(t.reduce(((t,n,o)=>n===i?t:(r[o]=t,_(t*n,e))),o),e);return t.reduceRight(((t,n,o)=>n===i?t:(r[o]=_(t*r[o],e),_(t*n,e))),n),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return d.toAffineBatch(t).map(d.fromAffine)}equals(t){if(!(t instanceof d))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:n}=this,{x:i,y:o,z:a}=t,u=_(n**s),c=_(a**s),h=_(e*c),f=_(i*u),l=_(_(r*a)*c),p=_(_(o*n)*u);return h===f&&l===p}negate(){return new d(this.x,_(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,n=_(t**s),i=_(e**s),o=_(i**s),c=_(s*(_((t+i)**s)-n-o)),h=_(a*n),f=_(h**s),l=_(f-s*c),p=_(h*(c-l)-u*o),m=_(s*e*r);return new d(l,p,m)}add(t){if(!(t instanceof d))throw new TypeError("JacobianPoint expected");const{x:e,y:r,z:n}=this,{x:o,y:a,z:u}=t;if(o===i||a===i)return this;if(e===i||r===i)return t;const c=_(n**s),h=_(u**s),f=_(e*h),l=_(o*c),p=_(_(r*u)*h),m=_(_(a*n)*c),g=_(l-f),y=_(m-p);if(g===i)return y===i?this.double():d.ZERO;const v=_(g**s),b=_(g*v),w=_(f*v),x=_(y**s-b-s*w),k=_(y*(w-x)-p*b),M=_(n*u*g);return new d(x,k,M)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=d.ZERO;if("bigint"===typeof t&&t===i)return e;let r=T(t);if(r===o)return this;if(!l){let t=e,n=this;for(;r>i;)r&o&&(t=t.add(n)),n=n.double(),r>>=o;return t}let{k1neg:n,k1:s,k2neg:a,k2:u}=R(r),c=e,f=e,p=this;for(;s>i||u>i;)s&o&&(c=c.add(p)),u&o&&(f=f.add(p)),p=p.double(),s>>=o,u>>=o;return n&&(c=c.negate()),a&&(f=f.negate()),f=new d(_(f.x*h.beta),f.y,f.z),c.add(f)}precomputeWindow(t){const e=l?128/t+1:256/t+1,r=[];let n=this,i=n;for(let o=0;o<e;o++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(d.BASE)&&(e=m.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&p.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=d.normalizeZ(n),p.set(e,n)));let i=d.ZERO,s=d.ZERO;const a=1+(l?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let l=0;l<a;l++){const e=l*u;let r=Number(t&c);if(t>>=f,r>u&&(r-=h,t+=o),0===r){let t=n[e];l%2&&(t=t.negate()),s=s.add(t)}else{let t=n[e+Math.abs(r)-1];r<0&&(t=t.negate()),i=i.add(t)}}return{p:i,f:s}}multiply(t,e){let r,n,i=T(t);if(l){const{k1neg:t,k1:o,k2neg:s,k2:a}=R(i);let{p:u,f:c}=this.wNAF(o,e),{p:f,f:l}=this.wNAF(a,e);t&&(u=u.negate()),s&&(f=f.negate()),f=new d(_(f.x*h.beta),f.y,f.z),r=u.add(f),n=c.add(l)}else{const{p:t,f:o}=this.wNAF(i,e);r=t,n=o}return d.normalizeZ([r,n])[0]}toAffine(t=C(this.z)){const{x:e,y:r,z:n}=this,i=t,s=_(i*i),a=_(s*i),u=_(e*s),c=_(r*a);if(_(n*i)!==o)throw new Error("invZ was invalid");return new m(u,c)}}d.BASE=new d(h.Gx,h.Gy,o),d.ZERO=new d(i,o,i);const p=new WeakMap;class m{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,p.delete(this)}static fromCompressedHex(t){const e=32===t.length,r=I(e?t:t.subarray(1));if(!U(r))throw new Error("Point is not on curve");let n=function(t){const{P:e}=h,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),u=BigInt(44),c=BigInt(88),f=t*t*t%e,l=f*f*t%e,d=O(l,a)*l%e,p=O(d,a)*l%e,m=O(p,s)*f%e,g=O(m,n)*m%e,y=O(g,i)*g%e,v=O(y,u)*y%e,b=O(v,c)*v%e,w=O(b,u)*y%e,x=O(w,a)*l%e,k=O(x,o)*g%e,M=O(k,r)*f%e;return O(M,s)}(f(r));const i=(n&o)===o;if(e)i&&(n=_(-n));else{1===(1&t[0])!==i&&(n=_(-n))}const u=new m(r,n);return u.assertValidity(),u}static fromUncompressedHex(t){const e=I(t.subarray(1,33)),r=I(t.subarray(33,65)),n=new m(e,r);return n.assertValidity(),n}static fromHex(t){const e=B(t),r=e.length,n=e[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(e);if(65===r&&4===n)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return m.BASE.multiply(z(t))}static fromSignature(t,e,r){const n=F(t=B(t)),{r:i,s:o}=G(e);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");const s=1&r?"03":"02",a=m.fromHex(s+M(i)),{n:u}=h,c=C(i,u),f=_(-n*c,u),l=_(o*c,u),d=m.BASE.multiplyAndAddUnsafe(a,f,l);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return S(this.toHex(t))}toHex(t=!1){const e=M(this.x);if(t){return`${this.y&o?"03":"02"}${e}`}return`04${e}${M(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!U(e)||!U(r))throw new Error(t);const n=_(r*r);if(_(n-f(e))!==i)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new m(this.x,_(-this.y))}double(){return d.fromAffine(this).double().toAffine()}add(t){return d.fromAffine(this).add(d.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return d.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const n=d.fromAffine(this),s=e===i||e===o||this!==m.BASE?n.multiplyUnsafe(e):n.multiply(e),a=d.fromAffine(t).multiplyUnsafe(r),u=s.add(a);return u.equals(d.ZERO)?void 0:u.toAffine()}}function g(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function y(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${k(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:I(r),left:t.subarray(e+2)}}e.Point=m,m.BASE=new m(h.Gx,h.Gy),m.ZERO=new m(i,i);class v{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=w(t),r="Signature.fromCompact";if("string"!==typeof t&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=e?k(t):t;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new v(A(n.slice(0,64)),A(n.slice(64,128)))}static fromDER(t){const e=w(t);if("string"!==typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${k(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=y(t.subarray(2)),{data:n,left:i}=y(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${k(i)}`);return{r:e,s:n}}(e?t:S(t));return new v(r,n)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!D(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!D(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=h.n>>o;return this.s>t}normalizeS(){return this.hasHighS()?new v(this.r,h.n-this.s):this}toDERRawBytes(t=!1){return S(this.toDERHex(t))}toDERHex(t=!1){const e=g(P(this.s));if(t)return e;const r=g(P(this.r)),n=P(r.length/2),i=P(e.length/2);return`30${P(r.length/2+e.length/2+4)}02${n}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return S(this.toCompactHex())}toCompactHex(){return M(this.r)+M(this.s)}}function b(...t){if(!t.every(w))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}function w(t){return t instanceof Uint8Array}e.Signature=v;const x=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function k(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=x[t[r]];return e}function M(t){if(t>c)throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function E(t){return S(M(t))}function P(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function A(t){if("string"!==typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function S(t){if("string"!==typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function I(t){return A(k(t))}function B(t){return t instanceof Uint8Array?Uint8Array.from(t):S(t)}function T(t){if("number"===typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"===typeof t&&D(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function _(t,e=h.P){const r=t%e;return r>=i?r:e+r}function O(t,e){const{P:r}=h;let n=t;for(;e-- >i;)n*=n,n%=r;return n}function C(t,e=h.P){if(t===i||e<=i)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=_(t,e),n=e,s=i,a=o,u=o,c=i;for(;r!==i;){const t=n/r,e=n%r,i=s-u*t,o=a-c*t;n=r,r=e,s=u,a=c,u=i,c=o}if(n!==o)throw new Error("invert: does not exist");return _(s,e)}const L=(t,e)=>(t+e/s)/e,H=s**BigInt(128);function R(t){const{n:e}=h,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=L(s*t,e),u=L(-n*t,e);let c=_(t-a*r-u*i,e),f=_(-a*n-u*s,e);const l=c>H,d=f>H;if(l&&(c=e-c),d&&(f=e-f),c>H||f>H)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:d,k2:f}}function F(t){const{n:e}=h,r=8*t.length-256;let n=I(t);return r>0&&(n>>=BigInt(r)),n>=e&&(n-=e),n}class N{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return e.utils.hmacSha256(this.k,...t)}hmacSync(...t){if("function"!==typeof e.utils.hmacSha256Sync)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const r=e.utils.hmacSha256Sync(this.k,...t);if(r instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return r}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function D(t){return i<t&&t<h.n}function U(t){return i<t&&t<h.P}function j(t,e,r){const n=I(t);if(!D(n))return;const{n:s}=h,a=m.BASE.multiply(n),u=_(a.x,s);if(u===i)return;const c=_(C(n,s)*_(e+r*u,s),s);if(c===i)return;const f=new v(u,c);return{sig:f,recovery:(a.x===f.r?0:2)|Number(a.y&o)}}function z(t){let e;if("bigint"===typeof t)e=t;else if("number"===typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"===typeof t){if(64!==t.length)throw new Error("Expected 32 bytes of private key");e=A(t)}else{if(!w(t))throw new TypeError("Expected valid private key");if(32!==t.length)throw new Error("Expected 32 bytes of private key");e=I(t)}if(!D(e))throw new Error("Expected private key: 0 < key < n");return e}function Z(t){return t instanceof m?(t.assertValidity(),t):m.fromHex(t)}function G(t){if(t instanceof v)return t.assertValidity(),t;try{return v.fromDER(t)}catch(e){return v.fromCompact(t)}}function $(t){const e=w(t),r="string"===typeof t,n=(e||r)&&t.length;return e?33===n||65===n:r?66===n||130===n:t instanceof m}function K(t){return I(t.length>32?t.slice(0,32):t)}function q(t){const e=K(t),r=_(e,h.n);return V(r<i?e:r)}function V(t){if("bigint"!==typeof t)throw new Error("Expected bigint");return S(M(t))}function J(t,r,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const i=B(t),o=z(r),s=[V(o),q(i)];if(null!=n){!0===n&&(n=e.utils.randomBytes(32));const t=B(n);if(32!==t.length)throw new Error("sign: Expected 32 bytes of extra data");s.push(t)}return{seed:b(...s),m:K(i),d:o}}function W(t,e){let{sig:r,recovery:n}=t;const{canonical:i,der:o,recovered:s}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);const a=o?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}e.getPublicKey=function(t,e=!1){return m.fromPrivateKey(t).toRawBytes(e)},e.recoverPublicKey=function(t,e,r,n=!1){return m.fromSignature(t,e,r).toRawBytes(n)},e.getSharedSecret=function(t,e,r=!1){if($(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!$(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=Z(e);return n.assertValidity(),n.multiply(z(t)).toRawBytes(r)},e.sign=async function(t,e,r={}){const{seed:n,m:i,d:o}=J(t,e,r.extraEntropy);let s;const a=new N;for(await a.reseed(n);!(s=j(await a.generate(),i,o));)await a.reseed();return W(s,r)},e.signSync=function(t,e,r={}){const{seed:n,m:i,d:o}=J(t,e,r.extraEntropy);let s;const a=new N;for(a.reseedSync(n);!(s=j(a.generateSync(),i,o));)a.reseedSync();return W(s,r)};const X={strict:!0};function Y(t){return _(I(t),h.n)}function Q(t){return(t.y&o)===i}e.verify=function(t,e,r,n=X){let i;try{i=G(t),e=B(e)}catch(g){return!1}const{r:o,s:s}=i;if(n.strict&&i.hasHighS())return!1;const a=F(e);let u;try{u=Z(r)}catch(g){return!1}const{n:c}=h,f=C(s,c),l=_(a*f,c),d=_(o*f,c),p=m.BASE.multiplyAndAddUnsafe(u,l,d);return!!p&&_(p.x,c)===o};class tt{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=B(t);if(64!==e.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);const r=I(e.subarray(0,32)),n=I(e.subarray(32,64));return new tt(r,n)}assertValidity(){const{r:t,s:e}=this;if(!U(t)||!D(e))throw new Error("Invalid signature")}toHex(){return M(this.r)+M(this.s)}toRawBytes(){return S(this.toHex())}}function et(t,e,r){if(null==t)throw new TypeError(`sign: Expected valid message, not "${t}"`);const n=B(t),i=z(e),o=B(r);if(32!==o.length)throw new TypeError("sign: Expected 32 bytes of aux randomness");const s=m.fromPrivateKey(i),a=s.toRawX();return{m:n,P:s,px:a,d:Q(s)?i:h.n-i,rand:o}}function rt(t,e){return E(t^I(e))}function nt(t){const e=_(I(t),h.n);if(e===i)throw new Error("sign: Creation of signature failed. k is zero");const r=m.fromPrivateKey(e),n=r.toRawX();return{R:r,rx:n,k:Q(r)?e:h.n-e}}function it(t,e,r,n){return new tt(t.x,_(e+r*n,h.n)).toRawBytes()}function ot(t,e,r){const n=t instanceof tt,i=n?t:tt.fromHex(t);return n&&i.assertValidity(),{...i,m:B(e),P:Z(r)}}function st(t,e,r,n){const i=m.BASE.multiplyAndAddUnsafe(e,z(r),_(-n,h.n));return!(!i||!Q(i)||i.x!==t)}async function at(t,r,n){try{const{r:i,s:o,m:s,P:a}=ot(t,r,n),u=Y(await e.utils.taggedHash(ht.challenge,E(i),a.toRawX(),s));return st(i,a,o,u)}catch(i){return!1}}function ut(t,r,n){try{const{r:i,s:o,m:s,P:a}=ot(t,r,n),u=Y(e.utils.taggedHashSync(ht.challenge,E(i),a.toRawX(),s));return st(i,a,o,u)}catch(i){return!1}}e.schnorr={Signature:tt,getPublicKey:function(t){return m.fromPrivateKey(t).toRawX()},sign:async function(t,r,n=e.utils.randomBytes()){const{m:i,px:o,d:s,rand:a}=et(t,r,n),u=rt(s,await e.utils.taggedHash(ht.aux,a)),{R:c,rx:h,k:f}=nt(await e.utils.taggedHash(ht.nonce,u,o,i)),l=it(c,f,Y(await e.utils.taggedHash(ht.challenge,h,o,i)),s);if(!(await at(l,i,o)))throw new Error("sign: Invalid signature produced");return l},verify:at,signSync:function(t,r,n=e.utils.randomBytes()){const{m:i,px:o,d:s,rand:a}=et(t,r,n),u=rt(s,e.utils.taggedHashSync(ht.aux,a)),{R:c,rx:h,k:f}=nt(e.utils.taggedHashSync(ht.nonce,u,o,i)),l=it(c,f,Y(e.utils.taggedHashSync(ht.challenge,h,o,i)),s);if(!ut(l,i,o))throw new Error("sign: Invalid signature produced");return l},verifySync:ut},m.BASE._setWindowSize(8);const ct={node:n,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},ht={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},ft={};e.utils={isValidPrivateKey(t){try{return z(t),!0}catch(e){return!1}},privateAdd:(t,e)=>E(_(z(t)+z(e),h.n)),privateNegate:t=>{const e=z(t);return E(h.n-e)},pointAddScalar:(t,e,r)=>{const n=m.fromHex(t),i=z(e),s=m.BASE.multiplyAndAddUnsafe(n,i,o);if(!s)throw new Error("Tweaked point at infinity");return s.toRawBytes(r)},pointMultiply:(t,e,r)=>{const n=m.fromHex(t),i=I(B(e));return n.multiply(i).toRawBytes(r)},hashToPrivateKey:t=>{if((t=B(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return E(_(I(t),h.n-o)+o)},randomBytes:(t=32)=>{if(ct.web)return ct.web.getRandomValues(new Uint8Array(t));if(ct.node){const{randomBytes:e}=ct.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(40)),bytesToHex:k,hexToBytes:S,concatBytes:b,mod:_,invert:C,sha256:async(...t)=>{if(ct.web){const e=await ct.web.subtle.digest("SHA-256",b(...t));return new Uint8Array(e)}if(ct.node){const{createHash:e}=ct.node,r=e("sha256");return t.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(ct.web){const r=await ct.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=b(...e),i=await ct.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(ct.node){const{createHmac:r}=ct.node,n=r("sha256",t);return e.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...r)=>{let n=ft[t];if(void 0===n){const r=await e.utils.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=b(r,r),ft[t]=n}return e.utils.sha256(n,...r)},taggedHashSync:(t,...r)=>{if("function"!==typeof e.utils.sha256Sync)throw new Error("utils.sha256Sync is undefined, you need to set it");let n=ft[t];if(void 0===n){const r=e.utils.sha256Sync(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=b(r,r),ft[t]=n}return e.utils.sha256Sync(n,...r)},precompute(t=8,e=m.BASE){const r=e===m.BASE?e:new m(e.x,e.y);return r._setWindowSize(t),r.multiply(a),r}}},52062:function(t,e,r){"use strict";r.r(e),r.d(e,{EthereumPrivateKeyProvider:function(){return _t},TransactionFormatter:function(){return St},WalletConnectProvider:function(){return G},getProviderHandlers:function(){return dt}});var n=r(15861),i=r(15671),o=r(43144),s=r(97326),a=r(11752),u=r(79340),c=r(82963),h=r(61120),f=r(4942),l=r(64687),d=r.n(l),p=r(22782),m=r(95844),g=r(8654),y=r(67845),v=r(79826),b=r(33158),w=r(92730),x=r(51091),k=r(71002),M=r(20917),E=r(69282),P=r.n(E),A=r(40660),S=r(70794),I=r(5382),B=r(21925),T=r.n(B),_=r(48764).Buffer;function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){(0,f.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function L(t){return 42===t.length}function H(t){var e=t.getAccounts,r=t.getPrivateKey,i=t.processDecryptMessage,o=t.processEncryptionPublicKey,s=t.processEthSignMessage,a=t.processPersonalMessage,u=t.processTransaction,c=t.processSignTransaction,h=t.processTypedMessage,f=t.processTypedMessageV3,l=t.processTypedMessageV4;if(!e)throw new Error("opts.getAccounts is required");function p(t,e){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(d().mark((function t(r,n){var i,o,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("string"===typeof r&&r.length>0)){t.next=8;break}return t.next=3,e(n);case 3:if(i=t.sent,o=i.map((function(t){return t.toLowerCase()})),s=r.toLowerCase(),!o.includes(s)){t.next=8;break}return t.abrupt("return",s);case 8:throw v.Sy.rpc.invalidParams({message:"Invalid parameters: must provide an Ethereum address."});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){return(y=(0,n.Z)(d().mark((function t(r,n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(r);case 2:n.result=t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=(0,n.Z)(d().mark((function t(r,n){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(r);case 2:i=t.sent,n.result=i[0]||null;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=(0,n.Z)(d().mark((function t(e,r){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return n=e.params[0]||{from:""},t.next=5,p(n.from,e);case 5:return n.from=t.sent,t.next=8,u(n,e);case 8:r.result=t.sent;case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=(0,n.Z)(d().mark((function t(e,r){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return n=e.params[0]||{from:""},t.next=5,p(n.from,e);case 5:return n.from=t.sent,t.next=8,c(n,e);case 8:r.result=t.sent;case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=(0,n.Z)(d().mark((function t(e,r){var n,i,o,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return t.next=4,p(e.params[0],e);case 4:return n=t.sent,i=e.params[1],o=e.params[2]||{},a=C(C({},o),{},{from:n,data:i}),t.next=10,s(a,e);case 10:r.result=t.sent;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=(0,n.Z)(d().mark((function t(e,r){var n,i,o,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return n=e.params[0],t.next=5,p(e.params[1],e);case 5:return i=t.sent,"V1",o=e.params[2]||{},s=C(C({},o),{},{from:i,data:n}),t.next=11,h(s,e,"V1");case 11:r.result=t.sent;case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=(0,n.Z)(d().mark((function t(e,r){var n,i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return t.next=4,p(e.params[0],e);case 4:return n=t.sent,i=e.params[1],"V3",o={data:i,from:n,version:"V3"},t.next=10,f(o,e,"V3");case 10:r.result=t.sent;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=(0,n.Z)(d().mark((function t(e,r){var n,i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return t.next=4,p(e.params[0],e);case 4:return n=t.sent,i=e.params[1],"V4",o={data:i,from:n,version:"V4"},t.next=10,l(o,e,"V4");case 10:r.result=t.sent;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=(0,n.Z)(d().mark((function t(e,r){var n,i,o,s,u,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return n=e.params[0],i=e.params[1],o=e.params[2]||{},L(n)&&!L(i)?("The eth_personalSign method requires params ordered ","[message, address]. This was previously handled incorrectly, ","and has been corrected automatically. ","Please switch this param order for smooth behavior in the future.",r.warning="The eth_personalSign method requires params ordered [message, address]. This was previously handled incorrectly, and has been corrected automatically. Please switch this param order for smooth behavior in the future.",s=n,u=i):(u=n,s=i),t.next=8,p(s,e);case 8:return s=t.sent,c=C(C({},o),{},{from:s,data:u}),t.next=12,a(c,e);case 12:r.result=t.sent;case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=(0,n.Z)(d().mark((function t(e,r){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return t.next=4,p(e.params[0],e);case 4:return n=t.sent,t.next=7,o(n,e);case 7:r.result=t.sent;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return(I=(0,n.Z)(d().mark((function t(e,r){var n,o,s,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:return n=e.params[0],t.next=5,p(e.params[1],e);case 5:o=t.sent,s=e.params[2]||{},a=C(C({},s),{},{from:o,data:n}),r.result=i(a,e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(){return(B=(0,n.Z)(d().mark((function t(e,n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}throw v.Sy.rpc.methodNotSupported();case 2:n.result=r(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,m.v0)({eth_accounts:(0,m.Pk)((function(t,e){return y.apply(this,arguments)})),eth_private_key:(0,m.Pk)((function(t,e){return B.apply(this,arguments)})),eth_coinbase:(0,m.Pk)((function(t,e){return b.apply(this,arguments)})),eth_sendTransaction:(0,m.Pk)((function(t,e){return w.apply(this,arguments)})),eth_signTransaction:(0,m.Pk)((function(t,e){return x.apply(this,arguments)})),eth_sign:(0,m.Pk)((function(t,e){return k.apply(this,arguments)})),eth_signTypedData:(0,m.Pk)((function(t,e){return M.apply(this,arguments)})),eth_signTypedData_v3:(0,m.Pk)((function(t,e){return E.apply(this,arguments)})),eth_signTypedData_v4:(0,m.Pk)((function(t,e){return P.apply(this,arguments)})),personal_sign:(0,m.Pk)((function(t,e){return A.apply(this,arguments)})),eth_getEncryptionPublicKey:(0,m.Pk)((function(t,e){return S.apply(this,arguments)})),eth_decrypt:(0,m.Pk)((function(t,e){return I.apply(this,arguments)}))})}function R(t){var e=t.getAccounts,r=t.getPrivateKey,n=t.processTransaction,i=t.processSignTransaction,o=t.processEthSignMessage,s=t.processTypedMessage,a=t.processTypedMessageV3,u=t.processTypedMessageV4,c=t.processPersonalMessage,h=t.processEncryptionPublicKey,f=t.processDecryptMessage;return(0,m.UZ)([(0,m.v0)({eth_syncing:!1}),H({getAccounts:e,getPrivateKey:r,processTransaction:n,processEthSignMessage:o,processSignTransaction:i,processTypedMessage:s,processTypedMessageV3:a,processTypedMessageV4:u,processPersonalMessage:c,processEncryptionPublicKey:h,processDecryptMessage:f})])}function F(t){return function(e,r,n,i){return"eth_chainId"===e.method?(r.result=t,i()):n()}}function N(t){return function(e,r,n,i){return"eth_provider_config"===e.method?(r.result=t,i()):n()}}function D(t){var e=t.chainId,r=t.rpcTarget,n=(0,p.v$)({rpcTarget:r});return{networkMiddleware:(0,m.UZ)([F(e),N(t),n]),fetchMiddleware:n}}function U(t){var e=t.connector;return{getPrivateKey:function(){var t=(0,n.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw v.Sy.rpc.methodNotSupported();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getAccounts:function(){var t=(0,n.Z)(d().mark((function t(r){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.accounts)||!n.length){t.next=3;break}return t.abrupt("return",n);case 3:throw new Error("Failed to get accounts");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),processTransaction:function(){var t=(0,n.Z)(d().mark((function t(r,n){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendTransaction(r);case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processSignTransaction:function(){var t=(0,n.Z)(d().mark((function t(r,n){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signTransaction(r);case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processEthSignMessage:function(){var t=(0,n.Z)(d().mark((function t(r,n){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signMessage([r.from,r.data]);case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processPersonalMessage:function(){var t=(0,n.Z)(d().mark((function t(r,n){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signPersonalMessage([r.data,r.from]);case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processTypedMessage:function(){var t=(0,n.Z)(d().mark((function t(r,n){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signTypedData([r.from,r.data]);case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processTypedMessageV3:function(){var t=(0,n.Z)(d().mark((function t(r){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signTypedData([r.from,r.data]);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),processTypedMessageV4:function(){var t=(0,n.Z)(d().mark((function t(r){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signTypedData([r.from,r.data]);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),processEncryptionPublicKey:function(){var t=(0,n.Z)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw v.Sy.rpc.methodNotSupported();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),processDecryptMessage:function(t){throw v.Sy.rpc.methodNotSupported()}}}function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){(0,f.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,h.Z)(t);if(e){var i=(0,h.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var G=function(t){(0,u.Z)(r,t);var e=Z(r);function r(t){var n,o=t.config,a=t.state,u=t.connector;return(0,i.Z)(this,r),n=e.call(this,{config:{chainConfig:z(z({},o.chainConfig),{},{chainNamespace:g.EN.EIP155}),skipLookupNetwork:!!o.skipLookupNetwork},state:z(z({},a||{}),{},{chainId:"loading",accounts:[]})}),(0,f.Z)((0,s.Z)(n),"connector",null),n.connector=u||null,n}return(0,o.Z)(r,[{key:"enable",value:function(){var t=(0,n.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connector){t.next=2;break}throw v.Sy.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});case 2:return t.next=4,this.setupProvider(this.connector);case 4:return t.abrupt("return",this._providerEngineProxy.request({method:"eth_accounts"}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var t=(0,n.Z)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.onConnectorStateUpdate(e),t.next=3,this.setupEngine(e);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"switchChain",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o,s,a,u,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.chainId,n=e.addChain,i=void 0===n||n,o=e.lookup,s=void 0===o||o,this.connector){t.next=3;break}throw v.Sy.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});case 3:if(a=this.getChainConfig(r),this.update({chainId:"loading"}),u=a.rpcTarget,c=a.displayName,!i){t.next=15;break}return t.prev=7,t.next=10,this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:c,rpcUrls:[u]}]});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(7),g.cM.error(t.t0);case 15:return t.prev=15,t.next=18,this.connector.sendCustomRequest({method:"wallet_switchEthereumChain",params:[{chainId:r}]});case 18:t.next=25;break;case 20:if(t.prev=20,t.t1=t.catch(15),g.cM.error(t.t1),"JSON RPC response format is invalid"===t.t1.message){t.next=25;break}throw t.t1;case 25:if(this.configure({chainConfig:a}),!s){t.next=29;break}return t.next=29,this.lookupNetwork(this.connector);case 29:case"end":return t.stop()}}),t,this,[[7,12],[15,20]])})));return function(e){return t.apply(this,arguments)}}()},{key:"addChain",value:function(){var t=(0,n.Z)(d().mark((function t(e){var n,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connector){t.next=2;break}throw g.Ty.notReady("Wallet adapter is not ready yet");case 2:return n=e.rpcTarget,i=e.displayName,t.prev=3,t.next=6,this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:i,rpcUrls:[n]}]});case 6:(0,a.Z)((0,h.Z)(r.prototype),"addChain",this).call(this,e),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(3),g.cM.error(t.t0),t.t0;case 13:case"end":return t.stop()}}),t,this,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.connected){t.next=2;break}throw g.RM.notConnectedError("Wallet connect connector is not connected");case 2:if(this.provider){t.next=4;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 4:if(r=this.config.chainConfig.chainId,n=(0,g.H2)(e.chainId.toString())?e.chainId:"0x".concat(e.chainId.toString(16)),r===n){t.next=8;break}throw g.Ty.rpcConnectionError("Invalid network, net_version is: ".concat(n,", expected: ").concat(r));case 8:return this.provider.emit("connect",{chainId:r}),this.provider.emit("chainChanged",this.state.chainId),t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setupEngine",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o,s,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=U({connector:e}),this.update({accounts:e.accounts||[]}),n=R(r),i=new m.eI,o=D(this.config.chainConfig),s=o.networkMiddleware,i.push(n),i.push(s),a=(0,p.Xj)(i),this.updateProviderEngineProxy(a),this.config.skipLookupNetwork){t.next=12;break}return t.next=12,this.lookupNetwork(e);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onConnectorStateUpdate",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.on("session_update",function(){var t=(0,n.Z)(d().mark((function t(n,i){var o,s,a,u,c,h;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.provider){t.next=2;break}throw g.RM.notConnectedError("Wallet connect connector is not connected");case 2:if(!n){t.next=5;break}return r.provider.emit("error",n),t.abrupt("return");case 5:if(o=i.params[0],s=o.accounts,a=o.chainId,u=o.rpcUrl,null!==s&&void 0!==s&&s.length&&r.state.accounts[0]!==s[0]&&(r.update({accounts:s}),r.provider.emit("accountsChanged",s)),c="0x".concat(a.toString(16)),!a||r.state.chainId===c){t.next=13;break}return h=(0,g.h2)(g.EN.EIP155,a)||{},r.configure({chainConfig:z(z({},h),{},{chainId:c,rpcTarget:u,chainNamespace:g.EN.EIP155})}),t.next=13,r.setupEngine(e);case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),r}(y.Zk);(0,f.Z)(G,"getProviderInstance",function(){var t=(0,n.Z)(d().mark((function t(e){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new G({config:{chainConfig:e.chainConfig,skipLookupNetwork:e.skipLookupNetwork}}),t.next=3,r.setupProvider(e.connector);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var $=new S.Z("1e18"),K=new S.Z("1e9"),q=new S.Z("1"),V={hex:function(t){return"string"===typeof t?new S.Z((0,w.stripHexPrefix)(t),16):new S.Z(t,16)},dec:function(t){return new S.Z(t,10)}},J={WEI:function(t){return t.div($)},GWEI:function(t){return t.div(K)},ETH:function(t){return t.div(q)}},W={WEI:function(t){return t.times($).dp(0,S.Z.ROUND_HALF_UP)},GWEI:function(t){return t.times(K).dp(9,S.Z.ROUND_HALF_UP)},ETH:function(t){return t.times(q).dp(9,S.Z.ROUND_HALF_UP)}},X={hex:function(t){return t.toString(16)},dec:function(t){return new S.Z(t).toString(10)}},Y=function(t,e){var r=e.fromNumericBase;return function(t){var e=t.value,r=t.fromNumericBase,n=t.fromDenomination,i=t.toNumericBase,o=t.toDenomination,s=t.numberOfDecimals,a=V[r](e);return n&&(a=J[n](a)),o&&(a=W[o](a)),s&&(a=a.dp(s,S.Z.ROUND_HALF_DOWN)),i&&(a=X[i](a)),a}({fromNumericBase:void 0===r?"hex":r,toNumericBase:e.toNumericBase,fromDenomination:e.fromDenomination,toDenomination:e.toDenomination,numberOfDecimals:e.numberOfDecimals,value:t||"0"})};function Q(t){return Y(t,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function tt(t){return Y(t,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(Object(r),!0).forEach((function(e){(0,f.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nt(t){return tt(Q(t))}function it(t){return ot.apply(this,arguments)}function ot(){return(ot=(0,n.Z)(d().mark((function t(e){var r,n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.U2)(e);case 2:return r=t.sent,n=rt(rt({},r),{},{estimatedBaseFee:nt(r.estimatedBaseFee),low:rt(rt({},r.low),{},{suggestedMaxPriorityFeePerGas:nt(r.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:nt(r.low.suggestedMaxFeePerGas)}),medium:rt(rt({},r.medium),{},{suggestedMaxPriorityFeePerGas:nt(r.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:nt(r.medium.suggestedMaxFeePerGas)}),high:rt(rt({},r.high),{},{suggestedMaxPriorityFeePerGas:nt(r.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:nt(r.high.suggestedMaxFeePerGas)})}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function st(t){return at.apply(this,arguments)}function at(){return(at=(0,n.Z)(d().mark((function t(e){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.U2)(e,{referrer:e,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});case 2:return r=t.sent,t.abrupt("return",{low:r.SafeGasPrice,medium:r.ProposeGasPrice,high:r.FastGasPrice});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ut=function(t,e){var r;try{P().ok(t&&"object"===(0,k.Z)(t),"Params must be an object."),P().ok("data"in t,'Params must include a "data" field.'),P().ok("from"in t,'Params must include a "from" field.'),P().ok("string"===typeof t.from&&(0,w.isValidAddress)(t.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');var n=null,i=null;switch(t.version){case x.SignTypedDataVersion.V1:"string"===typeof t.data?P().doesNotThrow((function(){n=JSON.parse(t.data)}),'"data" must be a valid JSON string.'):n=t.data,P().ok(Array.isArray(n),"params.data must be an array."),P().doesNotThrow((function(){(0,x.typedSignatureHash)(n)}),"Signing data must be valid EIP-712 typed data.");break;case x.SignTypedDataVersion.V3:case x.SignTypedDataVersion.V4:"string"===typeof t.data?P().doesNotThrow((function(){n=JSON.parse(t.data)}),'"data" must be a valid JSON string.'):n=t.data,P().ok(n.primaryType in n.types,'Primary type of "'.concat(n.primaryType,'" has no type definition.'));var o=A.validate(n,x.TYPED_MESSAGE_SCHEMA.properties);P().strictEqual(o.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),(i=null===(r=n.domain)||void 0===r?void 0:r.chainId)&&(P().ok(!Number.isNaN(e),'Cannot sign messages for chainId "'.concat(i,'", because Web3Auth is switching networks.')),"string"===typeof i&&(i=Number.parseInt(i,(0,g.H2)(i)?16:10)),P().strictEqual(i,e,'Provided chainId "'.concat(i,'" must match the active chainId "').concat(e,'"')));break;default:P().fail('Unknown typed data version "'.concat(t.version,'"'))}}catch(s){throw v.Sy.rpc.invalidInput({message:null===s||void 0===s?void 0:s.message})}};function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(r),!0).forEach((function(e){(0,f.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ft(t,e,r){return lt.apply(this,arguments)}function lt(){return(lt=(0,n.Z)(d().mark((function t(e,r,n){var i,o,s,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.formatTransaction(e);case 2:return i=t.sent,t.next=5,n.getCommonConfiguration();case 5:return o=t.sent,s=b.TransactionFactory.fromTxData(i,{common:o}),a=s.sign(_.from(r,"hex")).serialize(),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(t){var e=t.txFormatter,r=t.privKey,i=t.getProviderEngineProxy;return{getAccounts:function(){var t=(0,n.Z)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",["0x".concat((0,w.privateToAddress)(_.from(r,"hex")).toString("hex"))]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getPrivateKey:function(){var t=(0,n.Z)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),processTransaction:function(){var t=(0,n.Z)(d().mark((function t(n,o){var s,a,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i()){t.next=3;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 3:return t.next=5,ft(n,r,e);case 5:return a=t.sent,t.next=8,s.request({method:"eth_sendRawTransaction",params:["0x".concat(a.toString("hex"))]});case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processSignTransaction:function(){var t=(0,n.Z)(d().mark((function t(n,o){var s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i()){t.next=3;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 3:return t.next=5,ft(n,r,e);case 5:return s=t.sent,t.abrupt("return","0x".concat(s.toString("hex")));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processEthSignMessage:function(){var t=(0,n.Z)(d().mark((function t(e,n){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,p.l)(r,e.data),t.abrupt("return",i);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processPersonalMessage:function(){var t=(0,n.Z)(d().mark((function t(e,n){var i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=_.from(r,"hex"),o=(0,x.personalSign)({privateKey:i,data:e.data}),t.abrupt("return",o);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processTypedMessage:function(){var t=(0,n.Z)(d().mark((function t(e,n){var o,s,a,u,c,h,f;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g.cM.debug("processTypedMessage",e),o=_.from(r,"hex"),s=i()){t.next=5;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 5:return t.next=7,s.request({method:"eth_chainId"});case 7:return a=t.sent,u=Number.parseInt(a,(0,g.H2)(a)?16:10),c=ht(ht({},e),{},{version:x.SignTypedDataVersion.V1}),ut(c,u),h="string"===typeof c.data?JSON.parse(c.data):c.data,f=(0,x.signTypedData)({privateKey:o,data:h,version:x.SignTypedDataVersion.V1}),t.abrupt("return",f);case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processTypedMessageV3:function(){var t=(0,n.Z)(d().mark((function t(e,n){var o,s,a,u,c,h;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g.cM.debug("processTypedMessageV3",e),o=_.from(r,"hex"),s=i()){t.next=5;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 5:return t.next=7,s.request({method:"eth_chainId"});case 7:return a=t.sent,u=Number.parseInt(a,(0,g.H2)(a)?16:10),ut(e,u),c="string"===typeof e.data?JSON.parse(e.data):e.data,h=(0,x.signTypedData)({privateKey:o,data:c,version:x.SignTypedDataVersion.V3}),t.abrupt("return",h);case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processTypedMessageV4:function(){var t=(0,n.Z)(d().mark((function t(e,n){var o,s,a,u,c,h;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g.cM.debug("processTypedMessageV4",e),o=_.from(r,"hex"),s=i()){t.next=5;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 5:return t.next=7,s.request({method:"eth_chainId"});case 7:return a=t.sent,u=Number.parseInt(a,(0,g.H2)(a)?16:10),ut(e,u),c="string"===typeof e.data?JSON.parse(e.data):e.data,h=(0,x.signTypedData)({privateKey:o,data:c,version:x.SignTypedDataVersion.V4}),t.abrupt("return",h);case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processEncryptionPublicKey:function(){var t=(0,n.Z)(d().mark((function t(e,n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.cM.info("processEncryptionPublicKey",e),t.abrupt("return",(0,x.getEncryptionPublicKey)(r));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),processDecryptMessage:function(t,e){g.cM.info("processDecryptMessage",t);var n=(0,w.stripHexPrefix)(t.data),i=_.from(n,"hex");return(0,x.decrypt)({encryptedData:JSON.parse(i.toString("utf8")),privateKey:r})}}}function pt(t){return(0,w.addHexPrefix)(t.toString(16))}function mt(t){return T().isBN(t)?t:new(T())((0,w.stripHexPrefix)(t),16)}function gt(t,e,r){var n=new(T())(e),i=new(T())(r);return t.mul(n).div(i)}var yt="0x0",vt="0x2",bt="sentEther",wt="contractInteraction",xt="contractDeployment",kt="fee-market",Mt="legacy",Et="eth_gasPrice";function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){(0,f.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var St=function(){function t(e){var r=e.getProviderEngineProxy;(0,i.Z)(this,t),(0,f.Z)(this,"chainConfig",null),(0,f.Z)(this,"getProviderEngineProxy",void 0),(0,f.Z)(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=r}return(0,o.Z)(t,[{key:"providerProxy",get:function(){return this.getProviderEngineProxy()}},{key:"init",value:function(){var t=(0,n.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.providerProxy.request({method:"eth_provider_config",params:[]});case 2:return this.chainConfig=t.sent,t.next=5,this.getEIP1559Compatibility();case 5:this.isEIP1559Compatible=t.sent;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getCommonConfiguration",value:function(){var t=(0,n.Z)(d().mark((function t(){var e,r,n,i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.chainConfig){t.next=2;break}throw new Error("Chain config not initialized");case 2:return e=this.chainConfig,r=e.displayName,n=e.chainId,i=this.isEIP1559Compatible?I.Hardfork.London:I.Hardfork.Berlin,o={name:r,chainId:"loading"===n?0:Number.parseInt(n,16),networkId:"loading"===n?0:Number.parseInt(n,16),defaultHardfork:i},t.abrupt("return",I.Common.custom(o));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"formatTransaction",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o,s,a,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.chainConfig){t.next=2;break}throw new Error("Chain config not initialized");case 2:if(void 0!==(r=At({},e)).nonce){t.next=7;break}return t.next=6,this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]});case 6:r.nonce=t.sent;case 7:if(this.isEIP1559Compatible||!r.gasPrice){t.next=19;break}if(r.maxFeePerGas&&delete r.maxFeePerGas,r.maxPriorityFeePerGas&&delete r.maxPriorityFeePerGas,r.gas){t.next=17;break}return t.next=13,this.getDefaultGasLimit(r);case 13:(n=t.sent)&&(r.gasLimit=n),t.next=18;break;case 17:r.gasLimit=r.gas;case 18:return t.abrupt("return",r);case 19:if(r.gas){t.next=26;break}return t.next=22,this.getDefaultGasLimit(r);case 22:(i=t.sent)&&(r.gasLimit=i),t.next=27;break;case 26:r.gasLimit=r.gas;case 27:return t.next=29,this.getDefaultGasFees(r);case 29:return o=t.sent,s=o.gasPrice,a=o.maxFeePerGas,u=o.maxPriorityFeePerGas,this.isEIP1559Compatible?(!r.gasPrice||r.maxFeePerGas||r.maxPriorityFeePerGas?(a&&!r.maxFeePerGas&&(r.maxFeePerGas=a),u&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=u),s&&!r.maxFeePerGas&&(r.maxFeePerGas=s),r.maxFeePerGas&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=r.maxFeePerGas)):(r.maxFeePerGas=r.gasPrice,r.maxPriorityFeePerGas=(c="string"===typeof u?(0,w.stripHexPrefix)(u):u,h="string"===typeof r.gasPrice?(0,w.stripHexPrefix)(r.gasPrice):r.gasPrice,null!==c&&void 0!==c&&null!==h&&void 0!==h&&new S.O(c,10).lt(h,10)?u:r.gasPrice)),delete r.gasPrice):(delete r.maxPriorityFeePerGas,delete r.maxFeePerGas),!s||r.gasPrice||r.maxPriorityFeePerGas||r.maxFeePerGas||(r.gasPrice=s),r.type=this.isEIP1559Compatible?vt:yt,r.chainId=this.chainConfig.chainId,t.abrupt("return",r);case 38:case"end":return t.stop()}var c,h}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchEthGasPriceEstimate",value:function(){var t=(0,n.Z)(d().mark((function t(){var e;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.providerProxy.request({method:"eth_gasPrice",params:[]});case 2:return e=t.sent,t.abrupt("return",{gasPrice:tt(e).toString()});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getEIP1559Compatibility",value:function(){var t=(0,n.Z)(d().mark((function t(){var e,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});case 2:return e=t.sent,r=e&&void 0!==e.baseFeePerGas,t.abrupt("return",!!r);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchGasFeeEstimateData",value:function(){var t=(0,n.Z)(d().mark((function t(){var e,r,n,i,o,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.chainConfig){t.next=2;break}throw new Error("Chain config not initialized");case 2:if(e="0x1"===this.chainConfig.chainId,r=Number.parseInt(this.chainConfig.chainId,16),t.prev=4,!this.isEIP1559Compatible){t.next=12;break}return t.next=8,it("https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees".replace("<chain_id>","".concat(r)));case 8:i=t.sent,n={gasFeeEstimates:i,gasEstimateType:kt},t.next=20;break;case 12:if(!e){t.next=19;break}return t.next=15,st("https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices".replace("<chain_id>","".concat(r)));case 15:o=t.sent,n={gasFeeEstimates:o,gasEstimateType:Mt},t.next=20;break;case 19:throw new Error("Main gas fee/price estimation failed. Use fallback");case 20:t.next=34;break;case 22:return t.prev=22,t.t0=t.catch(4),t.prev=24,t.next=27,this.fetchEthGasPriceEstimate();case 27:s=t.sent,n={gasFeeEstimates:s,gasEstimateType:Et},t.next=34;break;case 31:throw t.prev=31,t.t1=t.catch(24),new Error("Gas fee/price estimation failed. Message: ".concat(t.t1.message));case 34:return t.abrupt("return",n);case 35:case"end":return t.stop()}}),t,this,[[4,22],[24,31]])})));return function(){return t.apply(this,arguments)}}()},{key:"getDefaultGasFees",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o,s,a,u,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)){t.next=2;break}return t.abrupt("return",{});case 2:return t.prev=2,t.next=5,this.fetchGasFeeEstimateData();case 5:if(r=t.sent,n=r.gasFeeEstimates,i=r.gasEstimateType,!this.isEIP1559Compatible||i!==kt){t.next=16;break}if(o=n.medium,s=(o=void 0===o?{}:o).suggestedMaxPriorityFeePerGas,a=o.suggestedMaxFeePerGas,!s||!a){t.next=14;break}return t.abrupt("return",{maxFeePerGas:(0,w.addHexPrefix)(Q(a)),maxPriorityFeePerGas:(0,w.addHexPrefix)(Q(s))});case 14:t.next=22;break;case 16:if(i!==Mt){t.next=20;break}return t.abrupt("return",{gasPrice:(0,w.addHexPrefix)(Q(n.medium))});case 20:if(i!==Et){t.next=22;break}return t.abrupt("return",{gasPrice:(0,w.addHexPrefix)(Q(n.gasPrice))});case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(2),g.cM.error(t.t0);case 27:return t.next=29,this.fetchEthGasPriceEstimate();case 29:return u=t.sent,c=u.gasPrice,t.abrupt("return",{gasPrice:(0,w.addHexPrefix)(Q(c))});case 32:case"end":return t.stop()}}),t,this,[[2,24]])})));return function(e){return t.apply(this,arguments)}}()},{key:"estimateTxGas",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(r=At({},e)).gasPrice,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,t.next=6,this.providerProxy.request({method:"eth_estimateGas",params:[r]});case 6:return n=t.sent,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"analyzeGasUsage",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});case 2:return r=t.sent,n=mt(r.gasLimit),i=gt(n,19,20),o=pt(i),t.prev=6,t.next=9,this.estimateTxGas(e);case 9:o=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),g.cM.warn(t.t0);case 15:return t.abrupt("return",{blockGasLimit:r.gasLimit,estimatedGasHex:o});case 16:case"end":return t.stop()}}),t,this,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"addGasBuffer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5,n=mt(t),i=mt(e),o=i.muln(.9),s=n.muln(r);return n.gt(o)?pt(n):s.lt(o)?pt(s):pt(o)}},{key:"determineTransactionCategory",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.data,n=e.to,i="",!r||n){t.next=6;break}o=xt,t.next=17;break;case 6:return t.prev=6,t.next=9,this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]});case 9:i=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),g.cM.warn(t.t0);case 15:o=!i||"0x"===i||"0x0"===i?bt:wt;case 17:return t.abrupt("return",{transactionCategory:o,code:i});case 18:case"end":return t.stop()}}),t,this,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getDefaultGasLimit",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o,s,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.determineTransactionCategory(At({},e));case 2:if(r=t.sent,n=r.transactionCategory,!e.gas){t.next=6;break}return t.abrupt("return",e.gas);case 6:if(!e.to||n!==bt){t.next=11;break}if(!e.data){t.next=9;break}throw Error("TxGasUtil - Trying to call a function on a non-contract address");case 9:return 21e3,t.abrupt("return",(0,w.addHexPrefix)(21e3.toString(16)));case 11:return t.next=13,this.analyzeGasUsage(e);case 13:return i=t.sent,o=i.blockGasLimit,s=i.estimatedGasHex,a=this.addGasBuffer((0,w.addHexPrefix)(s),o),t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(Object(r),!0).forEach((function(e){(0,f.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,h.Z)(t);if(e){var i=(0,h.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var _t=function(t){(0,u.Z)(r,t);var e=Tt(r);function r(t){var n=t.config,o=t.state;return(0,i.Z)(this,r),e.call(this,{config:{chainConfig:Bt(Bt({},n.chainConfig),{},{chainNamespace:g.EN.EIP155})},state:o})}return(0,o.Z)(r,[{key:"enable",value:function(){var t=(0,n.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.privateKey){t.next=2;break}throw v.Sy.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});case 2:return t.next=4,this.setupProvider(this.state.privateKey);case 4:return t.abrupt("return",this._providerEngineProxy.request({method:"eth_accounts"}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n,i,o,s,a,u,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new St({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=dt({txFormatter:r,privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),i=R(n),o=this.getChainSwitchMiddleware(),s=new m.eI,a=D(this.config.chainConfig),u=a.networkMiddleware,s.push(i),s.push(o),s.push(this.getAccountMiddleware()),s.push(u),c=(0,p.Xj)(s),this.updateProviderEngineProxy(c),t.next=14,r.init();case 14:return t.next=16,this.lookupNetwork();case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"updateAccount",value:function(){var t=(0,n.Z)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._providerEngineProxy){t.next=2;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 2:return t.next=4,this._providerEngineProxy.request({method:"eth_private_key"});case 4:if(t.sent===e.privateKey){t.next=14;break}return t.next=8,this.setupProvider(e.privateKey);case 8:return t.t0=this._providerEngineProxy,t.next=11,this._providerEngineProxy.request({method:"eth_accounts"});case 11:t.t1=t.sent,t.t2={accounts:t.t1},t.t0.emit.call(t.t0,"accountsChanged",t.t2);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"switchChain",value:function(){var t=(0,n.Z)(d().mark((function t(e){var r,n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._providerEngineProxy){t.next=2;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 2:return r=this.getChainConfig(e.chainId),this.update({chainId:"loading"}),this.configure({chainConfig:r}),t.next=7,this._providerEngineProxy.request({method:"eth_private_key"});case 7:return n=t.sent,t.next=10,this.setupProvider(n);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var t=(0,n.Z)(d().mark((function t(){var e,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._providerEngineProxy){t.next=2;break}throw v.Sy.provider.custom({message:"Provider is not initialized",code:4902});case 2:if(e=this.config.chainConfig.chainId){t.next=5;break}throw v.Sy.rpc.invalidParams("chainId is required while lookupNetwork");case 5:return t.next=7,this._providerEngineProxy.request({method:"net_version",params:[]});case 7:if(r=t.sent,parseInt(e,16)===parseInt(r,10)){t.next=10;break}throw v.Sy.provider.chainDisconnected("Invalid network, net_version is: ".concat(r));case 10:return this.state.chainId!==e&&(this._providerEngineProxy.emit("chainChanged",e),this._providerEngineProxy.emit("connect",{chainId:e})),this.update({chainId:e}),t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getChainSwitchMiddleware",value:function(){var t=this;return function(t){var e=t.addChain,r=t.switchChain;function i(){return(i=(0,n.Z)(d().mark((function t(r,n){var i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null!==(i=r.params)&&void 0!==i&&i.length?r.params[0]:void 0){t.next=3;break}throw v.Sy.rpc.invalidParams("Missing chain params");case 3:if(o.chainId){t.next=5;break}throw v.Sy.rpc.invalidParams("Missing chainId in chainParams");case 5:if(o.rpcUrls&&0!==o.rpcUrls.length){t.next=7;break}throw v.Sy.rpc.invalidParams("Missing rpcUrls in chainParams");case 7:if(o.nativeCurrency){t.next=9;break}throw v.Sy.rpc.invalidParams("Missing nativeCurrency in chainParams");case 9:return t.next=11,e(o);case 11:n.result=t.sent;case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(){return(o=(0,n.Z)(d().mark((function t(e,n){var i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null!==(i=e.params)&&void 0!==i&&i.length?e.params[0]:void 0){t.next=3;break}throw v.Sy.rpc.invalidParams("Missing chainId");case 3:return t.next=5,r(o);case 5:n.result=t.sent;case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,m.v0)({wallet_addEthereumChain:(0,m.Pk)((function(t,e){return i.apply(this,arguments)})),wallet_switchEthereumChain:(0,m.Pk)((function(t,e){return o.apply(this,arguments)}))})}({addChain:function(){var e=(0,n.Z)(d().mark((function e(r){var n,i,o,s,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.chainId,i=r.chainName,o=r.rpcUrls,s=r.blockExplorerUrls,a=r.nativeCurrency,t.addChain({chainNamespace:"eip155",chainId:n,ticker:(null===a||void 0===a?void 0:a.symbol)||"ETH",tickerName:(null===a||void 0===a?void 0:a.name)||"Ether",displayName:i,rpcTarget:o[0],blockExplorer:(null===s||void 0===s?void 0:s[0])||""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),switchChain:function(){var e=(0,n.Z)(d().mark((function e(r){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.chainId,e.next=3,t.switchChain({chainId:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}},{key:"getAccountMiddleware",value:function(){var t=this;return function(t){var e=t.updatePrivatekey;function r(){return(r=(0,n.Z)(d().mark((function t(r,n){var i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(o=null!==(i=r.params)&&void 0!==i&&i.length?r.params[0]:void 0)&&void 0!==o&&o.privateKey){t.next=3;break}throw v.Sy.rpc.invalidParams("Missing privateKey");case 3:return t.next=5,e(o);case 5:n.result=t.sent;case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,m.v0)({wallet_updateAccount:(0,m.Pk)((function(t,e){return r.apply(this,arguments)}))})}({updatePrivatekey:function(){var e=(0,n.Z)(d().mark((function e(r){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.privateKey,e.next=3,t.updateAccount({privateKey:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}}]),r}(y.Zk);(0,f.Z)(_t,"getProviderInstance",function(){var t=(0,n.Z)(d().mark((function t(e){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new _t({config:{chainConfig:e.chainConfig}}),t.next=3,r.setupProvider(e.privKey);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},52691:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.Common=void 0;const i=r(92730),o=r(34606),s=r(17187),a=r(50746),u=r(6331),c=r(54135),h=r(35358),f=r(6956),l=r(25564),d=r(44486),p=r(55706),m=r(25403);class g extends s.EventEmitter{constructor(t){super(),this._eips=[],this._customChains=t.customChains??[],this._chainParams=this.setChain(t.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??d.Hardfork.Merge,this.HARDFORK_CHANGES=this.hardforks().map((t=>[t.name,p.hardforks[t.name]])),this._hardfork=this.DEFAULT_HARDFORK,void 0!==t.hardfork&&this.setHardfork(t.hardfork),t.eips&&this.setEIPs(t.eips)}static custom(t,e={}){const r=e.baseChain??"mainnet",n={...g._getChainParams(r)};if(n.name="custom-chain","string"!==typeof t)return new g({chain:{...n,...t},...e});if(t===d.CustomChain.PolygonMainnet)return g.custom({name:d.CustomChain.PolygonMainnet,chainId:137,networkId:137},e);if(t===d.CustomChain.PolygonMumbai)return g.custom({name:d.CustomChain.PolygonMumbai,chainId:80001,networkId:80001},e);if(t===d.CustomChain.ArbitrumRinkebyTestnet)return g.custom({name:d.CustomChain.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},e);if(t===d.CustomChain.xDaiChain)return g.custom({name:d.CustomChain.xDaiChain,chainId:100,networkId:100},e);if(t===d.CustomChain.OptimisticKovan)return g.custom({name:d.CustomChain.OptimisticKovan,chainId:69,networkId:69},{hardfork:d.Hardfork.Berlin,...e});if(t===d.CustomChain.OptimisticEthereum)return g.custom({name:d.CustomChain.OptimisticEthereum,chainId:10,networkId:10},{hardfork:d.Hardfork.Berlin,...e});throw new Error(`Custom chain ${t} not supported`)}static fromGethGenesis(t,{chain:e,genesisHash:r,hardfork:n}){const i=(0,m.parseGethGenesis)(t,e),o=new g({chain:i.name??"custom",customChains:[i],hardfork:n});return void 0!==r&&o.setForkHashes(r),o}static isSupportedChainId(t){const e=this._getInitializedChains();return Boolean(e.names[t.toString()])}static _getChainParams(t,e){const r=this._getInitializedChains(e);if("number"===typeof t||"bigint"===typeof t){if(t=t.toString(),r.names[t]){return r[r.names[t]]}throw new Error(`Chain with ID ${t} not supported`)}if(void 0!==r[t])return r[t];throw new Error(`Chain with name ${t} not supported`)}setChain(t){if("number"===typeof t||"bigint"===typeof t||"string"===typeof t)this._chainParams=g._getChainParams(t,this._customChains);else{if("object"!==typeof t)throw new Error("Wrong input format");{if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const e=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of e)if(!(r in t))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=t}}for(const e of this.hardforks())if(void 0===e.block)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(t){let e=!1;for(const r of this.HARDFORK_CHANGES)r[0]===t&&(this._hardfork!==t&&(this._hardfork=t,this.emit("hardforkChanged",t)),e=!0);if(!e)throw new Error(`Hardfork with name ${t} not supported`)}getHardforkByBlockNumber(t,e){t=(0,i.toType)(t,i.TypeOutput.BigInt),e=(0,i.toType)(e,i.TypeOutput.BigInt);const r=this.hardforks().filter((t=>null!==t.block||null!==t.ttd&&void 0!==t.ttd)),n=r.findIndex((t=>null!==t.ttd&&void 0!==t.ttd));if(r.slice(n+1).findIndex((t=>null!==t.ttd&&void 0!==t.ttd))>=0)throw Error("More than one merge hardforks found with ttd specified");let o,s=r.findIndex((e=>null!==e.block&&e.block>t));if(-1===s)s=r.length-1;else{if(0===s)throw Error("Must have at least one hardfork at block 0");s-=1}if(null===r[s].block)o=void 0===e||null===e||BigInt(r[s].ttd)>e?r[s-1]:r[s];else{if(n>=0&&void 0!==e&&null!==e){if(s>=n&&BigInt(r[n].ttd)>e)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(s<n&&BigInt(r[n].ttd)<=e)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}o=r[s]}return o.name}setHardforkByBlockNumber(t,e){const r=this.getHardforkByBlockNumber(t,e);return this.setHardfork(r),r}_getHardfork(t){const e=this.hardforks();for(const r of e)if(r.name===t)return r;return null}setEIPs(t=[]){for(const e of t){if(!(e in l.EIPs))throw new Error(`${e} not supported`);const r=this.gteHardfork(l.EIPs[e].minimumHardfork);if(!r)throw new Error(`${e} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(void 0!==l.EIPs[e].requiredEIPs)for(const n of l.EIPs[e].requiredEIPs)if(!t.includes(n)&&!this.isActivatedEIP(n))throw new Error(`${e} requires EIP ${n}, but is not included in the EIP list`)}this._eips=t}param(t,e){let r;for(const n of this._eips)if(r=this.paramByEIP(t,e,n),void 0!==r)return r;return this.paramByHardfork(t,e,this._hardfork)}paramByHardfork(t,e,r){let n=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const r=i[1].eips;for(const i of r){const r=this.paramByEIP(t,e,i);n="bigint"===typeof r?r:n}}else{if(void 0===i[1][t])throw new Error(`Topic ${t} not defined`);void 0!==i[1][t][e]&&(n=i[1][t][e].v)}if(i[0]===r)break}return BigInt(n??0)}paramByEIP(t,e,r){if(!(r in l.EIPs))throw new Error(`${r} not supported`);const n=l.EIPs[r];if(!(t in n))throw new Error(`Topic ${t} not defined`);if(void 0===n[t][e])return;const i=n[t][e].v;return BigInt(i)}paramByBlock(t,e,r,n){const i=this.getHardforkByBlockNumber(r,n);return this.paramByHardfork(t,e,i)}isActivatedEIP(t){if(this.eips().includes(t))return!0;for(const e of this.HARDFORK_CHANGES){const r=e[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(t))return!0}return!1}hardforkIsActiveOnBlock(t,e){e=(0,i.toType)(e,i.TypeOutput.BigInt),t=t??this._hardfork;const r=this.hardforkBlock(t);return"bigint"===typeof r&&r!==BigInt(0)&&e>=r}activeOnBlock(t){return this.hardforkIsActiveOnBlock(null,t)}hardforkGteHardfork(t,e){t=t??this._hardfork;const r=this.hardforks();let n=-1,i=-1,o=0;for(const s of r)s.name===t&&(n=o),s.name===e&&(i=o),o+=1;return n>=i&&-1!==i}gteHardfork(t){return this.hardforkGteHardfork(null,t)}hardforkBlock(t){t=t??this._hardfork;const e=this._getHardfork(t)?.block;return void 0===e||null===e?null:BigInt(e)}eipBlock(t){for(const e of this.HARDFORK_CHANGES){const r=e[1];if("eips"in r&&r.eips.includes(t))return this.hardforkBlock(e[0])}return null}hardforkTTD(t){t=t??this._hardfork;const e=this._getHardfork(t)?.ttd;return void 0===e||null===e?null:BigInt(e)}isHardforkBlock(t,e){t=(0,i.toType)(t,i.TypeOutput.BigInt),e=e??this._hardfork;const r=this.hardforkBlock(e);return"bigint"===typeof r&&r!==BigInt(0)&&r===t}nextHardforkBlock(t){t=t??this._hardfork;let e=this.hardforkBlock(t);if(null===e&&t===d.Hardfork.Merge){const t=this.hardforks(),r=t.findIndex((t=>null!==t.ttd&&void 0!==t.ttd));if(r<0)throw Error("Merge hardfork should have been found");e=this.hardforkBlock(t[r-1].name)}if(null===e)return null;return this.hardforks().reduce(((t,r)=>{const n=BigInt(null===r.block||void 0!==r.ttd&&null!==r.ttd?0:r.block);return n>e&&null===t?n:t}),null)}isNextHardforkBlock(t,e){t=(0,i.toType)(t,i.TypeOutput.BigInt),e=e??this._hardfork;const r=this.nextHardforkBlock(e);return null!==r&&r===t}_calcForkHash(t,e){let r=n.alloc(0),s=0;for(const i of this.hardforks()){const{block:e,ttd:o}=i;if("number"===typeof e&&0!==e&&e!==s&&(null===o||void 0===o)){const t=n.from(e.toString(16).padStart(16,"0"),"hex");r=n.concat([r,t])}if(i.name===t)break;"number"===typeof e&&(s=e)}const a=n.concat([e,r]);return`0x${(0,i.intToBuffer)((0,o.buf)(a)>>>0).toString("hex")}`}forkHash(t,e){t=t??this._hardfork;const r=this._getHardfork(t);if(null===r||null===r?.block&&void 0===r?.ttd){throw new Error("No fork hash calculation possible for future hardfork")}if(null!==r?.forkHash&&void 0!==r?.forkHash)return r.forkHash;if(!e)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(t,e)}hardforkForForkHash(t){const e=this.hardforks().filter((e=>e.forkHash===t));return e.length>=1?e[e.length-1]:null}setForkHashes(t){for(const e of this.hardforks())null!==e.forkHash&&void 0!==e.forkHash||"undefined"===typeof e.block||null===e.block&&"undefined"===typeof e.ttd||(e.forkHash=this.forkHash(e.name,t))}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const t=this.hardfork();let e;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(e=r[1].consensus.type),r[0]===t)break;return e??this._chainParams.consensus.type}consensusAlgorithm(){const t=this.hardfork();let e;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(e=r[1].consensus.algorithm),r[0]===t)break;return e??this._chainParams.consensus.algorithm}consensusConfig(){const t=this.hardfork();let e;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(e=r[1].consensus[r[1].consensus.algorithm]),r[0]===t)break;return e??this._chainParams.consensus[this.consensusAlgorithm()]}copy(){const t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.removeAllListeners(),t}static _getInitializedChains(t){const e={};for(const[n,i]of Object.entries(d.Chain))e[i]=n.toLowerCase();const r={mainnet:u,ropsten:h,rinkeby:c,goerli:a,sepolia:f};if(t)for(const n of t){const{name:t}=n;e[n.chainId.toString()]=t,r[t]=n}return r.names=e,r}}e.Common=g},25564:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EIPs=void 0,e.EIPs={1153:r(27303),1559:r(57346),2315:r(39774),2537:r(16928),2565:r(78143),2718:r(45620),2929:r(93689),2930:r(58631),3074:r(16234),3198:r(37079),3529:r(88179),3540:r(48803),3541:r(812),3554:r(81884),3607:r(12887),3651:r(99349),3670:r(92914),3675:r(6131),3855:r(86035),3860:r(19331),4345:r(85878),4399:r(84648),5133:r(21471)}},44486:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomChain=e.ConsensusAlgorithm=e.ConsensusType=e.Hardfork=e.Chain=void 0,function(t){t[t.Mainnet=1]="Mainnet",t[t.Ropsten=3]="Ropsten",t[t.Rinkeby=4]="Rinkeby",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"}(e.Chain||(e.Chain={})),function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai"}(e.Hardfork||(e.Hardfork={})),function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"}(e.ConsensusType||(e.ConsensusType={})),function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"}(e.ConsensusAlgorithm||(e.ConsensusAlgorithm={})),function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"}(e.CustomChain||(e.CustomChain={}))},55706:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hardforks=void 0,e.hardforks={chainstart:r(41220),homestead:r(35109),dao:r(39684),tangerineWhistle:r(28092),spuriousDragon:r(47466),byzantium:r(25239),constantinople:r(72175),petersburg:r(73983),istanbul:r(97947),muirGlacier:r(42119),berlin:r(63430),london:r(22354),shanghai:r(9988),arrowGlacier:r(28748),grayGlacier:r(95536),mergeForkIdTransition:r(70953),merge:r(71722)}},5382:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(52691),e),i(r(44486),e),i(r(44978),e),i(r(25403),e)},44978:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},25403:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseGethGenesis=void 0;const n=r(92730),i=r(44486);function o(t){const{name:e,config:r,difficulty:o,mixHash:s,gasLimit:a,coinbase:u,baseFeePerGas:c}=t;let{extraData:h,timestamp:f,nonce:l}=t;const{chainId:d}=r;if(""===h&&(h="0x"),(0,n.isHexPrefixed)(f)||(f=(0,n.intToHex)(parseInt(f))),18!==l.length&&(l=function(t){return t&&"0x0"!==t?(0,n.isHexPrefixed)(t)?"0x"+(0,n.stripHexPrefix)(t).padStart(16,"0"):"0x"+t.padStart(16,"0"):"0x0000000000000000"}(l)),r.eip155Block!==r.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const p={name:e,chainId:d,networkId:d,genesis:{timestamp:f,gasLimit:parseInt(a),difficulty:parseInt(o),nonce:l,extraData:h,mixHash:s,coinbase:u,baseFeePerGas:c},bootstrapNodes:[],consensus:void 0!==r.clique?{type:"poa",algorithm:"clique",clique:{period:r.clique.period,epoch:r.clique.epoch}}:{type:"pow",algorithm:"ethash",ethash:{}}},m={[i.Hardfork.Homestead]:"homesteadBlock",[i.Hardfork.Dao]:"daoForkBlock",[i.Hardfork.TangerineWhistle]:"eip150Block",[i.Hardfork.SpuriousDragon]:"eip155Block",[i.Hardfork.Byzantium]:"byzantiumBlock",[i.Hardfork.Constantinople]:"constantinopleBlock",[i.Hardfork.Petersburg]:"petersburgBlock",[i.Hardfork.Istanbul]:"istanbulBlock",[i.Hardfork.MuirGlacier]:"muirGlacierBlock",[i.Hardfork.Berlin]:"berlinBlock",[i.Hardfork.London]:"londonBlock",[i.Hardfork.MergeForkIdTransition]:"mergeForkBlock"};return p.hardforks=Object.values(i.Hardfork).map((t=>({name:t,block:t===i.Hardfork.Chainstart?0:r[m[t]]??null}))).filter((t=>null!==t.block)),void 0!==r.terminalTotalDifficulty&&p.hardforks.push({name:i.Hardfork.Merge,ttd:r.terminalTotalDifficulty,block:null}),p}e.parseGethGenesis=function(t,e){try{if(["config","difficulty","gasLimit","alloc"].some((e=>!(e in t))))throw new Error("Invalid format, expected geth genesis fields missing");return void 0!==e&&(t.name=e),o(t)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}},9436:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTransaction=void 0;const n=r(5382),i=r(92730),o=r(69428);e.BaseTransaction=class{constructor(t,e){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=n.Chain.Mainnet,this.DEFAULT_HARDFORK=n.Hardfork.Merge;const{nonce:r,gasLimit:o,to:s,value:a,data:u,v:c,r:h,s:f,type:l}=t;this._type=Number((0,i.bufferToBigInt)((0,i.toBuffer)(l))),this.txOptions=e;const d=(0,i.toBuffer)(""===s?"0x":s),p=(0,i.toBuffer)(""===c?"0x":c),m=(0,i.toBuffer)(""===h?"0x":h),g=(0,i.toBuffer)(""===f?"0x":f);this.nonce=(0,i.bufferToBigInt)((0,i.toBuffer)(""===r?"0x":r)),this.gasLimit=(0,i.bufferToBigInt)((0,i.toBuffer)(""===o?"0x":o)),this.to=d.length>0?new i.Address(d):void 0,this.value=(0,i.bufferToBigInt)((0,i.toBuffer)(""===a?"0x":a)),this.data=(0,i.toBuffer)(""===u?"0x":u),this.v=p.length>0?(0,i.bufferToBigInt)(p):void 0,this.r=m.length>0?(0,i.bufferToBigInt)(m):void 0,this.s=g.length>0?(0,i.bufferToBigInt)(g):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0)}get type(){return this._type}supports(t){return this.activeCapabilities.includes(t)}validate(t=!1){const e=[];return this.getBaseFee()>this.gasLimit&&e.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&e.push("Invalid Signature"),t?e:0===e.length}_validateYParity(){const{v:t}=this;if(void 0!==t&&t!==BigInt(0)&&t!==BigInt(1)){const t=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(t)}}_validateHighS(){const{s:t}=this;if(this.common.gteHardfork("homestead")&&void 0!==t&&t>i.SECP256K1_ORDER_DIV_2){const t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(t)}}getBaseFee(){const t=this.common.param("gasPrices","tx");let e=this.getDataFee();if(t&&(e+=t),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const t=this.common.param("gasPrices","txCreation");t&&(e+=t)}return e}getDataFee(){const t=this.common.param("gasPrices","txDataZero"),e=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let n=0;n<this.data.length;n++)0===this.data[n]?r+=t:r+=e;if((void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){const t=BigInt(Math.ceil(this.data.length/32));r+=this.common.param("gasPrices","initCodeWordCost")*t}return r}toCreationAddress(){return void 0===this.to||0===this.to.buf.length}isSigned(){const{v:t,r:e,s:r}=this;return void 0!==t&&void 0!==e&&void 0!==r}verifySignature(){try{const t=this.getSenderPublicKey();return 0!==(0,i.unpadBuffer)(t).length}catch(t){return!1}}getSenderAddress(){return new i.Address((0,i.publicToAddress)(this.getSenderPublicKey()))}sign(t){if(32!==t.length){const t=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(t)}let e=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(o.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(o.Capability.EIP155ReplayProtection),e=!0);const r=this.getMessageToSign(!0),{v:n,r:s,s:a}=(0,i.ecsign)(r,t),u=this._processSignature(n,s,a);if(e){const t=this.activeCapabilities.indexOf(o.Capability.EIP155ReplayProtection);t>-1&&this.activeCapabilities.splice(t,1)}return u}_getCommon(t,e){if(void 0!==e){const r=(0,i.bufferToBigInt)((0,i.toBuffer)(e));if(t){if(t.chainId()!==r){const t=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(t)}return t.copy()}return n.Common.isSupportedChainId(r)?new n.Common({chain:r,hardfork:this.DEFAULT_HARDFORK}):n.Common.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}return t?.copy()??new n.Common({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(t,e=256,r=!1){for(const[n,o]of Object.entries(t))switch(e){case 64:if(r){if(void 0!==o&&o>=i.MAX_UINT64){const t=this._errorMsg(`${n} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(t)}}else if(void 0!==o&&o>i.MAX_UINT64){const t=this._errorMsg(`${n} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(t)}break;case 256:if(r){if(void 0!==o&&o>=i.MAX_INTEGER){const t=this._errorMsg(`${n} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(t)}}else if(void 0!==o&&o>i.MAX_INTEGER){const t=this._errorMsg(`${n} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(t)}break;default:{const t=this._errorMsg("unimplemented bits value");throw new Error(t)}}}static _validateNotArray(t){const e=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,n]of Object.entries(t))if(e.includes(r)&&Array.isArray(n))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let t="";try{t=this.isSigned()?(0,i.bufferToHex)(this.hash()):"not available (unsigned)"}catch(o){t="error"}let e="";try{e=this.isSigned().toString()}catch(o){t="error"}let r="";try{r=this.common.hardfork()}catch(o){r="error"}let n=`tx type=${this.type} hash=${t} nonce=${this.nonce} value=${this.value} `;return n+=`signed=${e} hf=${r}`,n}}},11911:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.FeeMarketEIP1559Transaction=void 0;const i=r(5507),o=r(92730),s=r(82192),a=r(9436),u=r(85219),c=n.from(2..toString(16).padStart(2,"0"),"hex");class h extends a.BaseTransaction{constructor(t,e={}){super({...t,type:2},e),this.DEFAULT_HARDFORK="london";const{chainId:r,accessList:n,maxFeePerGas:i,maxPriorityFeePerGas:s}=t;if(this.common=this._getCommon(e.common,r),this.chainId=this.common.chainId(),!1===this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const c=u.AccessLists.getAccessListData(n??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,u.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,o.bufferToBigInt)((0,o.toBuffer)(""===i?"0x":i)),this.maxPriorityFeePerGas=(0,o.bufferToBigInt)((0,o.toBuffer)(""===s?"0x":s)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),a.BaseTransaction._validateNotArray(t),this.gasLimit*this.maxFeePerGas>o.MAX_INTEGER){const t=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(t)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const t=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(t)}this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,u.checkMaxInitCodeSize)(this.common,this.data.length);(e?.freeze??!0)&&Object.freeze(this)}static fromTxData(t,e={}){return new h(t,e)}static fromSerializedTx(t,e={}){if(!t.slice(0,1).equals(c))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: ${t.slice(0,1).toString("hex")}`);const r=(0,o.arrToBufArr)(i.RLP.decode(t.slice(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return h.fromValuesArray(r,e)}static fromValuesArray(t,e={}){if(9!==t.length&&12!==t.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,n,i,s,a,u,c,f,l,d,p,m]=t;return this._validateNotArray({chainId:r,v:d}),(0,o.validateNoLeadingZeroes)({nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:a,value:c,v:d,r:p,s:m}),new h({chainId:(0,o.bufferToBigInt)(r),nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:a,to:u,value:c,data:f,accessList:l??[],v:void 0!==d?(0,o.bufferToBigInt)(d):void 0,r:p,s:m},e)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let t=super.getDataFee();return t+=BigInt(u.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t}getUpfrontCost(t=BigInt(0)){const e=this.maxPriorityFeePerGas,r=this.maxFeePerGas-t,n=(e<r?e:r)+t;return this.gasLimit*n+this.value}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.chainId),(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,o.bigIntToUnpaddedBuffer)(this.maxFeePerGas),(0,o.bigIntToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,o.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,o.bigIntToUnpaddedBuffer)(this.v):n.from([]),void 0!==this.r?(0,o.bigIntToUnpaddedBuffer)(this.r):n.from([]),void 0!==this.s?(0,o.bigIntToUnpaddedBuffer)(this.s):n.from([])]}serialize(){const t=this.raw();return n.concat([c,n.from(i.RLP.encode((0,o.bufArrToArr)(t)))])}getMessageToSign(t=!0){const e=this.raw().slice(0,9),r=n.concat([c,n.from(i.RLP.encode((0,o.bufArrToArr)(e)))]);return t?n.from((0,s.keccak256)(r)):r}hash(){if(!this.isSigned()){const t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=n.from((0,s.keccak256)(this.serialize()))),this.cache.hash):n.from((0,s.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const t=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(t)}const t=this.getMessageToVerifySignature(),{v:e,r:r,s:n}=this;this._validateHighS();try{return(0,o.ecrecover)(t,e+BigInt(27),(0,o.bigIntToUnpaddedBuffer)(r),(0,o.bigIntToUnpaddedBuffer)(n))}catch(i){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(t,e,r){const n={...this.txOptions,common:this.common};return h.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t-BigInt(27),r:(0,o.bufferToBigInt)(e),s:(0,o.bufferToBigInt)(r)},n)}toJSON(){const t=u.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,o.bigIntToHex)(this.chainId),nonce:(0,o.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,o.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,o.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,o.bigIntToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,o.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:void 0!==this.v?(0,o.bigIntToHex)(this.v):void 0,r:void 0!==this.r?(0,o.bigIntToHex)(this.r):void 0,s:void 0!==this.s?(0,o.bigIntToHex)(this.s):void 0}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}}e.FeeMarketEIP1559Transaction=h},90516:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessListEIP2930Transaction=void 0;const i=r(5507),o=r(92730),s=r(82192),a=r(9436),u=r(85219),c=n.from(1..toString(16).padStart(2,"0"),"hex");class h extends a.BaseTransaction{constructor(t,e={}){super({...t,type:1},e),this.DEFAULT_HARDFORK="berlin";const{chainId:r,accessList:n,gasPrice:i}=t;if(this.common=this._getCommon(e.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const s=u.AccessLists.getAccessListData(n??[]);if(this.accessList=s.accessList,this.AccessListJSON=s.AccessListJSON,u.AccessLists.verifyAccessList(this.accessList),this.gasPrice=(0,o.bufferToBigInt)((0,o.toBuffer)(""===i?"0x":i)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),a.BaseTransaction._validateNotArray(t),this.gasPrice*this.gasLimit>o.MAX_INTEGER){const t=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(t)}this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,u.checkMaxInitCodeSize)(this.common,this.data.length);(e?.freeze??!0)&&Object.freeze(this)}static fromTxData(t,e={}){return new h(t,e)}static fromSerializedTx(t,e={}){if(!t.slice(0,1).equals(c))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: ${t.slice(0,1).toString("hex")}`);const r=(0,o.arrToBufArr)(i.RLP.decode(Uint8Array.from(t.slice(1))));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return h.fromValuesArray(r,e)}static fromValuesArray(t,e={}){if(8!==t.length&&11!==t.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,n,i,s,a,u,c,f,l,d,p]=t;this._validateNotArray({chainId:r,v:l}),(0,o.validateNoLeadingZeroes)({nonce:n,gasPrice:i,gasLimit:s,value:u,v:l,r:d,s:p});return new h({chainId:(0,o.bufferToBigInt)(r),nonce:n,gasPrice:i,gasLimit:s,to:a,value:u,data:c,accessList:f??[],v:void 0!==l?(0,o.bufferToBigInt)(l):void 0,r:d,s:p},e)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let t=super.getDataFee();return t+=BigInt(u.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.chainId),(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.gasPrice),(0,o.bigIntToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,o.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,o.bigIntToUnpaddedBuffer)(this.v):n.from([]),void 0!==this.r?(0,o.bigIntToUnpaddedBuffer)(this.r):n.from([]),void 0!==this.s?(0,o.bigIntToUnpaddedBuffer)(this.s):n.from([])]}serialize(){const t=this.raw();return n.concat([c,n.from(i.RLP.encode((0,o.bufArrToArr)(t)))])}getMessageToSign(t=!0){const e=this.raw().slice(0,8),r=n.concat([c,n.from(i.RLP.encode((0,o.bufArrToArr)(e)))]);return t?n.from((0,s.keccak256)(r)):r}hash(){if(!this.isSigned()){const t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=n.from((0,s.keccak256)(this.serialize()))),this.cache.hash):n.from((0,s.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const t=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(t)}const t=this.getMessageToVerifySignature(),{v:e,r:r,s:n}=this;this._validateHighS();try{return(0,o.ecrecover)(t,e+BigInt(27),(0,o.bigIntToUnpaddedBuffer)(r),(0,o.bigIntToUnpaddedBuffer)(n))}catch(i){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(t,e,r){const n={...this.txOptions,common:this.common};return h.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t-BigInt(27),r:(0,o.bufferToBigInt)(e),s:(0,o.bufferToBigInt)(r)},n)}toJSON(){const t=u.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,o.bigIntToHex)(this.chainId),nonce:(0,o.bigIntToHex)(this.nonce),gasPrice:(0,o.bigIntToHex)(this.gasPrice),gasLimit:(0,o.bigIntToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,o.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:void 0!==this.v?(0,o.bigIntToHex)(this.v):void 0,r:void 0!==this.r?(0,o.bigIntToHex)(this.r):void 0,s:void 0!==this.s?(0,o.bigIntToHex)(this.s):void 0}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice} accessListCount=${this.accessList?.length??0}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}}e.AccessListEIP2930Transaction=h},51421:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeTxParams=void 0;const n=r(92730);e.normalizeTxParams=t=>{const e=Object.assign({},t);return e.gasLimit=(0,n.toType)(e.gasLimit??e.gas,n.TypeOutput.BigInt),e.data=void 0===e.data?e.input:e.data,e.gasPrice=void 0!==e.gasPrice?BigInt(e.gasPrice):void 0,e.value=void 0!==e.value?BigInt(e.value):void 0,e.to=null!==e.to&&void 0!==e.to?(0,n.setLengthLeft)((0,n.toBuffer)(e.to),20):null,e.v=(0,n.toType)(e.v,n.TypeOutput.BigInt),e}},33158:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionFactory=e.Transaction=e.AccessListEIP2930Transaction=e.FeeMarketEIP1559Transaction=void 0;var o=r(11911);Object.defineProperty(e,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return o.FeeMarketEIP1559Transaction}});var s=r(90516);Object.defineProperty(e,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return s.AccessListEIP2930Transaction}});var a=r(32839);Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return a.Transaction}});var u=r(8289);Object.defineProperty(e,"TransactionFactory",{enumerable:!0,get:function(){return u.TransactionFactory}}),i(r(69428),e)},32839:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=void 0;const i=r(5507),o=r(92730),s=r(82192),a=r(9436),u=r(69428),c=r(85219);function h(t,e){const r=Number(t),n=2*Number(e);return r===n+35||r===n+36}class f extends a.BaseTransaction{constructor(t,e={}){if(super({...t,type:0},e),this.common=this._validateTxV(this.v,e.common),this.gasPrice=(0,o.bufferToBigInt)((0,o.toBuffer)(""===t.gasPrice?"0x":t.gasPrice)),this.gasPrice*this.gasLimit>o.MAX_INTEGER){const t=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(t)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),a.BaseTransaction._validateNotArray(t),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?h(this.v,this.common.chainId())&&this.activeCapabilities.push(u.Capability.EIP155ReplayProtection):this.activeCapabilities.push(u.Capability.EIP155ReplayProtection)),this.common.isActivatedEIP(3860)&&(0,c.checkMaxInitCodeSize)(this.common,this.data.length);(e?.freeze??!0)&&Object.freeze(this)}static fromTxData(t,e={}){return new f(t,e)}static fromSerializedTx(t,e={}){const r=(0,o.arrToBufArr)(i.RLP.decode(Uint8Array.from(t)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,e)}static fromValuesArray(t,e={}){if(6!==t.length&&9!==t.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,n,i,s,a,u,c,h,l]=t;return(0,o.validateNoLeadingZeroes)({nonce:r,gasPrice:n,gasLimit:i,value:a,v:c,r:h,s:l}),new f({nonce:r,gasPrice:n,gasLimit:i,to:s,value:a,data:u,v:c,r:h,s:l},e)}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.gasPrice),(0,o.bigIntToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,o.bigIntToUnpaddedBuffer)(this.value),this.data,void 0!==this.v?(0,o.bigIntToUnpaddedBuffer)(this.v):n.from([]),void 0!==this.r?(0,o.bigIntToUnpaddedBuffer)(this.r):n.from([]),void 0!==this.s?(0,o.bigIntToUnpaddedBuffer)(this.s):n.from([])]}serialize(){return n.from(i.RLP.encode((0,o.bufArrToArr)(this.raw())))}_getMessageToSign(){const t=[(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.gasPrice),(0,o.bigIntToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,o.bigIntToUnpaddedBuffer)(this.value),this.data];return this.supports(u.Capability.EIP155ReplayProtection)&&(t.push((0,o.toBuffer)(this.common.chainId())),t.push((0,o.unpadBuffer)((0,o.toBuffer)(0))),t.push((0,o.unpadBuffer)((0,o.toBuffer)(0)))),t}getMessageToSign(t=!0){const e=this._getMessageToSign();return t?n.from((0,s.keccak256)(i.RLP.encode((0,o.bufArrToArr)(e)))):e}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=n.from((0,s.keccak256)(i.RLP.encode((0,o.bufArrToArr)(this.raw()))))),this.cache.hash):n.from((0,s.keccak256)(i.RLP.encode((0,o.bufArrToArr)(this.raw()))))}getMessageToVerifySignature(){if(!this.isSigned()){const t=this._errorMsg("This transaction is not signed");throw new Error(t)}const t=this._getMessageToSign();return n.from((0,s.keccak256)(i.RLP.encode((0,o.bufArrToArr)(t))))}getSenderPublicKey(){const t=this.getMessageToVerifySignature(),{v:e,r:r,s:n}=this;this._validateHighS();try{return(0,o.ecrecover)(t,e,(0,o.bigIntToUnpaddedBuffer)(r),(0,o.bigIntToUnpaddedBuffer)(n),this.supports(u.Capability.EIP155ReplayProtection)?this.common.chainId():void 0)}catch(i){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(t,e,r){this.supports(u.Capability.EIP155ReplayProtection)&&(t+=this.common.chainId()*BigInt(2)+BigInt(8));const n={...this.txOptions,common:this.common};return f.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:t,r:(0,o.bufferToBigInt)(e),s:(0,o.bufferToBigInt)(r)},n)}toJSON(){return{nonce:(0,o.bigIntToHex)(this.nonce),gasPrice:(0,o.bigIntToHex)(this.gasPrice),gasLimit:(0,o.bigIntToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,o.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),v:void 0!==this.v?(0,o.bigIntToHex)(this.v):void 0,r:void 0!==this.r?(0,o.bigIntToHex)(this.r):void 0,s:void 0!==this.s?(0,o.bigIntToHex)(this.s):void 0}}_validateTxV(t,e){let r;const n=void 0!==t?Number(t):void 0;if(void 0!==n&&n<37&&27!==n&&28!==n)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${n}`);if(void 0!==n&&0!==n&&(!e||e.gteHardfork("spuriousDragon"))&&27!==n&&28!==n)if(e){if(!h(BigInt(n),e.chainId()))throw new Error(`Incompatible EIP155-based V ${n} and chain id ${e.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let t;t=(n-35)%2===0?35:36,r=BigInt(n-t)/BigInt(2)}return this._getCommon(e,r)}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}}e.Transaction=f},8289:function(t,e,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionFactory=void 0;const i=r(92730),o=r(82045),s=r(11911),a=r(90516),u=r(51421),c=r(32839);class h{constructor(){}static fromTxData(t,e={}){if("type"in t&&void 0!==t.type){const r=Number((0,i.bufferToBigInt)((0,i.toBuffer)(t.type)));if(0===r)return c.Transaction.fromTxData(t,e);if(1===r)return a.AccessListEIP2930Transaction.fromTxData(t,e);if(2===r)return s.FeeMarketEIP1559Transaction.fromTxData(t,e);throw new Error(`Tx instantiation with type ${r} not supported`)}return c.Transaction.fromTxData(t,e)}static fromSerializedData(t,e={}){if(t[0]<=127){let r;switch(t[0]){case 1:r=2930;break;case 2:r=1559;break;default:throw new Error(`TypedTransaction with ID ${t[0]} unknown`)}return 1559===r?s.FeeMarketEIP1559Transaction.fromSerializedTx(t,e):a.AccessListEIP2930Transaction.fromSerializedTx(t,e)}return c.Transaction.fromSerializedTx(t,e)}static fromBlockBodyData(t,e={}){if(n.isBuffer(t))return this.fromSerializedData(t,e);if(Array.isArray(t))return c.Transaction.fromValuesArray(t,e);throw new Error("Cannot decode transaction: unknown type input")}static async fromEthersProvider(t,e,r){const n="string"===typeof t?new o.ethers.providers.JsonRpcProvider(t):t,i=await n.send("eth_getTransactionByHash",[e]),s=(0,u.normalizeTxParams)(i);return h.fromTxData(s,r)}}e.TransactionFactory=h},69428:function(t,e){"use strict";function r(t){if(0===t.length)return!0;const e=t[0];return!!Array.isArray(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isAccessList=e.isAccessListBuffer=e.Capability=void 0,function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"}(e.Capability||(e.Capability={})),e.isAccessListBuffer=r,e.isAccessList=function(t){return!r(t)}},85219:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessLists=e.checkMaxInitCodeSize=void 0;const n=r(92730),i=r(69428);e.checkMaxInitCodeSize=function(t,e){const r=t.param("vm","maxInitCodeSize");if(r&&BigInt(e)>r)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)};e.AccessLists=class{static getAccessListData(t){let e,r;if((0,i.isAccessList)(t)){e=t;const i=[];for(let e=0;e<t.length;e++){const r=t[e],o=(0,n.toBuffer)(r.address),s=[];for(let t=0;t<r.storageKeys.length;t++)s.push((0,n.toBuffer)(r.storageKeys[t]));i.push([o,s])}r=i}else{r=t??[];const i=[];for(let t=0;t<r.length;t++){const e=r[t],o=(0,n.bufferToHex)(e[0]),s=[];for(let t=0;t<e[1].length;t++)s.push((0,n.bufferToHex)(e[1][t]));const a={address:o,storageKeys:s};i.push(a)}e=i}return{AccessListJSON:e,accessList:r}}static verifyAccessList(t){for(let e=0;e<t.length;e++){const r=t[e],n=r[0],i=r[1];if(void 0!==r[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!==n.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let t=0;t<i.length;t++)if(32!==i[t].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(t){const e=[];for(let r=0;r<t.length;r++){const i=t[r],o={address:"0x"+(0,n.setLengthLeft)(i[0],20).toString("hex"),storageKeys:[]},s=i[1];for(let t=0;t<s.length;t++){const e=s[t];o.storageKeys.push("0x"+(0,n.setLengthLeft)(e,32).toString("hex"))}e.push(o)}return e}static getDataFeeEIP2930(t,e){const r=e.param("gasPrices","accessListStorageKeyCost"),n=e.param("gasPrices","accessListAddressCost");let i=0;for(let o=0;o<t.length;o++){i+=t[o][1].length}return t.length*Number(n)+i*Number(r)}}},21925:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(29704).Buffer}catch(I){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=c(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(t,h,t.length,e),h=0;h<s;h++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(I){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],h=p[t];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(h).toString(t);r=(f=f.idivn(h)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,f=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[c]=0|f,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,h=0|s[0],f=8191&h,l=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,b=0|s[3],w=8191&b,x=b>>>13,k=0|s[4],M=8191&k,E=k>>>13,P=0|s[5],A=8191&P,S=P>>>13,I=0|s[6],B=8191&I,T=I>>>13,_=0|s[7],O=8191&_,C=_>>>13,L=0|s[8],H=8191&L,R=L>>>13,F=0|s[9],N=8191&F,D=F>>>13,U=0|a[0],j=8191&U,z=U>>>13,Z=0|a[1],G=8191&Z,$=Z>>>13,K=0|a[2],q=8191&K,V=K>>>13,J=0|a[3],W=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ht=0|a[8],ft=8191&ht,lt=ht>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,j)|0))<<13)|0;c=((o=Math.imul(l,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(m,j)|0,o=Math.imul(m,z);var yt=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,G)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,z))+Math.imul(v,j)|0,o=Math.imul(v,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,$)|0;var vt=(c+(n=n+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(l,q)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(x,j)|0,o=Math.imul(x,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var bt=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(E,j)|0,o=Math.imul(E,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,$)|0,n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,q)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(S,j)|0,o=Math.imul(S,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var xt=(c+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(T,j)|0,o=Math.imul(T,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,z))+Math.imul(C,j)|0,o=Math.imul(C,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Mt=(c+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(H,j),i=(i=Math.imul(H,z))+Math.imul(R,j)|0,o=Math.imul(R,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(D,j)|0,o=Math.imul(D,z),n=n+Math.imul(H,G)|0,i=(i=i+Math.imul(H,$)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,$)|0,n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,o=o+Math.imul(m,lt)|0;var Pt=(c+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(N,G),i=(i=Math.imul(N,$))+Math.imul(D,G)|0,o=Math.imul(D,$),n=n+Math.imul(H,q)|0,i=(i=i+Math.imul(H,V)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,V)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(H,W)|0,i=(i=i+Math.imul(H,X)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(x,ft)|0,o=o+Math.imul(x,lt)|0;var St=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,X))+Math.imul(D,W)|0,o=Math.imul(D,X),n=n+Math.imul(H,Q)|0,i=(i=i+Math.imul(H,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(M,ft)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(E,ft)|0,o=o+Math.imul(E,lt)|0;var It=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(H,rt)|0,i=(i=i+Math.imul(H,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,lt)|0;var Bt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(N,rt),i=(i=Math.imul(N,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(H,ot)|0,i=(i=i+Math.imul(H,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,lt)|0)+Math.imul(T,ft)|0,o=o+Math.imul(T,lt)|0;var Tt=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(N,ot),i=(i=Math.imul(N,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(H,ut)|0,i=(i=i+Math.imul(H,ct)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,ct)|0,n=n+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,lt)|0;var _t=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(N,ut),i=(i=Math.imul(N,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(H,ft)|0,i=(i=i+Math.imul(H,lt)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,lt)|0;var Ot=(c+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(C,pt)|0))<<13)|0;c=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(N,ft),i=(i=Math.imul(N,lt))+Math.imul(D,ft)|0,o=Math.imul(D,lt);var Ct=(c+(n=n+Math.imul(H,pt)|0)|0)+((8191&(i=(i=i+Math.imul(H,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Lt=(c+(n=Math.imul(N,pt))|0)+((8191&(i=(i=Math.imul(N,mt))+Math.imul(D,pt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=xt,u[6]=kt,u[7]=Mt,u[8]=Et,u[9]=Pt,u[10]=At,u[11]=St,u[12]=It,u[13]=Bt,u[14]=Tt,u[15]=_t,u[16]=Ot,u[17]=Ct,u[18]=Lt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,f=(0|t.words[h])*(0|e.words[c]),l=67108863&f;a=67108863&(l=l+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(t,e,r){return y(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):v(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var f=u,l=c,d=0;d<s;d++){var p=r[h+d],m=n[h+d],g=r[h+d+s],y=n[h+d+s],v=f*g-l*y;y=f*y+l*g,g=v,r[h+d]=p+g,n[h+d]=m+y,r[h+d+s]=p-g,n[h+d+s]=m-y,d!==a&&(v=u*f-c*l,l=u*l+c*f,f=v)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,h,f,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var f=0|this.words[c];this.words[c]=h<<26-o|f>>>o,h=f&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0===(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,l=1;0===(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function x(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},x.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},x.prototype.split=function(t,e){t.iushrn(this.n,0,e)},x.prototype.imulK=function(t){return t.imul(this.k)},i(k,x),k.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},k.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(M,x),i(E,x),i(P,x),P.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new k;else if("p224"===t)e=new M;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new P}return w[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var f=this.pow(h,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new o(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],h=u-1;h>=0;h--){var f=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,A),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},34606:function(t,e){var r;r=function(t){t.version="1.2.2";var e=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!==typeof Int32Array?new Int32Array(e):e}(),r=function(t){var e=0,r=0,n=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)i[n]=t[n];for(n=0;256!=n;++n)for(r=t[n],e=256+n;e<4096;e+=256)r=i[e]=r>>>8^t[255&r];var o=[];for(n=1;16!=n;++n)o[n-1]="undefined"!==typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return o}(e),n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],c=r[6],h=r[7],f=r[8],l=r[9],d=r[10],p=r[11],m=r[12],g=r[13],y=r[14];t.table=e,t.bstr=function(t,r){for(var n=-1^r,i=0,o=t.length;i<o;)n=n>>>8^e[255&(n^t.charCodeAt(i++))];return~n},t.buf=function(t,r){for(var v=-1^r,b=t.length-15,w=0;w<b;)v=y[t[w++]^255&v]^g[t[w++]^v>>8&255]^m[t[w++]^v>>16&255]^p[t[w++]^v>>>24]^d[t[w++]]^l[t[w++]]^f[t[w++]]^h[t[w++]]^c[t[w++]]^u[t[w++]]^a[t[w++]]^s[t[w++]]^o[t[w++]]^i[t[w++]]^n[t[w++]]^e[t[w++]];for(b+=15;w<b;)v=v>>>8^e[255&(v^t[w++])];return~v},t.str=function(t,r){for(var n=-1^r,i=0,o=t.length,s=0,a=0;i<o;)(s=t.charCodeAt(i++))<128?n=n>>>8^e[255&(n^s)]:s<2048?n=(n=n>>>8^e[255&(n^(192|s>>6&31))])>>>8^e[255&(n^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),a=1023&t.charCodeAt(i++),n=(n=(n=(n=n>>>8^e[255&(n^(240|s>>8&7))])>>>8^e[255&(n^(128|s>>2&63))])>>>8^e[255&(n^(128|a>>6&15|(3&s)<<4))])>>>8^e[255&(n^(128|63&a))]):n=(n=(n=n>>>8^e[255&(n^(224|s>>12&15))])>>>8^e[255&(n^(128|s>>6&63))])>>>8^e[255&(n^(128|63&s))];return~n}},"undefined"===typeof DO_NOT_EXPORT_CRC?r(e):r({})},82192:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keccak512=e.keccak384=e.keccak256=e.keccak224=void 0;const n=r(84589),i=r(58040);e.keccak224=(0,i.wrapHash)(n.keccak_224),e.keccak256=(()=>{const t=(0,i.wrapHash)(n.keccak_256);return t.create=n.keccak_256.create,t})(),e.keccak384=(0,i.wrapHash)(n.keccak_384),e.keccak512=(0,i.wrapHash)(n.keccak_512)},79131:function(t,e){"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function n(t){if("boolean"!==typeof t)throw new Error(`Expected boolean, not ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function o(t){if("function"!==typeof t||"function"!==typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)}function s(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=r,e.bool=n,e.bytes=i,e.hash=o,e.exists=s,e.output=a;const u={number:r,bool:n,bytes:i,hash:o,exists:s,output:a};e.default=u},14955:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const n=r(79131),i=r(23037);class o extends i.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.createView)(this.buffer)}update(t){n.default.exists(this);const{view:e,buffer:r,blockLen:o}=this,s=(t=(0,i.toBytes)(t)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(e,0),this.pos=0);else{const e=(0,i.createView)(t);for(;o<=s-n;n+=o)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){n.default.exists(this),n.default.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let n=a;n<o;n++)e[n]=0;!function(t,e,r,n){if("function"===typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+c,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const u=(0,i.createView)(t);this.get().forEach(((t,e)=>u.setUint32(4*e,t,s)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}e.SHA2=o},97946:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(t,e=!1){return e?{h:Number(t&r),l:Number(t>>n&r)}:{h:0|Number(t>>n&r),l:0|Number(t&r)}}function o(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=i(t[o],e);[r[o],n[o]]=[s,a]}return[r,n]}e.fromBig=i,e.split=o;e.toBig=(t,e)=>BigInt(t>>>0)<<n|BigInt(e>>>0);function s(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}}e.add=s;const a={fromBig:i,split:o,toBig:e.toBig,shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:s,add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};e.default=a},50534:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0}},45238:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const n=r(79131),i=r(23037);class o extends i.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,n.default.hash(t);const r=(0,i.toBytes)(e);if(this.iHash=t.create(),!(this.iHash instanceof i.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const o=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(o);s.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let n=0;n<s.length;n++)s[n]^=54;this.iHash.update(s),this.oHash=t.create();for(let n=0;n<s.length;n++)s[n]^=106;this.oHash.update(s),s.fill(0)}update(t){return n.default.exists(this),this.iHash.update(t),this}digestInto(t){n.default.exists(this),n.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return(t=t).finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,r)=>new o(t,e).update(r).digest(),e.hmac.create=(t,e)=>new o(t,e)},10820:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha256=void 0;const n=r(14955),i=r(23037),o=(t,e,r)=>t&e^t&r^e&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let i=0;i<16;i++,e+=4)u[i]=t.getUint32(e,!1);for(let o=16;o<64;o++){const t=u[o-15],e=u[o-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,n=(0,i.rotr)(e,17)^(0,i.rotr)(e,19)^e>>>10;u[o]=n+u[o-7]+r+u[o-16]|0}let{A:r,B:n,C:a,D:c,E:h,F:f,G:l,H:d}=this;for(let m=0;m<64;m++){const t=d+((0,i.rotr)(h,6)^(0,i.rotr)(h,11)^(0,i.rotr)(h,25))+((p=h)&f^~p&l)+s[m]+u[m]|0,e=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,a)|0;d=l,l=f,f=h,h=c+t|0,c=a,a=n,n=r,r=t+e|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,c=c+this.D|0,h=h+this.E|0,f=f+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,n,a,c,h,f,l,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}e.sha256=(0,i.wrapConstructor)((()=>new c))},84589:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shake256=e.shake128=e.keccak_512=e.keccak_384=e.keccak_256=e.keccak_224=e.sha3_512=e.sha3_384=e.sha3_256=e.sha3_224=e.Keccak=e.keccakP=void 0;const n=r(79131),i=r(97946),o=r(23037),[s,a,u]=[[],[],[]],c=BigInt(0),h=BigInt(1),f=BigInt(2),l=BigInt(7),d=BigInt(256),p=BigInt(113);for(let M=0,E=h,P=1,A=0;M<24;M++){[P,A]=[A,(2*P+3*A)%5],s.push(2*(5*A+P)),a.push((M+1)*(M+2)/2%64);let t=c;for(let e=0;e<7;e++)E=(E<<h^(E>>l)*p)%d,E&f&&(t^=h<<(h<<BigInt(e))-h);u.push(t)}const[m,g]=i.default.split(u,!0),y=(t,e,r)=>r>32?i.default.rotlBH(t,e,r):i.default.rotlSH(t,e,r),v=(t,e,r)=>r>32?i.default.rotlBL(t,e,r):i.default.rotlSL(t,e,r);function b(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let n=0;n<10;n++)r[n]=t[n]^t[n+10]^t[n+20]^t[n+30]^t[n+40];for(let n=0;n<10;n+=2){const e=(n+8)%10,i=(n+2)%10,o=r[i],s=r[i+1],a=y(o,s,1)^r[e],u=v(o,s,1)^r[e+1];for(let r=0;r<50;r+=10)t[n+r]^=a,t[n+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=a[r],o=y(e,i,n),u=v(e,i,n),c=s[r];e=t[c],i=t[c+1],t[c]=o,t[c+1]=u}for(let n=0;n<50;n+=10){for(let e=0;e<10;e++)r[e]=t[n+e];for(let e=0;e<10;e++)t[n+e]^=~r[(e+2)%10]&r[(e+4)%10]}t[0]^=m[n],t[1]^=g[n]}r.fill(0)}e.keccakP=b;class w extends o.Hash{constructor(t,e,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,n.default.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o.u32)(this.state)}keccak(){b(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){n.default.exists(this);const{blockLen:e,state:r}=this,i=(t=(0,o.toBytes)(t)).length;for(let n=0;n<i;){const o=Math.min(e-this.pos,i-n);for(let e=0;e<o;e++)r[this.pos++]^=t[n++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!==(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){n.default.exists(this,!1),n.default.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return n.default.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(n.default.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return t||(t=new w(e,r,n,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=o,t.destroyed=this.destroyed,t}}e.Keccak=w;const x=(t,e,r)=>(0,o.wrapConstructor)((()=>new w(e,t,r)));e.sha3_224=x(6,144,28),e.sha3_256=x(6,136,32),e.sha3_384=x(6,104,48),e.sha3_512=x(6,72,64),e.keccak_224=x(1,144,28),e.keccak_256=x(1,136,32),e.keccak_384=x(1,104,48),e.keccak_512=x(1,72,64);const k=(t,e,r)=>(0,o.wrapConstructorWithOpts)(((n={})=>new w(e,t,void 0===n.dkLen?r:n.dkLen,!0)));e.shake128=k(31,168,16),e.shake256=k(31,136,32)},23037:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=r(50534);e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=i[t[r]];return e},e.hexToBytes=function(t){if("string"!==typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e};function o(t){if("string"!==typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function s(t){if("string"===typeof t&&(t=o(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=o,e.toBytes=s,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r};e.Hash=class{clone(){return this._cloneInto()}};e.checkOpts=function(t,e){if(void 0!==e&&("object"!==typeof e||(r=e,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(s(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(s(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(t));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}},95053:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.schnorr=e.Signature=e.Point=e.CURVE=e.utils=e.getSharedSecret=e.recoverPublicKey=e.verify=e.signSync=e.sign=e.getPublicKey=void 0;const n=r(45238),i=r(10820),o=r(79656);var s=r(79656);Object.defineProperty(e,"getPublicKey",{enumerable:!0,get:function(){return s.getPublicKey}}),Object.defineProperty(e,"sign",{enumerable:!0,get:function(){return s.sign}}),Object.defineProperty(e,"signSync",{enumerable:!0,get:function(){return s.signSync}}),Object.defineProperty(e,"verify",{enumerable:!0,get:function(){return s.verify}}),Object.defineProperty(e,"recoverPublicKey",{enumerable:!0,get:function(){return s.recoverPublicKey}}),Object.defineProperty(e,"getSharedSecret",{enumerable:!0,get:function(){return s.getSharedSecret}}),Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return s.utils}}),Object.defineProperty(e,"CURVE",{enumerable:!0,get:function(){return s.CURVE}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return s.Point}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return s.Signature}}),Object.defineProperty(e,"schnorr",{enumerable:!0,get:function(){return s.schnorr}}),o.utils.hmacSha256Sync=(t,...e)=>{const r=n.hmac.create(i.sha256,t);return e.forEach((t=>r.update(t))),r.digest()}},58040:function(t,e,r){"use strict";t=r.nmd(t);var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const i=n(r(79131)),o=r(23037),s=i.default.bool;e.assertBool=s;const a=i.default.bytes;e.assertBytes=a;var u=r(23037);Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return u.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return u.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return u.utf8ToBytes}}),e.bytesToUtf8=function(t){if(!(t instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof t);return(new TextDecoder).decode(t)},e.hexToBytes=function(t){const e=t.startsWith("0x")?t.substring(2):t;return(0,o.hexToBytes)(e)},e.equalsBytes=function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},e.wrapHash=function(t){return e=>(i.default.bytes(e),t(e))},e.crypto=(()=>{const e="object"===typeof self&&"crypto"in self?self.crypto:void 0,r="function"===typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):void 0,web:e}})()},82045:function(t,e,r){"use strict";r.r(e),r.d(e,{BaseContract:function(){return a.VZ},BigNumber:function(){return u.O$},Contract:function(){return a.CH},ContractFactory:function(){return a.lV},FixedNumber:function(){return c.xs},Signer:function(){return h.E},VoidSigner:function(){return h.b},Wallet:function(){return f.Wallet},Wordlist:function(){return Ot.D},constants:function(){return n},errors:function(){return k.ErrorCode},ethers:function(){return s},getDefaultProvider:function(){return Tt},logger:function(){return ie},providers:function(){return i},utils:function(){return o},version:function(){return ne},wordlists:function(){return _t.E}});var n={};r.r(n),r.d(n,{AddressZero:function(){return l.d},EtherSymbol:function(){return m},HashZero:function(){return p.R},MaxInt256:function(){return d.PS},MaxUint256:function(){return d.Bz},MinInt256:function(){return d.$B},NegativeOne:function(){return d.tL},One:function(){return d.fh},Two:function(){return d.Py},WeiPerEther:function(){return d.Ce},Zero:function(){return d._Y}});var i={};r.r(i),r.d(i,{AlchemyProvider:function(){return R},AlchemyWebSocketProvider:function(){return H},AnkrProvider:function(){return U},BaseProvider:function(){return v.Zk},CloudflareProvider:function(){return Z},EtherscanProvider:function(){return tt},FallbackProvider:function(){return gt},Formatter:function(){return w.Mb},InfuraProvider:function(){return xt},InfuraWebSocketProvider:function(){return wt},IpcProvider:function(){return yt},JsonRpcBatchProvider:function(){return kt},JsonRpcProvider:function(){return x.r},JsonRpcSigner:function(){return x.C},NodesmithProvider:function(){return Et},PocketProvider:function(){return St},Provider:function(){return g.zt},Resolver:function(){return v.H2},StaticJsonRpcProvider:function(){return _},UrlJsonRpcProvider:function(){return O},Web3Provider:function(){return It.Q},WebSocketProvider:function(){return I},getDefaultProvider:function(){return Tt},getNetwork:function(){return y.H},isCommunityResourcable:function(){return w.Ed},isCommunityResource:function(){return w.Gp},showThrottleMessage:function(){return w.vh}});var o={};r.r(o),r.d(o,{AbiCoder:function(){return Ct.R},ConstructorFragment:function(){return Lt.Xg},ErrorFragment:function(){return Lt.IC},EventFragment:function(){return Lt.QV},FormatTypes:function(){return Lt.pc},Fragment:function(){return Lt.HY},FunctionFragment:function(){return Lt.YW},HDNode:function(){return Gt.HDNode},Indexed:function(){return Rt.Hk},Interface:function(){return Rt.vU},LogDescription:function(){return Rt.CC},Logger:function(){return k.Logger},ParamType:function(){return Lt._R},RLP:function(){return Wt},SigningKey:function(){return Xt.SigningKey},SupportedAlgorithm:function(){return re.p},TransactionDescription:function(){return Rt.vk},TransactionTypes:function(){return $.TransactionTypes},UnicodeNormalizationForm:function(){return Qt.Uj},Utf8ErrorFuncs:function(){return Qt.te},Utf8ErrorReason:function(){return Qt.Uw},_TypedDataEncoder:function(){return Zt.E},_fetchData:function(){return K._fetchData},_toEscapedUtf8String:function(){return Qt.U$},accessListify:function(){return $.accessListify},arrayify:function(){return G.arrayify},base58:function(){return Dt.Base58},base64:function(){return Nt},checkProperties:function(){return b.checkProperties},checkResultErrors:function(){return Ht.BR},commify:function(){return ee.commify},computeAddress:function(){return $.computeAddress},computeHmac:function(){return qt.Gy},computePublicKey:function(){return Xt.computePublicKey},concat:function(){return G.concat},deepCopy:function(){return b.deepCopy},defaultAbiCoder:function(){return Ct.$},defaultPath:function(){return Gt.defaultPath},defineReadOnly:function(){return b.defineReadOnly},dnsEncode:function(){return Ut.Kn},entropyToMnemonic:function(){return Gt.entropyToMnemonic},fetchJson:function(){return K.fetchJson},formatBytes32String:function(){return te.s},formatEther:function(){return ee.formatEther},formatUnits:function(){return ee.formatUnits},getAccountPath:function(){return Gt.getAccountPath},getAddress:function(){return Ft.getAddress},getContractAddress:function(){return Ft.getContractAddress},getCreate2Address:function(){return Ft.getCreate2Address},getIcapAddress:function(){return Ft.getIcapAddress},getJsonWalletAddress:function(){return $t.Rb},getStatic:function(){return b.getStatic},hashMessage:function(){return jt.r},hexConcat:function(){return G.hexConcat},hexDataLength:function(){return G.hexDataLength},hexDataSlice:function(){return G.hexDataSlice},hexStripZeros:function(){return G.hexStripZeros},hexValue:function(){return G.hexValue},hexZeroPad:function(){return G.hexZeroPad},hexlify:function(){return G.hexlify},id:function(){return zt.id},isAddress:function(){return Ft.isAddress},isBytes:function(){return G.isBytes},isBytesLike:function(){return G.isBytesLike},isHexString:function(){return G.isHexString},isValidMnemonic:function(){return Gt.isValidMnemonic},isValidName:function(){return Ut.r1},joinSignature:function(){return G.joinSignature},keccak256:function(){return Kt.keccak256},mnemonicToEntropy:function(){return Gt.mnemonicToEntropy},mnemonicToSeed:function(){return Gt.mnemonicToSeed},namehash:function(){return Ut.VM},nameprep:function(){return Yt.Ll},parseBytes32String:function(){return te.F},parseEther:function(){return ee.parseEther},parseTransaction:function(){return $.parse},parseUnits:function(){return ee.parseUnits},poll:function(){return K.poll},randomBytes:function(){return Jt.O},recoverAddress:function(){return $.recoverAddress},recoverPublicKey:function(){return Xt.recoverPublicKey},resolveProperties:function(){return b.resolveProperties},ripemd160:function(){return qt.bP},serializeTransaction:function(){return $.serialize},sha256:function(){return qt.JQ},sha512:function(){return qt.o},shallowCopy:function(){return b.shallowCopy},shuffled:function(){return et.y},solidityKeccak256:function(){return Vt.keccak256},solidityPack:function(){return Vt.pack},soliditySha256:function(){return Vt.sha256},splitSignature:function(){return G.splitSignature},stripZeros:function(){return G.stripZeros},toUtf8Bytes:function(){return Qt.Y0},toUtf8CodePoints:function(){return Qt.XL},toUtf8String:function(){return Qt.ZN},verifyMessage:function(){return f.verifyMessage},verifyTypedData:function(){return f.verifyTypedData},zeroPad:function(){return G.zeroPad}});var s={};r.r(s),r.d(s,{BaseContract:function(){return a.VZ},BigNumber:function(){return u.O$},Contract:function(){return a.CH},ContractFactory:function(){return a.lV},FixedNumber:function(){return c.xs},Signer:function(){return h.E},VoidSigner:function(){return h.b},Wallet:function(){return f.Wallet},Wordlist:function(){return Ot.D},constants:function(){return n},errors:function(){return k.ErrorCode},getDefaultProvider:function(){return Tt},logger:function(){return ie},providers:function(){return i},utils:function(){return o},version:function(){return ne},wordlists:function(){return _t.E}});var a=r(96519),u=r(2593),c=r(20335),h=r(48171),f=r(44958),l=r(9279),d=r(21046),p=r(57218);const m="\u039e";var g=r(64353),y=r(79861),v=r(97013),b=r(53587),w=r(30032),x=r(82169),k=r(80711),M=r(34216);let E=null;try{if(E=WebSocket,null==E)throw new Error("inject please")}catch(oe){const t=new k.Logger(M.i);E=function(){t.throwError("WebSockets not supported in this environment",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var P=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const A=new k.Logger(M.i);let S=1;class I extends x.r{constructor(t,e){"any"===e&&A.throwError("WebSocketProvider does not support 'any' network yet",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"===typeof t?t:"_websocket",e),this._pollingInterval=-1,this._wsReady=!1,"string"===typeof t?(0,b.defineReadOnly)(this,"_websocket",new E(this.connection.url)):(0,b.defineReadOnly)(this,"_websocket",t),(0,b.defineReadOnly)(this,"_requests",{}),(0,b.defineReadOnly)(this,"_subs",{}),(0,b.defineReadOnly)(this,"_subIds",{}),(0,b.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((t=>{this.websocket.send(this._requests[t].payload)}))},this.websocket.onmessage=t=>{const e=t.data,r=JSON.parse(e);if(null!=r.id){const t=String(r.id),n=this._requests[t];if(delete this._requests[t],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let t=null;r.error?(t=new Error(r.error.message||"unknown error"),(0,b.defineReadOnly)(t,"code",r.error.code||null),(0,b.defineReadOnly)(t,"response",e)):t=new Error("unknown error"),n.callback(t,void 0),this.emit("debug",{action:"response",error:t,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const t=this._subs[r.params.subscription];t&&t.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(t){A.throwError("cannot reset events block on WebSocketProvider",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(t){A.throwError("cannot set polling interval on WebSocketProvider",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return P(this,void 0,void 0,(function*(){return null}))}set polling(t){t&&A.throwError("cannot set polling on WebSocketProvider",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(t,e){const r=S++;return new Promise(((n,i)=>{const o=JSON.stringify({method:t,params:e,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:function(t,e){return t?i(t):n(e)},payload:o},this._wsReady&&this.websocket.send(o)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(t,e,r){return P(this,void 0,void 0,(function*(){let n=this._subIds[t];null==n&&(n=Promise.all(e).then((t=>this.send("eth_subscribe",t))),this._subIds[t]=n);const i=yield n;this._subs[i]={tag:t,processFunc:r}}))}_startEvent(t){switch(t.type){case"block":this._subscribe("block",["newHeads"],(t=>{const e=u.O$.from(t.number).toNumber();this._emitted.block=e,this.emit("block",e)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(t=>{this.emit("pending",t)}));break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],(e=>{null==e.removed&&(e.removed=!1),this.emit(t.filter,this.formatter.filterLog(e))}));break;case"tx":{const e=t=>{const e=t.hash;this.getTransactionReceipt(e).then((t=>{t&&this.emit(e,t)}))};e(t),this._subscribe("tx",["newHeads"],(t=>{this._events.filter((t=>"tx"===t.type)).forEach(e)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t)}}_stopEvent(t){let e=t.tag;if("tx"===t.type){if(this._events.filter((t=>"tx"===t.type)).length)return;e="tx"}else if(this.listenerCount(t.event))return;const r=this._subIds[e];r&&(delete this._subIds[e],r.then((t=>{this._subs[t]&&(delete this._subs[t],this.send("eth_unsubscribe",[t]))})))}destroy(){return P(this,void 0,void 0,(function*(){this.websocket.readyState===E.CONNECTING&&(yield new Promise((t=>{this.websocket.onopen=function(){t(!0)},this.websocket.onerror=function(){t(!1)}}))),this.websocket.close(1e3)}))}}var B=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const T=new k.Logger(M.i);class _ extends x.r{detectNetwork(){const t=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return B(this,void 0,void 0,(function*(){let e=this.network;return null==e&&(e=yield t.detectNetwork.call(this),e||T.throwError("no network detected",k.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,b.defineReadOnly)(this,"_network",e),this.emit("network",e,null))),e}))}}class O extends _{constructor(t,e){T.checkAbstract(new.target,O),t=(0,b.getStatic)(new.target,"getNetwork")(t),e=(0,b.getStatic)(new.target,"getApiKey")(e);super((0,b.getStatic)(new.target,"getUrl")(t,e),t),"string"===typeof e?(0,b.defineReadOnly)(this,"apiKey",e):null!=e&&Object.keys(e).forEach((t=>{(0,b.defineReadOnly)(this,t,e[t])}))}_startPending(){T.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(t){return T.throwError("API provider does not support signing",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(t){return t}static getUrl(t,e){return T.throwError("not implemented; sub-classes must override getUrl",k.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const C=new k.Logger(M.i),L="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class H extends I{constructor(t,e){const r=new R(t,e);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,b.defineReadOnly)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===L}}class R extends O{static getWebSocketProvider(t,e){return new H(t,e)}static getApiKey(t){return null==t?L:(t&&"string"!==typeof t&&C.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,e){let r=null;switch(t.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:C.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+e,throttleCallback:(t,r)=>(e===L&&(0,w.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===L}}const F=new k.Logger(M.i),N="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function D(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return F.throwArgumentError("unsupported network","name",t)}class U extends O{isCommunityResource(){return this.apiKey===N}static getApiKey(t){return null==t?N:t}static getUrl(t,e){null==e&&(e=N);const r={allowGzip:!0,url:"https://"+D(t.name)+e,throttleCallback:(t,r)=>(e.apiKey===N&&(0,w.vh)(),Promise.resolve(!0))};return null!=e.projectSecret&&(r.user="",r.password=e.projectSecret),r}}var j=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const z=new k.Logger(M.i);class Z extends O{static getApiKey(t){return null!=t&&z.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}static getUrl(t,e){let r=null;switch(t.name){case"homestead":r="https://cloudflare-eth.com/";break;default:z.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(t,e){const r=Object.create(null,{perform:{get:()=>super.perform}});return j(this,void 0,void 0,(function*(){if("getBlockNumber"===t){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,t,e)}))}}var G=r(93286),$=r(64377),K=r(58341),q=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const V=new k.Logger(M.i);function J(t){const e={};for(let r in t){if(null==t[r])continue;let n=t[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?(0,G.hexValue)((0,G.hexlify)(n)):"accessList"===r?"["+(0,$.accessListify)(n).map((t=>`{address:"${t.address}",storageKeys:["${t.storageKeys.join('","')}"]}`)).join(",")+"]":(0,G.hexlify)(n),e[r]=n)}return e}function W(t){if(0==t.status&&("No records found"===t.message||"No transactions found"===t.message))return t.result;if(1!=t.status||"string"!==typeof t.message||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function X(t){if(t&&0==t.status&&"NOTOK"==t.message&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if("2.0"!=t.jsonrpc){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function Y(t){if("pending"===t)throw new Error("pending not supported");return"latest"===t?t:parseInt(t.substring(2),16)}function Q(t,e,r){if("call"===t&&e.code===k.Logger.errors.SERVER_ERROR){const t=e.error;if(t&&(t.message.match(/reverted/i)||t.message.match(/VM execution error/i))){let r=t.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,G.isHexString)(r))return r;V.throwError("missing revert data in call exception",k.Logger.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===k.Logger.errors.SERVER_ERROR&&(e.error&&"string"===typeof e.error.message?n=e.error.message:"string"===typeof e.body?n=e.body:"string"===typeof e.responseText&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&V.throwError("insufficient funds for intrinsic transaction cost",k.Logger.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&V.throwError("nonce has already been used",k.Logger.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&V.throwError("replacement fee too low",k.Logger.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&V.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",k.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class tt extends v.Zk{constructor(t,e){super(t),(0,b.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,b.defineReadOnly)(this,"apiKey",e||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return V.throwArgumentError("unsupported network","network",this.network.name)}getUrl(t,e){const r=Object.keys(e).reduce(((t,r)=>{const n=e[r];return null!=n&&(t+=`&${r}=${n}`),t}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${t}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(t,e){return e.module=t,e.apikey=this.apiKey,e}fetch(t,e,r){return q(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(t,e),i=r?this.getPostData(t,e):null,o="proxy"===t?X:W;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(t,e)=>(this.isCommunityResource()&&(0,w.vh)(),Promise.resolve(!0))};let a=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(i).map((t=>`${t}=${i[t]}`)).join("&"));const u=yield(0,K.fetchJson)(s,a,o||X);return this.emit("debug",{action:"response",request:n,response:(0,b.deepCopy)(u),provider:this}),u}))}detectNetwork(){return q(this,void 0,void 0,(function*(){return this.network}))}perform(t,e){const r=Object.create(null,{perform:{get:()=>super.perform}});return q(this,void 0,void 0,(function*(){switch(t){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((t=>Q("sendTransaction",t,e.signedTransaction)));case"getBlock":if(e.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.transactionHash});case"call":{if("latest"!==e.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const t=J(e.transaction);t.module="proxy",t.action="eth_call";try{return yield this.fetch("proxy",t,!0)}catch(oe){return Q("call",oe,e.transaction)}}case"estimateGas":{const t=J(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return yield this.fetch("proxy",t,!0)}catch(oe){return Q("estimateGas",oe,e.transaction)}}case"getLogs":{const t={action:"getLogs"};if(e.filter.fromBlock&&(t.fromBlock=Y(e.filter.fromBlock)),e.filter.toBlock&&(t.toBlock=Y(e.filter.toBlock)),e.filter.address&&(t.address=e.filter.address),e.filter.topics&&e.filter.topics.length>0&&(e.filter.topics.length>1&&V.throwError("unsupported topic count",k.Logger.errors.UNSUPPORTED_OPERATION,{topics:e.filter.topics}),1===e.filter.topics.length)){const r=e.filter.topics[0];"string"===typeof r&&66===r.length||V.throwError("unsupported topic format",k.Logger.errors.UNSUPPORTED_OPERATION,{topic0:r}),t.topic0=r}const r=yield this.fetch("logs",t);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(null==t.blockHash){if(null==n[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(n[t.blockNumber]=e.hash)}t.blockHash=n[t.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,t,e)}))}getHistory(t,e,r){return q(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(t),startblock:null==e?0:e,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((t=>{["contractAddress","to"].forEach((function(e){""==t[e]&&delete t[e]})),null==t.creates&&null!=t.contractAddress&&(t.creates=t.contractAddress);const e=this.formatter.transactionResponse(t);return t.timeStamp&&(e.timestamp=parseInt(t.timeStamp)),e}))}))}isCommunityResource(){return null==this.apiKey}}var et=r(52472),rt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function a(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const nt=new k.Logger(M.i);function it(){return(new Date).getTime()}function ot(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(null==n)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||null==e.ensAddress&&null==n.ensAddress)||nt.throwArgumentError("provider mismatch","networks",t):e=n}return e}function st(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return null!=e&&Math.abs(n-i)>e?null:(n+i)/2}function at(t){if(null===t)return"null";if("number"===typeof t||"boolean"===typeof t)return JSON.stringify(t);if("string"===typeof t)return t;if(u.O$.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map((t=>at(t))));if("object"===typeof t){const e=Object.keys(t);return e.sort(),"{"+e.map((e=>{let r=t[e];return r="function"===typeof r?"[function]":at(r),JSON.stringify(e)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let ut=1;function ct(t){let e=null,r=null,n=new Promise((n=>{e=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(e,t)}));return{cancel:e,getPromise:function(){return n},wait:t=>(n=n.then(t),n)}}const ht=[k.Logger.errors.CALL_EXCEPTION,k.Logger.errors.INSUFFICIENT_FUNDS,k.Logger.errors.NONCE_EXPIRED,k.Logger.errors.REPLACEMENT_UNDERPRICED,k.Logger.errors.UNPREDICTABLE_GAS_LIMIT],ft=["address","args","errorArgs","errorSignature","method","transaction"];function lt(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function dt(t,e,r){let n=at;switch(e){case"getBlockNumber":return function(e){const r=e.map((t=>t.result));let n=st(e.map((t=>t.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=t._highestBlockNumber&&(t._highestBlockNumber=n),t._highestBlockNumber};case"getGasPrice":return function(t){const e=t.map((t=>t.result));return e.sort(),e[Math.floor(e.length/2)]};case"getEtherPrice":return function(t){return st(t.map((t=>t.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(t){return null==t?null:((t=(0,b.shallowCopy)(t)).confirmations=-1,at(t))};break;case"getBlock":n=r.includeTransactions?function(t){return null==t?null:((t=(0,b.shallowCopy)(t)).transactions=t.transactions.map((t=>((t=(0,b.shallowCopy)(t)).confirmations=-1,t))),at(t))}:function(t){return null==t?null:at(t)};break;default:throw new Error("unknown method: "+e)}return function(t,e){return function(r){const n={};r.forEach((e=>{const r=t(e.result);n[r]||(n[r]={count:0,result:e.result}),n[r].count++}));const i=Object.keys(n);for(let t=0;t<i.length;t++){const r=n[i[t]];if(r.count>=e)return r.result}}}(n,t.quorum)}function pt(t,e){return rt(this,void 0,void 0,(function*(){const r=t.provider;return null!=r.blockNumber&&r.blockNumber>=e||-1===e?r:(0,K.poll)((()=>new Promise(((n,i)=>{setTimeout((function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function mt(t,e,r,n){return rt(this,void 0,void 0,(function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,G.isHexString)(n.blockTag)&&(i=yield pt(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,G.isHexString)(n.blockTag)&&(i=yield pt(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,G.isHexString)(n.blockTag)&&(i=yield pt(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&(0,G.isHexString)(n.blockTag)&&(i=yield pt(t,e)),"call"===r&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&(0,G.isHexString)(r.fromBlock)||r.toBlock&&(0,G.isHexString)(r.toBlock))&&(i=yield pt(t,e)),i.getLogs(r)}}return nt.throwError("unknown method error",k.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class gt extends v.Zk{constructor(t,e){0===t.length&&nt.throwArgumentError("missing providers","providers",t);const r=t.map(((t,e)=>{if(g.zt.isProvider(t)){const e=(0,w.Gp)(t)?2e3:750,r=1;return Object.freeze({provider:t,weight:1,stallTimeout:e,priority:r})}const r=(0,b.shallowCopy)(t);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=(0,w.Gp)(t)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&nt.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${e}].weight`,n),Object.freeze(r)})),n=r.reduce(((t,e)=>t+e.weight),0);null==e?e=n/2:e>n&&nt.throwArgumentError("quorum will always fail; larger than total weight","quorum",e);let i=ot(r.map((t=>t.provider.network)));null==i&&(i=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then(t,e)}),0)}))),super(i),(0,b.defineReadOnly)(this,"providerConfigs",Object.freeze(r)),(0,b.defineReadOnly)(this,"quorum",e),this._highestBlockNumber=-1}detectNetwork(){return rt(this,void 0,void 0,(function*(){return ot(yield Promise.all(this.providerConfigs.map((t=>t.provider.getNetwork()))))}))}perform(t,e){return rt(this,void 0,void 0,(function*(){if("sendTransaction"===t){const t=yield Promise.all(this.providerConfigs.map((t=>t.provider.sendTransaction(e.signedTransaction).then((t=>t.hash),(t=>t)))));for(let e=0;e<t.length;e++){const r=t[e];if("string"===typeof r)return r}throw t[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==t&&(yield this.getBlockNumber());const r=dt(this,t,e),n=(0,et.y)(this.providerConfigs.map(b.shallowCopy));n.sort(((t,e)=>t.priority-e.priority));const i=this._highestBlockNumber;let o=0,s=!0;for(;;){const a=it();let u=n.filter((t=>t.runner&&a-t.start<t.stallTimeout)).reduce(((t,e)=>t+e.weight),0);for(;u<this.quorum&&o<n.length;){const r=n[o++],s=ut++;r.start=it(),r.staller=ct(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=mt(r,i,t,e).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:lt(r,it()),request:{method:t,params:(0,b.deepCopy)(e)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:lt(r,it()),request:{method:t,params:(0,b.deepCopy)(e)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:lt(r,null),request:{method:t,params:(0,b.deepCopy)(e)},provider:this}),u+=r.weight}const c=[];n.forEach((t=>{!t.done&&t.runner&&(c.push(t.runner),t.staller&&c.push(t.staller.getPromise()))})),c.length&&(yield Promise.race(c));const h=n.filter((t=>t.done&&null==t.error));if(h.length>=this.quorum){const t=r(h);if(void 0!==t)return n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0})),t;s||(yield ct(100).getPromise()),s=!1}const f=n.reduce(((t,e)=>{if(!e.done||null==e.error)return t;const r=e.error.code;return ht.indexOf(r)>=0&&(t[r]||(t[r]={error:e.error,weight:0}),t[r].weight+=e.weight),t}),{});if(Object.keys(f).forEach((t=>{const e=f[t];if(e.weight<this.quorum)return;n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0}));const r=e.error,i={};ft.forEach((t=>{null!=r[t]&&(i[t]=r[t])})),nt.throwError(r.reason||r.message,t,i)})),0===n.filter((t=>!t.done)).length)break}return n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0})),nt.throwError("failed to meet quorum",k.Logger.errors.SERVER_ERROR,{method:t,params:e,results:n.map((t=>lt(t))),provider:this})}))}}const yt=null,vt=new k.Logger(M.i),bt="84842078b09946638c03157f83405213";class wt extends I{constructor(t,e){const r=new xt(t,e),n=r.connection;n.password&&vt.throwError("INFURA WebSocket project secrets unsupported",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),t),(0,b.defineReadOnly)(this,"apiKey",r.projectId),(0,b.defineReadOnly)(this,"projectId",r.projectId),(0,b.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===bt}}class xt extends O{static getWebSocketProvider(t,e){return new wt(t,e)}static getApiKey(t){const e={apiKey:bt,projectId:bt,projectSecret:null};return null==t||("string"===typeof t?e.projectId=t:null!=t.projectSecret?(vt.assertArgument("string"===typeof t.projectId,"projectSecret requires a projectId","projectId",t.projectId),vt.assertArgument("string"===typeof t.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),e.projectId=t.projectId,e.projectSecret=t.projectSecret):t.projectId&&(e.projectId=t.projectId),e.apiKey=e.projectId),e}static getUrl(t,e){let r=null;switch(t?t.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:vt.throwError("unsupported network",k.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+e.projectId,throttleCallback:(t,r)=>(e.projectId===bt&&(0,w.vh)(),Promise.resolve(!0))};return null!=e.projectSecret&&(n.user="",n.password=e.projectSecret),n}isCommunityResource(){return this.projectId===bt}}class kt extends x.r{send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},i=new Promise(((t,e)=>{n.resolve=t,n.reject=e}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const t=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const e=t.map((t=>t.request));return this.emit("debug",{action:"requestBatch",request:(0,b.deepCopy)(e),provider:this}),(0,K.fetchJson)(this.connection,JSON.stringify(e)).then((r=>{this.emit("debug",{action:"response",request:e,response:r,provider:this}),t.forEach(((t,e)=>{const n=r[e];if(n.error){const e=new Error(n.error.message);e.code=n.error.code,e.data=n.error.data,t.reject(e)}else t.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:e,provider:this}),t.forEach((t=>{t.reject(r)}))}))}),10)),i}}const Mt=new k.Logger(M.i);class Et extends O{static getApiKey(t){return t&&"string"!==typeof t&&Mt.throwArgumentError("invalid apiKey","apiKey",t),t||"ETHERS_JS_SHARED"}static getUrl(t,e){Mt.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(t.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Mt.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+e}}const Pt=new k.Logger(M.i),At="62e1ad51b37b8e00394bda3b";class St extends O{static getApiKey(t){const e={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==t?e.applicationId=At:"string"===typeof t?e.applicationId=t:null!=t.applicationSecretKey?(e.applicationId=t.applicationId,e.applicationSecretKey=t.applicationSecretKey):t.applicationId?e.applicationId=t.applicationId:Pt.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),e}static getUrl(t,e){let r=null;switch(t?t.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:Pt.throwError("unsupported network",k.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const n={headers:{},url:`https://${r}/v1/lb/${e.applicationId}`};return null!=e.applicationSecretKey&&(n.user="",n.password=e.applicationSecretKey),n}isCommunityResource(){return this.applicationId===At}}var It=r(241);const Bt=new k.Logger(M.i);function Tt(t,e){if(null==t&&(t="homestead"),"string"===typeof t){const e=t.match(/^(ws|http)s?:/i);if(e)switch(e[1].toLowerCase()){case"http":case"https":return new x.r(t);case"ws":case"wss":return new I(t);default:Bt.throwArgumentError("unsupported URL scheme","network",t)}}const r=(0,y.H)(t);return r&&r._defaultProvider||Bt.throwError("unsupported getDefaultProvider network",k.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:gt,AlchemyProvider:R,AnkrProvider:U,CloudflareProvider:Z,EtherscanProvider:tt,InfuraProvider:xt,JsonRpcProvider:x.r,NodesmithProvider:Et,PocketProvider:St,Web3Provider:It.Q,IpcProvider:yt},e)}var _t=r(9855),Ot=r(48659),Ct=r(72734),Lt=r(11388),Ht=r(61184),Rt=r(8198),Ft=r(64594),Nt=r(4089),Dt=r(57727),Ut=r(78339),jt=r(93684),zt=r(32046),Zt=r(67827),Gt=r(36274),$t=r(67949),Kt=r(38197),qt=r(23951),Vt=r(33777),Jt=r(44478),Wt=r(61843),Xt=r(62768),Yt=r(35637),Qt=r(44242),te=r(86237),ee=r(46441),re=r(21261);const ne="ethers/5.7.2",ie=new k.Logger(ne);try{const t=window;null==t._ethers&&(t._ethers=s)}catch(oe){}},80884:function(t,e,r){"use strict";var n=r(48764).Buffer,i=r(23944),o=r(49604);function s(t){var e=t;if("string"!==typeof e)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function a(t){return"0x"+t.toString(16)}t.exports={arrayContainsArray:function(t,e,r){if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[Boolean(r)?"some":"every"]((function(e){return t.indexOf(e)>=0}))},intToBuffer:function(t){var e=a(t);return new n(s(e.slice(2)),"hex")},getBinarySize:function(t){if("string"!==typeof t)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return n.byteLength(t,"utf8")},isHexPrefixed:i,stripHexPrefix:o,padToEven:s,intToHex:a,fromAscii:function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},fromUtf8:function(t){return"0x"+s(new n(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},toUtf8:function(t){return new n(s(o(t).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if("string"!==typeof e)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if("string"!==typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}}},23944:function(t){t.exports=function(t){if("string"!==typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)}},96481:function(t,e,r){"use strict";var n=r(59177),i=n.ValidatorResult,o=n.SchemaError,s={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},a=s.validators={};function u(t,e,r,n,i){var o=e.throwError,s=e.throwAll;e.throwError=!1,e.throwAll=!1;var a=this.validateSchema(t,i,e,r);return e.throwError=o,e.throwAll=s,!a.valid&&n instanceof Function&&n(a),a.valid}function c(t,e){if(Object.hasOwnProperty.call(t,e))return t[e];if(e in t)for(;t=Object.getPrototypeOf(t);)if(Object.propertyIsEnumerable.call(t,e))return t[e]}function h(t,e,r,n,i,o){if(this.types.object(t)&&(!e.properties||void 0===e.properties[i]))if(!1===e.additionalProperties)o.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var s=e.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(t,i,s,r,n);var a=this.validateSchema(t[i],s,r,n.makeChild(s,i));a.instance!==o.instance[i]&&(o.instance[i]=a.instance),o.importErrors(a)}}a.type=function(t,e,r,n){if(void 0===t)return null;var o=new i(t,e,r,n),s=Array.isArray(e.type)?e.type:[e.type];if(!s.some(this.testType.bind(this,t,e,r,n))){var a=s.map((function(t){if(t){var e=t.$id||t.id;return e?"<"+e+">":t+""}}));o.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return o},a.anyOf=function(t,e,r,n){if(void 0===t)return null;var s=new i(t,e,r,n),a=new i(t,e,r,n);if(!Array.isArray(e.anyOf))throw new o("anyOf must be an array");if(!e.anyOf.some(u.bind(this,t,r,n,(function(t){a.importErrors(t)})))){var c=e.anyOf.map((function(t,e){var r=t.$id||t.id;return r?"<"+r+">":t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+e+"]"}));r.nestedErrors&&s.importErrors(a),s.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return s},a.allOf=function(t,e,r,n){if(void 0===t)return null;if(!Array.isArray(e.allOf))throw new o("allOf must be an array");var s=new i(t,e,r,n),a=this;return e.allOf.forEach((function(e,i){var o=a.validateSchema(t,e,r,n);if(!o.valid){var u=e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+i+"]";s.addError({name:"allOf",argument:{id:u,length:o.errors.length,valid:o},message:"does not match allOf schema "+u+" with "+o.errors.length+" error[s]:"}),s.importErrors(o)}})),s},a.oneOf=function(t,e,r,n){if(void 0===t)return null;if(!Array.isArray(e.oneOf))throw new o("oneOf must be an array");var s=new i(t,e,r,n),a=new i(t,e,r,n),c=e.oneOf.filter(u.bind(this,t,r,n,(function(t){a.importErrors(t)}))).length,h=e.oneOf.map((function(t,e){return t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+e+"]"}));return 1!==c&&(r.nestedErrors&&s.importErrors(a),s.addError({name:"oneOf",argument:h,message:"is not exactly one from "+h.join(",")})),s},a.if=function(t,e,r,o){if(void 0===t)return null;if(!n.isSchema(e.if))throw new Error('Expected "if" keyword to be a schema');var s,a=u.call(this,t,r,o,null,e.if),c=new i(t,e,r,o);if(a){if(void 0===e.then)return;if(!n.isSchema(e.then))throw new Error('Expected "then" keyword to be a schema');s=this.validateSchema(t,e.then,r,o.makeChild(e.then)),c.importErrors(s)}else{if(void 0===e.else)return;if(!n.isSchema(e.else))throw new Error('Expected "else" keyword to be a schema');s=this.validateSchema(t,e.else,r,o.makeChild(e.else)),c.importErrors(s)}return c},a.propertyNames=function(t,e,r,s){if(this.types.object(t)){var a=new i(t,e,r,s),u=void 0!==e.propertyNames?e.propertyNames:{};if(!n.isSchema(u))throw new o('Expected "propertyNames" to be a schema (object or boolean)');for(var h in t)if(void 0!==c(t,h)){var f=this.validateSchema(h,u,r,s.makeChild(u));a.importErrors(f)}return a}},a.properties=function(t,e,r,n){if(this.types.object(t)){var s=new i(t,e,r,n),a=e.properties||{};for(var u in a){var h=a[u];if(void 0!==h){if(null===h)throw new o('Unexpected null, expected schema in "properties"');"function"==typeof r.preValidateProperty&&r.preValidateProperty(t,u,h,r,n);var f=c(t,u),l=this.validateSchema(f,h,r,n.makeChild(h,u));l.instance!==s.instance[u]&&(s.instance[u]=l.instance),s.importErrors(l)}}return s}},a.patternProperties=function(t,e,r,n){if(this.types.object(t)){var s=new i(t,e,r,n),a=e.patternProperties||{};for(var u in t){var c=!0;for(var f in a){var l=a[f];if(void 0!==l){if(null===l)throw new o('Unexpected null, expected schema in "patternProperties"');try{var d=new RegExp(f,"u")}catch(m){d=new RegExp(f)}if(d.test(u)){c=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(t,u,l,r,n);var p=this.validateSchema(t[u],l,r,n.makeChild(l,u));p.instance!==s.instance[u]&&(s.instance[u]=p.instance),s.importErrors(p)}}}c&&h.call(this,t,e,r,n,u,s)}return s}},a.additionalProperties=function(t,e,r,n){if(this.types.object(t)){if(e.patternProperties)return null;var o=new i(t,e,r,n);for(var s in t)h.call(this,t,e,r,n,s,o);return o}},a.minProperties=function(t,e,r,n){if(this.types.object(t)){var o=new i(t,e,r,n);return Object.keys(t).length>=e.minProperties||o.addError({name:"minProperties",argument:e.minProperties,message:"does not meet minimum property length of "+e.minProperties}),o}},a.maxProperties=function(t,e,r,n){if(this.types.object(t)){var o=new i(t,e,r,n);return Object.keys(t).length<=e.maxProperties||o.addError({name:"maxProperties",argument:e.maxProperties,message:"does not meet maximum property length of "+e.maxProperties}),o}},a.items=function(t,e,r,n){var o=this;if(this.types.array(t)&&void 0!==e.items){var s=new i(t,e,r,n);return t.every((function(t,i){if(Array.isArray(e.items))var a=void 0===e.items[i]?e.additionalItems:e.items[i];else a=e.items;if(void 0===a)return!0;if(!1===a)return s.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=o.validateSchema(t,a,r,n.makeChild(a,i));return u.instance!==s.instance[i]&&(s.instance[i]=u.instance),s.importErrors(u),!0})),s}},a.contains=function(t,e,r,o){var s=this;if(this.types.array(t)&&void 0!==e.contains){if(!n.isSchema(e.contains))throw new Error('Expected "contains" keyword to be a schema');var a=new i(t,e,r,o);return!1===t.some((function(t,n){return 0===s.validateSchema(t,e.contains,r,o.makeChild(e.contains,n)).errors.length}))&&a.addError({name:"contains",argument:e.contains,message:"must contain an item matching given schema"}),a}},a.minimum=function(t,e,r,n){if(this.types.number(t)){var o=new i(t,e,r,n);return e.exclusiveMinimum&&!0===e.exclusiveMinimum?t>e.minimum||o.addError({name:"minimum",argument:e.minimum,message:"must be greater than "+e.minimum}):t>=e.minimum||o.addError({name:"minimum",argument:e.minimum,message:"must be greater than or equal to "+e.minimum}),o}},a.maximum=function(t,e,r,n){if(this.types.number(t)){var o=new i(t,e,r,n);return e.exclusiveMaximum&&!0===e.exclusiveMaximum?t<e.maximum||o.addError({name:"maximum",argument:e.maximum,message:"must be less than "+e.maximum}):t<=e.maximum||o.addError({name:"maximum",argument:e.maximum,message:"must be less than or equal to "+e.maximum}),o}},a.exclusiveMinimum=function(t,e,r,n){if("boolean"!==typeof e.exclusiveMinimum&&this.types.number(t)){var o=new i(t,e,r,n);return t>e.exclusiveMinimum||o.addError({name:"exclusiveMinimum",argument:e.exclusiveMinimum,message:"must be strictly greater than "+e.exclusiveMinimum}),o}},a.exclusiveMaximum=function(t,e,r,n){if("boolean"!==typeof e.exclusiveMaximum&&this.types.number(t)){var o=new i(t,e,r,n);return t<e.exclusiveMaximum||o.addError({name:"exclusiveMaximum",argument:e.exclusiveMaximum,message:"must be strictly less than "+e.exclusiveMaximum}),o}};var f=function(t,e,r,s,a,u){if(this.types.number(t)){var c=e[a];if(0==c)throw new o(a+" cannot be zero");var h=new i(t,e,r,s),f=n.getDecimalPlaces(t),l=n.getDecimalPlaces(c),d=Math.max(f,l),p=Math.pow(10,d);return Math.round(t*p)%Math.round(c*p)!==0&&h.addError({name:a,argument:c,message:u+JSON.stringify(c)}),h}};function l(t,e,r){var i,o=r.length;for(i=e+1;i<o;i++)if(n.deepCompareStrict(t,r[i]))return!1;return!0}a.multipleOf=function(t,e,r,n){return f.call(this,t,e,r,n,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(t,e,r,n){return f.call(this,t,e,r,n,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(t,e,r,n){var o=new i(t,e,r,n);return void 0===t&&!0===e.required?o.addError({name:"required",message:"is required"}):this.types.object(t)&&Array.isArray(e.required)&&e.required.forEach((function(e){void 0===c(t,e)&&o.addError({name:"required",argument:e,message:"requires property "+JSON.stringify(e)})})),o},a.pattern=function(t,e,r,n){if(this.types.string(t)){var o=new i(t,e,r,n),s=e.pattern;try{var a=new RegExp(s,"u")}catch(u){a=new RegExp(s)}return t.match(a)||o.addError({name:"pattern",argument:e.pattern,message:"does not match pattern "+JSON.stringify(e.pattern.toString())}),o}},a.format=function(t,e,r,o){if(void 0!==t){var s=new i(t,e,r,o);return s.disableFormat||n.isFormat(t,e.format,this)||s.addError({name:"format",argument:e.format,message:"does not conform to the "+JSON.stringify(e.format)+" format"}),s}},a.minLength=function(t,e,r,n){if(this.types.string(t)){var o=new i(t,e,r,n),s=t.match(/[\uDC00-\uDFFF]/g);return t.length-(s?s.length:0)>=e.minLength||o.addError({name:"minLength",argument:e.minLength,message:"does not meet minimum length of "+e.minLength}),o}},a.maxLength=function(t,e,r,n){if(this.types.string(t)){var o=new i(t,e,r,n),s=t.match(/[\uDC00-\uDFFF]/g);return t.length-(s?s.length:0)<=e.maxLength||o.addError({name:"maxLength",argument:e.maxLength,message:"does not meet maximum length of "+e.maxLength}),o}},a.minItems=function(t,e,r,n){if(this.types.array(t)){var o=new i(t,e,r,n);return t.length>=e.minItems||o.addError({name:"minItems",argument:e.minItems,message:"does not meet minimum length of "+e.minItems}),o}},a.maxItems=function(t,e,r,n){if(this.types.array(t)){var o=new i(t,e,r,n);return t.length<=e.maxItems||o.addError({name:"maxItems",argument:e.maxItems,message:"does not meet maximum length of "+e.maxItems}),o}},a.uniqueItems=function(t,e,r,n){if(!0===e.uniqueItems&&this.types.array(t)){var o=new i(t,e,r,n);return t.every(l)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},a.dependencies=function(t,e,r,n){if(this.types.object(t)){var o=new i(t,e,r,n);for(var s in e.dependencies)if(void 0!==t[s]){var a=e.dependencies[s],u=n.makeChild(a,s);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(e){void 0===t[e]&&o.addError({name:"dependencies",argument:u.propertyPath,message:"property "+e+" not found, required by "+u.propertyPath})}));else{var c=this.validateSchema(t,a,r,u);o.instance!==c.instance&&(o.instance=c.instance),c&&c.errors.length&&(o.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),o.importErrors(c))}}return o}},a.enum=function(t,e,r,s){if(void 0===t)return null;if(!Array.isArray(e.enum))throw new o("enum expects an array",e);var a=new i(t,e,r,s);return e.enum.some(n.deepCompareStrict.bind(null,t))||a.addError({name:"enum",argument:e.enum,message:"is not one of enum values: "+e.enum.map(String).join(",")}),a},a.const=function(t,e,r,o){if(void 0===t)return null;var s=new i(t,e,r,o);return n.deepCompareStrict(e.const,t)||s.addError({name:"const",argument:e.const,message:"does not exactly match expected constant: "+e.const}),s},a.not=a.disallow=function(t,e,r,n){var o=this;if(void 0===t)return null;var s=new i(t,e,r,n),a=e.not||e.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(i){if(o.testType(t,e,r,n,i)){var a=i&&(i.$id||i.id)||i;s.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),s):null},t.exports=s},59177:function(t,e,r){"use strict";var n=r(10861),i=e.ValidationError=function(t,e,r,n,i,o){if(Array.isArray(n)?(this.path=n,this.property=n.reduce((function(t,e){return t+f(e)}),"instance")):void 0!==n&&(this.property=n),t&&(this.message=t),r){var s=r.$id||r.id;this.schema=s||r}void 0!==e&&(this.instance=e),this.name=i,this.argument=o,this.stack=this.toString()};i.prototype.toString=function(){return this.property+" "+this.message};var o=e.ValidatorResult=function(t,e,r,n){this.instance=t,this.schema=e,this.options=r,this.path=n.path,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&!0===r.disableFormat};function s(t,e){return e+": "+t.toString()+"\n"}function a(t){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.instance=t.instance,this.schema=t.schema,this.options=t.options,this.errors=t.errors}o.prototype.addError=function(t){var e;if("string"==typeof t)e=new i(t,this.instance,this.schema,this.path);else{if(!t)throw new Error("Missing error detail");if(!t.message)throw new Error("Missing error message");if(!t.name)throw new Error("Missing validator type");e=new i(t.message,this.instance,this.schema,this.path,t.name,t.argument)}if(this.errors.push(e),this.throwFirst)throw new a(this);if(this.throwError)throw e;return e},o.prototype.importErrors=function(t){"string"==typeof t||t&&t.validatorType?this.addError(t):t&&t.errors&&(this.errors=this.errors.concat(t.errors))},o.prototype.toString=function(t){return this.errors.map(s).join("")},Object.defineProperty(o.prototype,"valid",{get:function(){return!this.errors.length}}),t.exports.ValidatorResultError=a,a.prototype=new Error,a.prototype.constructor=a,a.prototype.name="Validation Error";var u=e.SchemaError=function t(e,r){this.message=e,this.schema=r,Error.call(this,e),Error.captureStackTrace(this,t)};u.prototype=Object.create(Error.prototype,{constructor:{value:u,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=e.SchemaContext=function(t,e,r,n,i){this.schema=t,this.options=e,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce((function(t,e){return t+f(e)}),"instance")):this.propertyPath=r,this.base=n,this.schemas=i};c.prototype.resolve=function(t){return n.resolve(this.base,t)},c.prototype.makeChild=function(t,e){var r=void 0===e?this.path:this.path.concat([e]),i=t.$id||t.id,o=n.resolve(this.base,i||""),s=new c(t,this.options,r,o,Object.create(this.schemas));return i&&!s.schemas[o]&&(s.schemas[o]=t),s};var h=e.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(t){return"string"===typeof t&&parseFloat(t)===parseInt(t,10)&&!isNaN(t)},regex:function(t){var e=!0;try{new RegExp(t)}catch(r){e=!1}return e},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};h.regexp=h.regex,h.pattern=h.regex,h.ipv4=h["ip-address"],e.isFormat=function(t,e,r){if("string"===typeof t&&void 0!==h[e]){if(h[e]instanceof RegExp)return h[e].test(t);if("function"===typeof h[e])return h[e](t)}else if(r&&r.customFormats&&"function"===typeof r.customFormats[e])return r.customFormats[e](t);return!0};var f=e.makeSuffix=function(t){return(t=t.toString()).match(/[.\s\[\]]/)||t.match(/^[\d]/)?t.match(/^\d+$/)?"["+t+"]":"["+JSON.stringify(t)+"]":"."+t};function l(t,e,r,n){"object"===typeof r?e[n]=m(t[n],r):-1===t.indexOf(r)&&e.push(r)}function d(t,e,r){e[r]=t[r]}function p(t,e,r,n){"object"===typeof e[n]&&e[n]&&t[n]?r[n]=m(t[n],e[n]):r[n]=e[n]}function m(t,e){var r=Array.isArray(e),n=r&&[]||{};return r?(t=t||[],n=n.concat(t),e.forEach(l.bind(null,t,n))):(t&&"object"===typeof t&&Object.keys(t).forEach(d.bind(null,t,n)),Object.keys(e).forEach(p.bind(null,t,e,n))),n}function g(t){return"/"+encodeURIComponent(t).replace(/~/g,"%7E")}e.deepCompareStrict=function t(e,r){if(typeof e!==typeof r)return!1;if(Array.isArray(e))return!!Array.isArray(r)&&(e.length===r.length&&e.every((function(n,i){return t(e[i],r[i])})));if("object"===typeof e){if(!e||!r)return e===r;var n=Object.keys(e),i=Object.keys(r);return n.length===i.length&&n.every((function(n){return t(e[n],r[n])}))}return e===r},t.exports.deepMerge=m,e.objectGetPath=function(t,e){for(var r,n=e.split("/").slice(1);"string"==typeof(r=n.shift());){var i=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in t))return;t=t[i]}return t},e.encodePath=function(t){return t.map(g).join("")},e.getDecimalPlaces=function(t){var e=0;if(isNaN(t))return e;"number"!==typeof t&&(t=Number(t));var r=t.toString().split("e");if(2===r.length){if("-"!==r[1][0])return e;e=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(e+=n[1].length),e},e.isSchema=function(t){return"object"===typeof t&&t||"boolean"===typeof t}},40660:function(t,e,r){"use strict";var n=t.exports.Validator=r(43058);t.exports.ValidatorResult=r(59177).ValidatorResult,t.exports.ValidatorResultError=r(59177).ValidatorResultError,t.exports.ValidationError=r(59177).ValidationError,t.exports.SchemaError=r(59177).SchemaError,t.exports.SchemaScanResult=r(31287).SchemaScanResult,t.exports.scan=r(31287).scan,t.exports.validate=function(t,e,r){return(new n).validate(t,e,r)}},31287:function(t,e,r){"use strict";var n=r(10861),i=r(59177);function o(t,e){this.id=t,this.ref=e}t.exports.SchemaScanResult=o,t.exports.scan=function(t,e){function r(t,e){if(e&&"object"==typeof e)if(e.$ref){var o=n.resolve(t,e.$ref);c[o]=c[o]?c[o]+1:0}else{var h=e.$id||e.id,f=h?n.resolve(t,h):t;if(f){if(f.indexOf("#")<0&&(f+="#"),u[f]){if(!i.deepCompareStrict(u[f],e))throw new Error("Schema <"+f+"> already exists with different definition");return u[f]}u[f]=e,"#"==f[f.length-1]&&(u[f.substring(0,f.length-1)]=e)}s(f+"/items",Array.isArray(e.items)?e.items:[e.items]),s(f+"/extends",Array.isArray(e.extends)?e.extends:[e.extends]),r(f+"/additionalItems",e.additionalItems),a(f+"/properties",e.properties),r(f+"/additionalProperties",e.additionalProperties),a(f+"/definitions",e.definitions),a(f+"/patternProperties",e.patternProperties),a(f+"/dependencies",e.dependencies),s(f+"/disallow",e.disallow),s(f+"/allOf",e.allOf),s(f+"/anyOf",e.anyOf),s(f+"/oneOf",e.oneOf),r(f+"/not",e.not)}}function s(t,e){if(Array.isArray(e))for(var n=0;n<e.length;n++)r(t+"/"+n,e[n])}function a(t,e){if(e&&"object"==typeof e)for(var n in e)r(t+"/"+n,e[n])}var u={},c={};return r(t,e),new o(u,c)}},43058:function(t,e,r){"use strict";var n=r(10861),i=r(96481),o=r(59177),s=r(31287).scan,a=o.ValidatorResult,u=o.ValidatorResultError,c=o.SchemaError,h=o.SchemaContext,f=function t(){this.customFormats=Object.create(t.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(d),this.attributes=Object.create(i.validators)};function l(t){var e="string"===typeof t?t:t.$ref;return"string"==typeof e&&e}f.prototype.customFormats={},f.prototype.schemas=null,f.prototype.types=null,f.prototype.attributes=null,f.prototype.unresolvedRefs=null,f.prototype.addSchema=function(t,e){var r=this;if(!t)return null;var n=s(e||"/",t),i=e||t.$id||t.id;for(var o in n.id)this.schemas[o]=n.id[o];for(var o in n.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(t){return"undefined"===typeof r.schemas[t]})),this.schemas[i]},f.prototype.addSubSchemaArray=function(t,e){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addSubSchema(t,e[r])},f.prototype.addSubSchemaObject=function(t,e){if(e&&"object"==typeof e)for(var r in e)this.addSubSchema(t,e[r])},f.prototype.setSchemas=function(t){this.schemas=t},f.prototype.getSchema=function(t){return this.schemas[t]},f.prototype.validate=function(t,e,r,i){if("boolean"!==typeof e&&"object"!==typeof e||null===e)throw new c("Expected `schema` to be an object or boolean");r||(r={});var o,f=e.$id||e.id,l=n.resolve(r.base||"/",f||"");if(!i){(i=new h(e,r,[],l,Object.create(this.schemas))).schemas[l]||(i.schemas[l]=e);var d=s(l,e);for(var p in d.id){var m=d.id[p];i.schemas[p]=m}}if(r.required&&void 0===t)return(o=new a(t,e,r,i)).addError("is required, but is undefined"),o;if(!(o=this.validateSchema(t,e,r,i)))throw new Error("Result undefined");if(r.throwAll&&o.errors.length)throw new u(o);return o},f.prototype.validateSchema=function(t,e,r,n){var s=new a(t,e,r,n);if("boolean"===typeof e)!0===e?e={}:!1===e&&(e={type:[]});else if(!e)throw new Error("schema is undefined");if(e.extends)if(Array.isArray(e.extends)){var u={schema:e,ctx:n};e.extends.forEach(this.schemaTraverser.bind(this,u)),e=u.schema,u.schema=null,u.ctx=null,u=null}else e=o.deepMerge(e,this.superResolve(e.extends,n));var f=l(e);if(f){var d=this.resolve(e,f,n),p=new h(d.subschema,r,n.path,d.switchSchema,n.schemas);return this.validateSchema(t,d.subschema,r,p)}var m=r&&r.skipAttributes||[];for(var g in e)if(!i.ignoreProperties[g]&&m.indexOf(g)<0){var y=null,v=this.attributes[g];if(v)y=v.call(this,t,e,r,n);else if(!1===r.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,e);y&&s.importErrors(y)}if("function"==typeof r.rewrite){var b=r.rewrite.call(this,t,e,r,n);s.instance=b}return s},f.prototype.schemaTraverser=function(t,e){t.schema=o.deepMerge(t.schema,this.superResolve(e,t.ctx))},f.prototype.superResolve=function(t,e){var r=l(t);return r?this.resolve(t,r,e).subschema:t},f.prototype.resolve=function(t,e,r){if(e=r.resolve(e),r.schemas[e])return{subschema:r.schemas[e],switchSchema:e};var i=n.parse(e),s=i&&i.hash,a=s&&s.length&&e.substr(0,e.length-s.length);if(!a||!r.schemas[a])throw new c("no such schema <"+e+">",t);var u=o.objectGetPath(r.schemas[a],s.substr(1));if(void 0===u)throw new c("no such schema "+s+" located in <"+a+">",t);return{subschema:u,switchSchema:e}},f.prototype.testType=function(t,e,r,n,i){if(void 0!==i){if(null===i)throw new c('Unexpected null in "type" keyword');if("function"==typeof this.types[i])return this.types[i].call(this,t);if(i&&"object"==typeof i){var o=this.validateSchema(t,i,r,n);return void 0===o||!(o&&o.errors.length)}return!0}};var d=f.prototype.types={};d.string=function(t){return"string"==typeof t},d.number=function(t){return"number"==typeof t&&isFinite(t)},d.integer=function(t){return"number"==typeof t&&t%1===0},d.boolean=function(t){return"boolean"==typeof t},d.array=function(t){return Array.isArray(t)},d.null=function(t){return null===t},d.date=function(t){return t instanceof Date},d.any=function(t){return!0},d.object=function(t){return t&&"object"===typeof t&&!Array.isArray(t)&&!(t instanceof Date)},t.exports=f},49604:function(t,e,r){var n=r(23944);t.exports=function(t){return"string"!==typeof t?t:n(t)?t.slice(2):t}},16885:function(t,e,r){var n=r(88924).Buffer;!function(e,r){"use strict";t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())}(this,(function(){"use strict";var t={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!==typeof t)throw new TypeError("expected string");var e,r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n},t.encodeUTF8=function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(r.join("")))},"undefined"===typeof atob?"undefined"!==typeof n.from?(t.encodeBase64=function(t){return n.from(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(n.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new n(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new n(t,"base64"),0))}):(t.encodeBase64=function(t){var e,r=[],n=t.length;for(e=0;e<n;e++)r.push(String.fromCharCode(t[e]));return btoa(r.join(""))},t.decodeBase64=function(t){e(t);var r,n=atob(t),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),t}))},50746:function(t){"use strict";t.exports=JSON.parse('{"name":"goerli","chainId":5,"networkId":5,"defaultHardfork":"merge","consensus":{"type":"poa","algorithm":"clique","clique":{"period":15,"epoch":30000}},"comment":"Cross-client PoA test network","url":"https://github.com/goerli/testnet","genesis":{"timestamp":"0x5c51a607","gasLimit":10485760,"difficulty":1,"nonce":"0x0000000000000000","extraData":"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},"hardforks":[{"name":"chainstart","block":0,"forkHash":"0xa3f5ab08"},{"name":"homestead","block":0,"forkHash":"0xa3f5ab08"},{"name":"tangerineWhistle","block":0,"forkHash":"0xa3f5ab08"},{"name":"spuriousDragon","block":0,"forkHash":"0xa3f5ab08"},{"name":"byzantium","block":0,"forkHash":"0xa3f5ab08"},{"name":"constantinople","block":0,"forkHash":"0xa3f5ab08"},{"name":"petersburg","block":0,"forkHash":"0xa3f5ab08"},{"name":"istanbul","block":1561651,"forkHash":"0xc25efa5c"},{"name":"berlin","block":4460644,"forkHash":"0x757a1c47"},{"name":"london","block":5062605,"forkHash":"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818","name":"merge","ttd":"10790000","block":7382819,"forkHash":"0xb8c6299d"},{"name":"mergeForkIdTransition","block":null,"forkHash":null},{"name":"shanghai","block":null,"forkHash":null}],"bootstrapNodes":[{"ip":"51.141.78.53","port":30303,"id":"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a","location":"","comment":"Upstream bootnode 1"},{"ip":"13.93.54.137","port":30303,"id":"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b","location":"","comment":"Upstream bootnode 2"},{"ip":"94.237.54.114","port":30313,"id":"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291","location":"","comment":"Upstream bootnode 3"},{"ip":"18.218.250.66","port":30313,"id":"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949","location":"","comment":"Upstream bootnode 4"},{"ip":"3.11.147.67","port":30303,"id":"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91","location":"","comment":"Ethereum Foundation bootnode"},{"ip":"51.15.116.226","port":30303,"id":"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd","location":"","comment":"Goerli Initiative bootnode"},{"ip":"51.15.119.157","port":30303,"id":"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33","location":"","comment":"Goerli Initiative bootnode"},{"ip":"51.15.119.157","port":40303,"id":"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd","location":"","comment":"Goerli Initiative bootnode"}],"dnsNetworks":["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]}')},6331:function(t){"use strict";t.exports=JSON.parse('{"name":"mainnet","chainId":1,"networkId":1,"defaultHardfork":"merge","consensus":{"type":"pow","algorithm":"ethash","ethash":{}},"comment":"The Ethereum main chain","url":"https://ethstats.net/","genesis":{"gasLimit":5000,"difficulty":17179869184,"nonce":"0x0000000000000042","extraData":"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},"hardforks":[{"name":"chainstart","block":0,"forkHash":"0xfc64ec04"},{"name":"homestead","block":1150000,"forkHash":"0x97c2c34c"},{"name":"dao","block":1920000,"forkHash":"0x91d1f948"},{"name":"tangerineWhistle","block":2463000,"forkHash":"0x7a64da13"},{"name":"spuriousDragon","block":2675000,"forkHash":"0x3edd5b10"},{"name":"byzantium","block":4370000,"forkHash":"0xa00bc324"},{"name":"constantinople","block":7280000,"forkHash":"0x668db0af"},{"name":"petersburg","block":7280000,"forkHash":"0x668db0af"},{"name":"istanbul","block":9069000,"forkHash":"0x879d6e30"},{"name":"muirGlacier","block":9200000,"forkHash":"0xe029e991"},{"name":"berlin","block":12244000,"forkHash":"0x0eb440f6"},{"name":"london","block":12965000,"forkHash":"0xb715077d"},{"name":"arrowGlacier","block":13773000,"forkHash":"0x20c327fc"},{"name":"grayGlacier","block":15050000,"forkHash":"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393","name":"merge","ttd":"58750000000000000000000","block":15537394,"forkHash":"0xf0afd0e3"},{"name":"mergeForkIdTransition","block":null,"forkHash":null},{"name":"shanghai","block":null,"forkHash":null}],"bootstrapNodes":[{"ip":"18.138.108.67","port":30303,"id":"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666","location":"ap-southeast-1-001","comment":"bootnode-aws-ap-southeast-1-001"},{"ip":"3.209.45.79","port":30303,"id":"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de","location":"us-east-1-001","comment":"bootnode-aws-us-east-1-001"},{"ip":"34.255.23.113","port":30303,"id":"ca6de62fce278f96aea6ec5a2daadb877e51651247cb96ee310a318def462913b653963c155a0ef6c7d50048bba6e6cea881130857413d9f50a621546b590758","location":"eu-west-1-001","comment":"bootnode-aws-eu-west-1-001"},{"ip":"35.158.244.151","port":30303,"id":"279944d8dcd428dffaa7436f25ca0ca43ae19e7bcf94a8fb7d1641651f92d121e972ac2e8f381414b80cc8e5555811c2ec6e1a99bb009b3f53c4c69923e11bd8","location":"eu-central-1-001","comment":"bootnode-aws-eu-central-1-001"},{"ip":"52.187.207.27","port":30303,"id":"8499da03c47d637b20eee24eec3c356c9a2e6148d6fe25ca195c7949ab8ec2c03e3556126b0d7ed644675e78c4318b08691b7b57de10e5f0d40d05b09238fa0a","location":"australiaeast-001","comment":"bootnode-azure-australiaeast-001"},{"ip":"191.234.162.198","port":30303,"id":"103858bdb88756c71f15e9b5e09b56dc1be52f0a5021d46301dbbfb7e130029cc9d0d6f73f693bc29b665770fff7da4d34f3c6379fe12721b5d7a0bcb5ca1fc1","location":"brazilsouth-001","comment":"bootnode-azure-brazilsouth-001"},{"ip":"52.231.165.108","port":30303,"id":"715171f50508aba88aecd1250af392a45a330af91d7b90701c436b618c86aaa1589c9184561907bebbb56439b8f8787bc01f49a7c77276c58c1b09822d75e8e8","location":"koreasouth-001","comment":"bootnode-azure-koreasouth-001"},{"ip":"104.42.217.25","port":30303,"id":"5d6d7cd20d6da4bb83a1d28cadb5d409b64edf314c0335df658c1a54e32c7c4a7ab7823d57c39b6a757556e68ff1df17c748b698544a55cb488b52479a92b60f","location":"westus-001","comment":"bootnode-azure-westus-001"}],"dnsNetworks":["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]}')},54135:function(t){"use strict";t.exports=JSON.parse('{"name":"rinkeby","chainId":4,"networkId":4,"defaultHardfork":"london","consensus":{"type":"poa","algorithm":"clique","clique":{"period":15,"epoch":30000}},"comment":"PoA test network","url":"https://www.rinkeby.io","genesis":{"timestamp":"0x58ee40ba","gasLimit":4700000,"difficulty":1,"nonce":"0x0000000000000000","extraData":"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},"hardforks":[{"name":"chainstart","block":0,"forkHash":"0x3b8e0691"},{"name":"homestead","block":1,"forkHash":"0x60949295"},{"name":"tangerineWhistle","block":2,"forkHash":"0x8bde40dd"},{"name":"spuriousDragon","block":3,"forkHash":"0xcb3a64bb"},{"name":"byzantium","block":1035301,"forkHash":"0x8d748b57"},{"name":"constantinople","block":3660663,"forkHash":"0xe49cab14"},{"name":"petersburg","block":4321234,"forkHash":"0xafec6b27"},{"name":"istanbul","block":5435345,"forkHash":"0xcbdb8838"},{"name":"berlin","block":8290928,"forkHash":"0x6910c8bd"},{"name":"london","block":8897988,"forkHash":"0x8e29f2f3"},{"name":"merge","block":null,"forkHash":null},{"name":"shanghai","block":null,"forkHash":null}],"bootstrapNodes":[{"ip":"52.169.42.101","port":30303,"id":"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf","location":"","comment":"IE"},{"ip":"52.3.158.184","port":30303,"id":"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8","location":"","comment":"INFURA"},{"ip":"159.89.28.211","port":30303,"id":"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6","location":"","comment":"AKASHA"}],"dnsNetworks":["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.rinkeby.ethdisco.net"]}')},35358:function(t){"use strict";t.exports=JSON.parse('{"name":"ropsten","chainId":3,"networkId":3,"defaultHardfork":"merge","consensus":{"type":"pow","algorithm":"ethash","ethash":{}},"comment":"PoW test network","url":"https://github.com/ethereum/ropsten","genesis":{"gasLimit":16777216,"difficulty":1048576,"nonce":"0x0000000000000042","extraData":"0x3535353535353535353535353535353535353535353535353535353535353535"},"hardforks":[{"name":"chainstart","block":0,"forkHash":"0x30c7ddbc"},{"name":"homestead","block":0,"forkHash":"0x30c7ddbc"},{"name":"tangerineWhistle","block":0,"forkHash":"0x30c7ddbc"},{"name":"spuriousDragon","block":10,"forkHash":"0x63760190"},{"name":"byzantium","block":1700000,"forkHash":"0x3ea159c7"},{"name":"constantinople","block":4230000,"forkHash":"0x97b544f3"},{"name":"petersburg","block":4939394,"forkHash":"0xd6e2149b"},{"name":"istanbul","block":6485846,"forkHash":"0x4bc66396"},{"name":"muirGlacier","block":7117117,"forkHash":"0x6727ef90"},{"name":"berlin","block":9812189,"forkHash":"0xa157d377"},{"name":"london","block":10499401,"forkHash":"0x7119b6b3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge","name":"merge","ttd":"50000000000000000","block":null,"forkHash":"0x7119b6b3"},{"name":"mergeForkIdTransition","block":null,"forkHash":null},{"name":"shanghai","block":null,"forkHash":null}],"bootstrapNodes":[{"ip":"52.176.7.10","port":30303,"id":"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606","location":"","comment":"US-Azure geth"},{"ip":"52.176.100.77","port":30303,"id":"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c","location":"","comment":"US-Azure parity"},{"ip":"52.232.243.152","port":30303,"id":"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f","location":"","comment":"Parity"},{"ip":"192.81.208.223","port":30303,"id":"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09","location":"","comment":"@gpip"}],"dnsNetworks":["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.ropsten.ethdisco.net"]}')},6956:function(t){"use strict";t.exports=JSON.parse('{"name":"sepolia","chainId":11155111,"networkId":11155111,"defaultHardfork":"merge","consensus":{"type":"pow","algorithm":"ethash","ethash":{}},"comment":"PoW test network to replace Ropsten","url":"https://github.com/ethereum/go-ethereum/pull/23730","genesis":{"timestamp":"0x6159af19","gasLimit":30000000,"difficulty":131072,"nonce":"0x0000000000000000","extraData":"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},"hardforks":[{"name":"chainstart","block":0,"forkHash":"0xfe3366e7"},{"name":"homestead","block":0,"forkHash":"0xfe3366e7"},{"name":"tangerineWhistle","block":0,"forkHash":"0xfe3366e7"},{"name":"spuriousDragon","block":0,"forkHash":"0xfe3366e7"},{"name":"byzantium","block":0,"forkHash":"0xfe3366e7"},{"name":"constantinople","block":0,"forkHash":"0xfe3366e7"},{"name":"petersburg","block":0,"forkHash":"0xfe3366e7"},{"name":"istanbul","block":0,"forkHash":"0xfe3366e7"},{"name":"muirGlacier","block":0,"forkHash":"0xfe3366e7"},{"name":"berlin","block":0,"forkHash":"0xfe3366e7"},{"name":"london","block":0,"forkHash":"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408","name":"merge","ttd":"17000000000000000","block":1450409,"forkHash":"0xfe3366e7"},{"name":"mergeForkIdTransition","block":1735371,"forkHash":"0xb96cbd13"},{"name":"shanghai","block":null,"forkHash":null}],"bootstrapNodes":[{"ip":"18.168.182.86","port":30303,"id":"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066","location":"","comment":"geth"},{"ip":"52.14.151.177","port":30303,"id":"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7","location":"","comment":"besu"},{"ip":"165.22.196.173","port":30303,"id":"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6","location":"","comment":"EF"},{"ip":"65.108.95.67","port":30303,"id":"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6","location":"","comment":"lodestar"}],"dnsNetworks":["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]}')},27303:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-1153","number":1153,"comment":"Transient Storage","url":"https://eips.ethereum.org/EIPS/eip-1153","status":"Review","minimumHardfork":"chainstart","requiredEIPs":[],"gasConfig":{},"gasPrices":{"tstore":{"v":100,"d":"Base fee of the TSTORE opcode"},"tload":{"v":100,"d":"Base fee of the TLOAD opcode"}},"vm":{},"pow":{}}')},57346:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-1559","number":1559,"comment":"Fee market change for ETH 1.0 chain","url":"https://eips.ethereum.org/EIPS/eip-1559","status":"Final","minimumHardfork":"berlin","requiredEIPs":[2930],"gasConfig":{"baseFeeMaxChangeDenominator":{"v":8,"d":"Maximum base fee change denominator"},"elasticityMultiplier":{"v":2,"d":"Maximum block gas target elasticity"},"initialBaseFee":{"v":1000000000,"d":"Initial base fee on first EIP1559 block"}},"gasPrices":{},"vm":{},"pow":{}}')},39774:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-2315","number":2315,"comment":"Simple subroutines for the EVM","url":"https://eips.ethereum.org/EIPS/eip-2315","status":"Draft","minimumHardfork":"istanbul","gasConfig":{},"gasPrices":{"beginsub":{"v":2,"d":"Base fee of the BEGINSUB opcode"},"returnsub":{"v":5,"d":"Base fee of the RETURNSUB opcode"},"jumpsub":{"v":10,"d":"Base fee of the JUMPSUB opcode"}},"vm":{},"pow":{}}')},16928:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-2537","number":2537,"comment":"BLS12-381 precompiles","url":"https://eips.ethereum.org/EIPS/eip-2537","status":"Draft","minimumHardfork":"chainstart","gasConfig":{},"gasPrices":{"Bls12381G1AddGas":{"v":600,"d":"Gas cost of a single BLS12-381 G1 addition precompile-call"},"Bls12381G1MulGas":{"v":12000,"d":"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},"Bls12381G2AddGas":{"v":4500,"d":"Gas cost of a single BLS12-381 G2 addition precompile-call"},"Bls12381G2MulGas":{"v":55000,"d":"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},"Bls12381PairingBaseGas":{"v":115000,"d":"Base gas cost of BLS12-381 pairing check"},"Bls12381PairingPerPairGas":{"v":23000,"d":"Per-pair gas cost of BLS12-381 pairing check"},"Bls12381MapG1Gas":{"v":5500,"d":"Gas cost of BLS12-381 map field element to G1"},"Bls12381MapG2Gas":{"v":110000,"d":"Gas cost of BLS12-381 map field element to G2"},"Bls12381MultiExpGasDiscount":{"v":[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],"d":"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},"vm":{},"pow":{}}')},78143:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-2565","number":2565,"comment":"ModExp gas cost","url":"https://eips.ethereum.org/EIPS/eip-2565","status":"Final","minimumHardfork":"byzantium","gasConfig":{},"gasPrices":{"modexpGquaddivisor":{"v":3,"d":"Gquaddivisor from modexp precompile for gas calculation"}},"vm":{},"pow":{}}')},45620:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-2718","comment":"Typed Transaction Envelope","url":"https://eips.ethereum.org/EIPS/eip-2718","status":"Final","minimumHardfork":"chainstart","gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},93689:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-2929","comment":"Gas cost increases for state access opcodes","url":"https://eips.ethereum.org/EIPS/eip-2929","status":"Final","minimumHardfork":"chainstart","gasConfig":{},"gasPrices":{"coldsload":{"v":2100,"d":"Gas cost of the first read of storage from a given location (per transaction)"},"coldaccountaccess":{"v":2600,"d":"Gas cost of the first read of a given address (per transaction)"},"warmstorageread":{"v":100,"d":"Gas cost of reading storage locations which have already loaded \'cold\'"},"sstoreCleanGasEIP2200":{"v":2900,"d":"Once per SSTORE operation from clean non-zero to something else"},"sstoreNoopGasEIP2200":{"v":100,"d":"Once per SSTORE operation if the value doesn\'t change"},"sstoreDirtyGasEIP2200":{"v":100,"d":"Once per SSTORE operation if a dirty value is changed"},"sstoreInitRefundEIP2200":{"v":19900,"d":"Once per SSTORE operation for resetting to the original zero value"},"sstoreCleanRefundEIP2200":{"v":4900,"d":"Once per SSTORE operation for resetting to the original non-zero value"},"call":{"v":0,"d":"Base fee of the CALL opcode"},"callcode":{"v":0,"d":"Base fee of the CALLCODE opcode"},"delegatecall":{"v":0,"d":"Base fee of the DELEGATECALL opcode"},"staticcall":{"v":0,"d":"Base fee of the STATICCALL opcode"},"balance":{"v":0,"d":"Base fee of the BALANCE opcode"},"extcodesize":{"v":0,"d":"Base fee of the EXTCODESIZE opcode"},"extcodecopy":{"v":0,"d":"Base fee of the EXTCODECOPY opcode"},"extcodehash":{"v":0,"d":"Base fee of the EXTCODEHASH opcode"},"sload":{"v":0,"d":"Base fee of the SLOAD opcode"},"sstore":{"v":0,"d":"Base fee of the SSTORE opcode"}},"vm":{},"pow":{}}')},58631:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-2930","comment":"Optional access lists","url":"https://eips.ethereum.org/EIPS/eip-2930","status":"Final","minimumHardfork":"istanbul","requiredEIPs":[2718,2929],"gasConfig":{},"gasPrices":{"accessListStorageKeyCost":{"v":1900,"d":"Gas cost per storage key in an Access List transaction"},"accessListAddressCost":{"v":2400,"d":"Gas cost per storage key in an Access List transaction"}},"vm":{},"pow":{}}')},16234:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3074","number":3074,"comment":"AUTH and AUTHCALL opcodes","url":"https://eips.ethereum.org/EIPS/eip-3074","status":"Review","minimumHardfork":"london","gasConfig":{},"gasPrices":{"auth":{"v":3100,"d":"Gas cost of the AUTH opcode"},"authcall":{"v":0,"d":"Gas cost of the AUTHCALL opcode"},"authcallValueTransfer":{"v":6700,"d":"Paid for CALL when the value transfer is non-zero"}},"vm":{},"pow":{}}')},37079:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3198","number":3198,"comment":"BASEFEE opcode","url":"https://eips.ethereum.org/EIPS/eip-3198","status":"Final","minimumHardfork":"london","gasConfig":{},"gasPrices":{"basefee":{"v":2,"d":"Gas cost of the BASEFEE opcode"}},"vm":{},"pow":{}}')},88179:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3529","comment":"Reduction in refunds","url":"https://eips.ethereum.org/EIPS/eip-3529","status":"Final","minimumHardfork":"berlin","requiredEIPs":[2929],"gasConfig":{"maxRefundQuotient":{"v":5,"d":"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},"gasPrices":{"selfdestructRefund":{"v":0,"d":"Refunded following a selfdestruct operation"},"sstoreClearRefundEIP2200":{"v":4800,"d":"Once per SSTORE operation for clearing an originally existing storage slot"}},"vm":{},"pow":{}}')},48803:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3540","number":3540,"comment":"EVM Object Format (EOF) v1","url":"https://eips.ethereum.org/EIPS/eip-3540","status":"Review","minimumHardfork":"london","requiredEIPs":[3541],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},812:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3541","comment":"Reject new contracts starting with the 0xEF byte","url":"https://eips.ethereum.org/EIPS/eip-3541","status":"Final","minimumHardfork":"berlin","requiredEIPs":[],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},81884:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3554","comment":"Reduction in refunds","url":"Difficulty Bomb Delay to December 1st 2021","status":"Final","minimumHardfork":"muirGlacier","requiredEIPs":[],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{"difficultyBombDelay":{"v":9500000,"d":"the amount of blocks to delay the difficulty bomb with"}}}')},12887:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3607","number":3607,"comment":"Reject transactions from senders with deployed code","url":"https://eips.ethereum.org/EIPS/eip-3607","status":"Final","minimumHardfork":"chainstart","requiredEIPs":[],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},99349:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3651","number":3198,"comment":"Warm COINBASE","url":"https://eips.ethereum.org/EIPS/eip-3651","status":"Review","minimumHardfork":"london","requiredEIPs":[2929],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},92914:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3670","number":3670,"comment":"EOF - Code Validation","url":"https://eips.ethereum.org/EIPS/eip-3670","status":"Review","minimumHardfork":"london","requiredEIPs":[3540],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},6131:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3675","number":3675,"comment":"Upgrade consensus to Proof-of-Stake","url":"https://eips.ethereum.org/EIPS/eip-3675","status":"Final","minimumHardfork":"london","requiredEIPs":[],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},86035:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3855","number":3855,"comment":"PUSH0 instruction","url":"https://eips.ethereum.org/EIPS/eip-3855","status":"Review","minimumHardfork":"chainstart","requiredEIPs":[],"gasConfig":{},"gasPrices":{"push0":{"v":2,"d":"Base fee of the PUSH0 opcode"}},"vm":{},"pow":{}}')},19331:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-3860","number":3860,"comment":"Limit and meter initcode","url":"https://eips.ethereum.org/EIPS/eip-3860","status":"Review","minimumHardfork":"spuriousDragon","requiredEIPs":[],"gasConfig":{},"gasPrices":{"initCodeWordCost":{"v":2,"d":"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},"vm":{"maxInitCodeSize":{"v":49152,"d":"Maximum length of initialization code when creating a contract"}},"pow":{}}')},85878:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-4345","number":4345,"comment":"Difficulty Bomb Delay to June 2022","url":"https://eips.ethereum.org/EIPS/eip-4345","status":"Final","minimumHardfork":"london","gasConfig":{},"gasPrices":{},"vm":{},"pow":{"difficultyBombDelay":{"v":10700000,"d":"the amount of blocks to delay the difficulty bomb with"}}}')},84648:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-4399","number":4399,"comment":"Supplant DIFFICULTY opcode with PREVRANDAO","url":"https://eips.ethereum.org/EIPS/eip-4399","status":"Review","minimumHardfork":"london","requiredEIPs":[],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},21471:function(t){"use strict";t.exports=JSON.parse('{"name":"EIP-5133","number":5133,"comment":"Delaying Difficulty Bomb to mid-September 2022","url":"https://eips.ethereum.org/EIPS/eip-5133","status":"Draft","minimumHardfork":"grayGlacier","gasConfig":{},"gasPrices":{},"vm":{},"pow":{"difficultyBombDelay":{"v":11400000,"d":"the amount of blocks to delay the difficulty bomb with"}}}')},28748:function(t){"use strict";t.exports=JSON.parse('{"name":"arrowGlacier","comment":"HF to delay the difficulty bomb","url":"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md","status":"Final","eips":[4345],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},63430:function(t){"use strict";t.exports=JSON.parse('{"name":"berlin","comment":"HF targeted for July 2020 following the Muir Glacier HF","url":"https://eips.ethereum.org/EIPS/eip-2070","status":"Final","eips":[2565,2929,2718,2930]}')},25239:function(t){"use strict";t.exports=JSON.parse('{"name":"byzantium","comment":"Hardfork with new precompiles, instructions and other protocol changes","url":"https://eips.ethereum.org/EIPS/eip-609","status":"Final","gasConfig":{},"gasPrices":{"modexpGquaddivisor":{"v":20,"d":"Gquaddivisor from modexp precompile for gas calculation"},"ecAdd":{"v":500,"d":"Gas costs for curve addition precompile"},"ecMul":{"v":40000,"d":"Gas costs for curve multiplication precompile"},"ecPairing":{"v":100000,"d":"Base gas costs for curve pairing precompile"},"ecPairingWord":{"v":80000,"d":"Gas costs regarding curve pairing precompile input length"},"revert":{"v":0,"d":"Base fee of the REVERT opcode"},"staticcall":{"v":700,"d":"Base fee of the STATICCALL opcode"},"returndatasize":{"v":2,"d":"Base fee of the RETURNDATASIZE opcode"},"returndatacopy":{"v":3,"d":"Base fee of the RETURNDATACOPY opcode"}},"vm":{},"pow":{"minerReward":{"v":"3000000000000000000","d":"the amount a miner get rewarded for mining a block"},"difficultyBombDelay":{"v":3000000,"d":"the amount of blocks to delay the difficulty bomb with"}}}')},41220:function(t){"use strict";t.exports=JSON.parse('{"name":"chainstart","comment":"Start of the Ethereum main chain","url":"","status":"","gasConfig":{"minGasLimit":{"v":5000,"d":"Minimum the gas limit may ever be"},"gasLimitBoundDivisor":{"v":1024,"d":"The bound divisor of the gas limit, used in update calculations"},"maxRefundQuotient":{"v":2,"d":"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},"gasPrices":{"base":{"v":2,"d":"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},"tierStep":{"v":[0,2,3,5,8,10,20],"d":"Once per operation, for a selection of them"},"exp":{"v":10,"d":"Base fee of the EXP opcode"},"expByte":{"v":10,"d":"Times ceil(log256(exponent)) for the EXP instruction"},"sha3":{"v":30,"d":"Base fee of the SHA3 opcode"},"sha3Word":{"v":6,"d":"Once per word of the SHA3 operation\'s data"},"sload":{"v":50,"d":"Base fee of the SLOAD opcode"},"sstoreSet":{"v":20000,"d":"Once per SSTORE operation if the zeroness changes from zero"},"sstoreReset":{"v":5000,"d":"Once per SSTORE operation if the zeroness does not change from zero"},"sstoreRefund":{"v":15000,"d":"Once per SSTORE operation if the zeroness changes to zero"},"jumpdest":{"v":1,"d":"Base fee of the JUMPDEST opcode"},"log":{"v":375,"d":"Base fee of the LOG opcode"},"logData":{"v":8,"d":"Per byte in a LOG* operation\'s data"},"logTopic":{"v":375,"d":"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},"create":{"v":32000,"d":"Base fee of the CREATE opcode"},"call":{"v":40,"d":"Base fee of the CALL opcode"},"callStipend":{"v":2300,"d":"Free gas given at beginning of call"},"callValueTransfer":{"v":9000,"d":"Paid for CALL when the value transfor is non-zero"},"callNewAccount":{"v":25000,"d":"Paid for CALL when the destination address didn\'t exist prior"},"selfdestructRefund":{"v":24000,"d":"Refunded following a selfdestruct operation"},"memory":{"v":3,"d":"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},"quadCoeffDiv":{"v":512,"d":"Divisor for the quadratic particle of the memory cost equation"},"createData":{"v":200,"d":""},"tx":{"v":21000,"d":"Per transaction. NOTE: Not payable on data of calls between transactions"},"txCreation":{"v":32000,"d":"The cost of creating a contract via tx"},"txDataZero":{"v":4,"d":"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},"txDataNonZero":{"v":68,"d":"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},"copy":{"v":3,"d":"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},"ecRecover":{"v":3000,"d":""},"sha256":{"v":60,"d":""},"sha256Word":{"v":12,"d":""},"ripemd160":{"v":600,"d":""},"ripemd160Word":{"v":120,"d":""},"identity":{"v":15,"d":""},"identityWord":{"v":3,"d":""},"stop":{"v":0,"d":"Base fee of the STOP opcode"},"add":{"v":3,"d":"Base fee of the ADD opcode"},"mul":{"v":5,"d":"Base fee of the MUL opcode"},"sub":{"v":3,"d":"Base fee of the SUB opcode"},"div":{"v":5,"d":"Base fee of the DIV opcode"},"sdiv":{"v":5,"d":"Base fee of the SDIV opcode"},"mod":{"v":5,"d":"Base fee of the MOD opcode"},"smod":{"v":5,"d":"Base fee of the SMOD opcode"},"addmod":{"v":8,"d":"Base fee of the ADDMOD opcode"},"mulmod":{"v":8,"d":"Base fee of the MULMOD opcode"},"signextend":{"v":5,"d":"Base fee of the SIGNEXTEND opcode"},"lt":{"v":3,"d":"Base fee of the LT opcode"},"gt":{"v":3,"d":"Base fee of the GT opcode"},"slt":{"v":3,"d":"Base fee of the SLT opcode"},"sgt":{"v":3,"d":"Base fee of the SGT opcode"},"eq":{"v":3,"d":"Base fee of the EQ opcode"},"iszero":{"v":3,"d":"Base fee of the ISZERO opcode"},"and":{"v":3,"d":"Base fee of the AND opcode"},"or":{"v":3,"d":"Base fee of the OR opcode"},"xor":{"v":3,"d":"Base fee of the XOR opcode"},"not":{"v":3,"d":"Base fee of the NOT opcode"},"byte":{"v":3,"d":"Base fee of the BYTE opcode"},"address":{"v":2,"d":"Base fee of the ADDRESS opcode"},"balance":{"v":20,"d":"Base fee of the BALANCE opcode"},"origin":{"v":2,"d":"Base fee of the ORIGIN opcode"},"caller":{"v":2,"d":"Base fee of the CALLER opcode"},"callvalue":{"v":2,"d":"Base fee of the CALLVALUE opcode"},"calldataload":{"v":3,"d":"Base fee of the CALLDATALOAD opcode"},"calldatasize":{"v":2,"d":"Base fee of the CALLDATASIZE opcode"},"calldatacopy":{"v":3,"d":"Base fee of the CALLDATACOPY opcode"},"codesize":{"v":2,"d":"Base fee of the CODESIZE opcode"},"codecopy":{"v":3,"d":"Base fee of the CODECOPY opcode"},"gasprice":{"v":2,"d":"Base fee of the GASPRICE opcode"},"extcodesize":{"v":20,"d":"Base fee of the EXTCODESIZE opcode"},"extcodecopy":{"v":20,"d":"Base fee of the EXTCODECOPY opcode"},"blockhash":{"v":20,"d":"Base fee of the BLOCKHASH opcode"},"coinbase":{"v":2,"d":"Base fee of the COINBASE opcode"},"timestamp":{"v":2,"d":"Base fee of the TIMESTAMP opcode"},"number":{"v":2,"d":"Base fee of the NUMBER opcode"},"difficulty":{"v":2,"d":"Base fee of the DIFFICULTY opcode"},"gaslimit":{"v":2,"d":"Base fee of the GASLIMIT opcode"},"pop":{"v":2,"d":"Base fee of the POP opcode"},"mload":{"v":3,"d":"Base fee of the MLOAD opcode"},"mstore":{"v":3,"d":"Base fee of the MSTORE opcode"},"mstore8":{"v":3,"d":"Base fee of the MSTORE8 opcode"},"sstore":{"v":0,"d":"Base fee of the SSTORE opcode"},"jump":{"v":8,"d":"Base fee of the JUMP opcode"},"jumpi":{"v":10,"d":"Base fee of the JUMPI opcode"},"pc":{"v":2,"d":"Base fee of the PC opcode"},"msize":{"v":2,"d":"Base fee of the MSIZE opcode"},"gas":{"v":2,"d":"Base fee of the GAS opcode"},"push":{"v":3,"d":"Base fee of the PUSH opcode"},"dup":{"v":3,"d":"Base fee of the DUP opcode"},"swap":{"v":3,"d":"Base fee of the SWAP opcode"},"callcode":{"v":40,"d":"Base fee of the CALLCODE opcode"},"return":{"v":0,"d":"Base fee of the RETURN opcode"},"invalid":{"v":0,"d":"Base fee of the INVALID opcode"},"selfdestruct":{"v":0,"d":"Base fee of the SELFDESTRUCT opcode"}},"vm":{"stackLimit":{"v":1024,"d":"Maximum size of VM stack allowed"},"callCreateDepth":{"v":1024,"d":"Maximum depth of call/create stack"},"maxExtraDataSize":{"v":32,"d":"Maximum size extra data may be after Genesis"}},"pow":{"minimumDifficulty":{"v":131072,"d":"The minimum that the difficulty may ever be"},"difficultyBoundDivisor":{"v":2048,"d":"The bound divisor of the difficulty, used in the update calculations"},"durationLimit":{"v":13,"d":"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},"epochDuration":{"v":30000,"d":"Duration between proof-of-work epochs"},"timebombPeriod":{"v":100000,"d":"Exponential difficulty timebomb period"},"minerReward":{"v":"5000000000000000000","d":"the amount a miner get rewarded for mining a block"},"difficultyBombDelay":{"v":0,"d":"the amount of blocks to delay the difficulty bomb with"}}}')},72175:function(t){"use strict";t.exports=JSON.parse('{"name":"constantinople","comment":"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)","url":"https://eips.ethereum.org/EIPS/eip-1013","status":"Final","gasConfig":{},"gasPrices":{"netSstoreNoopGas":{"v":200,"d":"Once per SSTORE operation if the value doesn\'t change"},"netSstoreInitGas":{"v":20000,"d":"Once per SSTORE operation from clean zero"},"netSstoreCleanGas":{"v":5000,"d":"Once per SSTORE operation from clean non-zero"},"netSstoreDirtyGas":{"v":200,"d":"Once per SSTORE operation from dirty"},"netSstoreClearRefund":{"v":15000,"d":"Once per SSTORE operation for clearing an originally existing storage slot"},"netSstoreResetRefund":{"v":4800,"d":"Once per SSTORE operation for resetting to the original non-zero value"},"netSstoreResetClearRefund":{"v":19800,"d":"Once per SSTORE operation for resetting to the original zero value"},"shl":{"v":3,"d":"Base fee of the SHL opcode"},"shr":{"v":3,"d":"Base fee of the SHR opcode"},"sar":{"v":3,"d":"Base fee of the SAR opcode"},"extcodehash":{"v":400,"d":"Base fee of the EXTCODEHASH opcode"},"create2":{"v":32000,"d":"Base fee of the CREATE2 opcode"}},"vm":{},"pow":{"minerReward":{"v":"2000000000000000000","d":"The amount a miner gets rewarded for mining a block"},"difficultyBombDelay":{"v":5000000,"d":"the amount of blocks to delay the difficulty bomb with"}}}')},39684:function(t){"use strict";t.exports=JSON.parse('{"name":"dao","comment":"DAO rescue hardfork","url":"https://eips.ethereum.org/EIPS/eip-779","status":"Final","gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},95536:function(t){"use strict";t.exports=JSON.parse('{"name":"grayGlacier","comment":"Delaying the difficulty bomb to Mid September 2022","url":"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md","status":"Draft","eips":[5133],"gasConfig":{},"gasPrices":{},"vm":{},"pow":{}}')},35109:function(t){"use strict";t.exports=JSON.parse('{"name":"homestead","comment":"Homestead hardfork with protocol and network changes","url":"https://eips.ethereum.org/EIPS/eip-606","status":"Final","gasConfig":{},"gasPrices":{"delegatecall":{"v":40,"d":"Base fee of the DELEGATECALL opcode"}},"vm":{},"pow":{}}')},97947:function(t){"use strict";t.exports=JSON.parse('{"name":"istanbul","comment":"HF targeted for December 2019 following the Constantinople/Petersburg HF","url":"https://eips.ethereum.org/EIPS/eip-1679","status":"Final","gasConfig":{},"gasPrices":{"blake2Round":{"v":1,"d":"Gas cost per round for the Blake2 F precompile"},"ecAdd":{"v":150,"d":"Gas costs for curve addition precompile"},"ecMul":{"v":6000,"d":"Gas costs for curve multiplication precompile"},"ecPairing":{"v":45000,"d":"Base gas costs for curve pairing precompile"},"ecPairingWord":{"v":34000,"d":"Gas costs regarding curve pairing precompile input length"},"txDataNonZero":{"v":16,"d":"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},"sstoreSentryGasEIP2200":{"v":2300,"d":"Minimum gas required to be present for an SSTORE call, not consumed"},"sstoreNoopGasEIP2200":{"v":800,"d":"Once per SSTORE operation if the value doesn\'t change"},"sstoreDirtyGasEIP2200":{"v":800,"d":"Once per SSTORE operation if a dirty value is changed"},"sstoreInitGasEIP2200":{"v":20000,"d":"Once per SSTORE operation from clean zero to non-zero"},"sstoreInitRefundEIP2200":{"v":19200,"d":"Once per SSTORE operation for resetting to the original zero value"},"sstoreCleanGasEIP2200":{"v":5000,"d":"Once per SSTORE operation from clean non-zero to something else"},"sstoreCleanRefundEIP2200":{"v":4200,"d":"Once per SSTORE operation for resetting to the original non-zero value"},"sstoreClearRefundEIP2200":{"v":15000,"d":"Once per SSTORE operation for clearing an originally existing storage slot"},"balance":{"v":700,"d":"Base fee of the BALANCE opcode"},"extcodehash":{"v":700,"d":"Base fee of the EXTCODEHASH opcode"},"chainid":{"v":2,"d":"Base fee of the CHAINID opcode"},"selfbalance":{"v":5,"d":"Base fee of the SELFBALANCE opcode"},"sload":{"v":800,"d":"Base fee of the SLOAD opcode"}},"vm":{},"pow":{}}')},22354:function(t){"use strict";t.exports=JSON.parse('{"name":"london","comment":"HF targeted for July 2021 following the Berlin fork","url":"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md","status":"Final","eips":[1559,3198,3529,3541]}')},71722:function(t){"use strict";t.exports=JSON.parse('{"name":"merge","comment":"Hardfork to upgrade the consensus mechanism to Proof-of-Stake","url":"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md","status":"Draft","consensus":{"type":"pos","algorithm":"casper","casper":{}},"eips":[3675,4399]}')},70953:function(t){"use strict";t.exports=JSON.parse('{"name":"mergeForkIdTransition","comment":"Pre-merge hardfork to fork off non-upgraded clients","url":"https://eips.ethereum.org/EIPS/eip-3675","status":"Draft","eips":[]}')},42119:function(t){"use strict";t.exports=JSON.parse('{"name":"muirGlacier","comment":"HF to delay the difficulty bomb","url":"https://eips.ethereum.org/EIPS/eip-2384","status":"Final","gasConfig":{},"gasPrices":{},"vm":{},"pow":{"difficultyBombDelay":{"v":9000000,"d":"the amount of blocks to delay the difficulty bomb with"}}}')},73983:function(t){"use strict";t.exports=JSON.parse('{"name":"petersburg","comment":"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople","url":"https://eips.ethereum.org/EIPS/eip-1716","status":"Final","gasConfig":{},"gasPrices":{"netSstoreNoopGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreInitGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreCleanGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreDirtyGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreClearRefund":{"v":null,"d":"Removed along EIP-1283"},"netSstoreResetRefund":{"v":null,"d":"Removed along EIP-1283"},"netSstoreResetClearRefund":{"v":null,"d":"Removed along EIP-1283"}},"vm":{},"pow":{}}')},9988:function(t){"use strict";t.exports=JSON.parse('{"name":"shanghai","comment":"Next feature hardfork after the merge hardfork","url":"https://github.com/ethereum/pm/issues/356","status":"Pre-Draft","eips":[]}')},47466:function(t){"use strict";t.exports=JSON.parse('{"name":"spuriousDragon","comment":"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit","url":"https://eips.ethereum.org/EIPS/eip-607","status":"Final","gasConfig":{},"gasPrices":{"expByte":{"v":50,"d":"Times ceil(log256(exponent)) for the EXP instruction"}},"vm":{"maxCodeSize":{"v":24576,"d":"Maximum length of contract code"}},"pow":{}}')},28092:function(t){"use strict";t.exports=JSON.parse('{"name":"tangerineWhistle","comment":"Hardfork with gas cost changes for IO-heavy operations","url":"https://eips.ethereum.org/EIPS/eip-608","status":"Final","gasConfig":{},"gasPrices":{"sload":{"v":200,"d":"Once per SLOAD operation"},"call":{"v":700,"d":"Once per CALL operation & message call transaction"},"extcodesize":{"v":700,"d":"Base fee of the EXTCODESIZE opcode"},"extcodecopy":{"v":700,"d":"Base fee of the EXTCODECOPY opcode"},"balance":{"v":400,"d":"Base fee of the BALANCE opcode"},"delegatecall":{"v":700,"d":"Base fee of the DELEGATECALL opcode"},"callcode":{"v":700,"d":"Base fee of the CALLCODE opcode"},"selfdestruct":{"v":5000,"d":"Base fee of the SELFDESTRUCT opcode"}},"vm":{},"pow":{}}')}}]);